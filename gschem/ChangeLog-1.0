2007-05-26 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_image.c: Applied fix for "Write image" seg fault found (and
	fixed) by Robert Fitzsimons.  Thanks!

2007-05-25 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Updated version to 20070526 in prep for the next
        release.

2007-05-15 Peter Clifton <pcjc2@cam.ac.uk>

	* src/o_complex.c: Fixed offset in o_complex_translate_all to
	  be relative to bottom left of world bounds. This bug appears
	  to have crept in when switching to world coords, as the
	  numerical sense of "top" and "bottom" are switched around.
	  These variables eventually need renaming {x|y}_{min|max} to
	  avoid further confusion.

2007-05-14 Werner Hoch  <werner.ho@gmx.de>

	*po/de_DE.po: updated german translation

	*src/rcstrings.c: added new menu entries

2007-05-13 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/nl_NL.po: Copied in new updated Dutch translation from 
	Bert Timmerman.  Thanks.

	* po/it_IT.po: Copied in new updated Italian translation from
	Michele Petrecca.  Thanks.

2007-05-10 Peter Brett <peter@peter-b.co.uk>

	* include/prototype.h, src/x_menus.c: Provide
	  g_file_set_contents() if GLib < 2.8.

	  Patch from Ivan Stankovic, fixing problem with recent files
	  support where gschem didn't work on systems with older versions
	  of GLib, due to g_file_set_contents() not being available.

2007-05-05 Peter Brett <peter@peter-b.co.uk>

	* include/prototype.h, lib/system-gschemrc.in, src/gschem.c,
	  src/x_menus.c, src/x_window.c: Add "Recent Files" list to
	  gschem.

	  Applied patch #1706411 by Ivan Stankovic, which adds a list of
	  recently-accessed files to gschem's File menu.
	
2007-04-27 Carlos Nieves Onega <cnieves (AT) iespana (DOT) es>

	* src/x_image.c: Added sanity check.
	
	* po/es_ES.po: Updated spanish translation.
	
2007-04-22 Carlos Nieves Onega <cnieves (AT) iespana (DOT) es>

	* include/prototype.h, src/g_keys.c, src/g_register.c,
	  i_callbacks.c: Remove "help-manual" Guile callback.

	  Apply patch by Peter Brett.

	  The role of the "help-manual" Guile function exported by
	  gschem has been superceded by the new "gschem-browse-wiki"
	  function.  This patch removes "help-manual" from the C
	  source code entirely; "help-manual" is now a Scheme function
	  defined in "system-gschemrc".


	* lib/system-gschemrc.in: Use gschem-browse-wiki also
	  when opening the manual. 

	  Found a workaround to use gschem-browse-wiki if the user 
	  wants to display the manual (the manual page is not in 
	  the wiki directory).

2007-04-21 Ales Hvezda   <ahvezda@geda.seul.org>

	* gschem/po/de_DE.po gschem/po/es_ES.po gschem/po/fr_FR.po
	gschem/po/geda-gschem.pot gschem/po/it_IT.po gschem/po/ja_JP.po
	gschem/po/nl_NL.po gschem/po/pt_BR.po gschem/po/ru.po: Updated
	all po and pot files (via make dist) in prep for a release
	(a few weeks from now).

2007-04-21 Peter Clifton <pcjc2@cam.ac.uk>

	* src/gschem.c, src/i_callbacks.c, src/x_fileselect.c, src/x_pagesel.c,
	  src/x_window.c: Cleaned up and consolidated code which creates
	  new pages.  This makes the code cleaner and easier to read,
	  and fixes bugs related to stray, "unknown" named pages being
	  left when creating a new window.  Fixes bug #1699970, with
	  changes based upon patch #1704834.

	* src/o_undo.c: Whitespace and readability fixes, removed some
	  unused code.

2007-04-21  Mike Jarabek  <mjarabek@sentex.ca>

	* scripts/print.scm: Commented out first the four lines so that
	  printing defaults don't get accidentally overridden.

2007-04-21 Peter Brett <peter@peter-b.co.uk>

	* lib/system-gschemrc.in: Change keystrokes for grid size change
	shortcuts.

	Incrementing/decrementing the grid size is something that users
	are likely to do several times in quick succession.  As such, it
	the keystroke should be a single key. This sets
	increment/decrement to ']' and '[' respectively.
	
2007-04-21 Peter Clifton <pcjc2@cam.ac.uk>

	* src/g_keys.c, src/x_print.c: Check return value of
	  gdk_keyval_name() is non NULL before attempting to match
	  against it. Fixes bug #1692634.

	* configure.ac.in: Added explicit test for locale.h

	* src/i_callbacks.c: Make test for revert page question more
	  succinct, testing for the absence of the "YES" response, rather
	  than for the various ways the user might cancel the dialog.

	* src/o_arc.c: Fix for drawing a dotted arc / circle with
	  angular dot spacing too small to render. Was a sign error
	  in the alternative codepath for drawing these cases.

2007-04-21 Carlos Nieves Onega <cnieves (AT) iespana (DOT) es>

       * configure.ac.in, scripts/Makefile.am, scripts/config.sh.in,
	 scripts/gschemdoc.sh:

	 Applied patch by Peter Brett. Moved gschemdoc from
	 utils/scripts to gschem/scripts.
	
       * lib/system-gschemrc.in: Use PgUp & PgDn to change pages in gschem.

	 Applied patch from Peter Brett. Thanks!

	 Not only is it more intuitive to use the page keys to swap
	 between pages, but the current bindings ('<' & '>') don't
	 work on German keyboards.
	
       * src/x_fileselect.c:
	 Make "Save" the default response in the save page dialog.
	 FR #1704919. Thanks to rikster for reporting this FR.
	
       * src/x_dialog.c:
	 Make "Save changes" the default response in the close page
	 confirmation dialog.

       * src/o_picture.c, src/x_attribedit.c, src/x_autonumber.c,
	 src/x_compselect.c, src/x_dialog.c, src/x_fileselect.c,
	 src/x_image.c, src/x_log.c, src/x_multiattrib.c,
	 src/x_pagesel.c, src/x_print.c, src/x_script.c,
	 src/i_callbacks.c:

	 - Set the alternative button order for gtk dialogs 
	   (now with correct responses).
	   
	 - Reverted the changes below. 
	   gtk_dialog_set_alternative_button_order should have the same
	   responses as the dialogs.
	 
	 - Set the alternative button order for gtk dialogs.
	 This would allow to display the correct button order whatever
	 system is running this app. Fix for bug #1553483.

	* src/i_callbacks.c:
	  - Do nothing if the user deletes the page revert question dialog.
	
	  - Pop up a message if there is no component selected and the user
	  hits help->component documentation menu.
	
	* src/x_compselect.c: 
	  Make the component selector filter case insensitive.
	  Fixes bug #1673589. Thanks to Phil Endecott for reporting the
	  bug.
	
	* lib/system-gschemrc.in: Apply patch from Peter Brett. Thanks!
	  Rearrange gschem help menu & make it link to wiki pages.

	  Rearrange the gschem help menu:
	   - "Manual" now links directly to the gschem User Guide.
	      (Note by cnieves: I commented this out until the gsch2pcb 
	      tutorial gets into the wiki and the UG wiki page is improved).
	   - "FAQ" now links directly to the gschem FAQ
	   - Add menu item which links directly to the wiki root page
	   - Rearrange "About" and "Hotkeys" to bottom of menu
	  
	* include/prototype.h, src/g_funcs.h, src/g_register.c:
	  Apply patch from Peter Brett, adding the gschem-browse-wiki 
	  Scheme function. Thanks!

	  This function allows Scheme code to open a browser to a wiki page
	  by calling gschemdoc with its -w option.  

	  This will facilitate adding more useful things to gschem's "Help"
	  menu without needing a large number of callbacks to be added to 
	  gschem.

2007-04-21 Peter Clifton <pcjc2@cam.ac.uk>

	* src/x_print.c: Fix color printing of selected object to use the
	  correct, non-selected color for the output. This required replacing
	  code which manually cleared the selection GList with a call to
	  o_selection_unselect_list(), which takes care of the color change.

2007-04-17 Peter Clifton <pcjc2@cam.ac.uk>

	Merge changes from noscreen branch

	2007-04-12 Peter Clifton <pcjc2@cam.ac.uk>

		* src/g_hook.h: Fixed up documentation in to reflect
		  the current code.  Removed doc reference to
		  world_get_complex_bounds(), which is not used.

	2007-04-06 Peter Clifton <pcjc2@cam.ac.uk>

		* src/o_select.c: Fixed selection box testing which had
		  some <= and => tests reversed during screen->world
		  coordinate switching. The swap was incorrect, as "top"
		  and "bottom" should actually be named "y_min" and
		  "y_max". The nameing is wrong in the world coordinate
		  system.

	2007-04-02 Peter Clifton <pcjc2@cam.ac.uk>

		* src/o_attrib.c, src/o_buffer.c: Fix for paste-buffer
		  operation, and for placing top-level attributes. Calls
		  to world_get_complex_bounds() were incorrect, and
		  needed replacing with world_get_object_list_bounds().

	2007-03-27 Peter Clifton <pcjc2@cam.ac.uk>

		* src/i_vars.c: Fixed copy-paste typo which over-wrote
		  mousepan_gain instead of select_slack_pixels.

	2007-03-26 Peter Clifton <pcjc2@cam.ac.uk>

		* src/o_text.c: Removed unused variables left in
		o_text_draw_rectangle()

		* src/o_box.c, src/o_circle.c, src/o_picture.c: Pass
		  OBJECT instead of derived type into
		  world_get_..._bounds().

		* include/i_vars.h, include/prototype.h,
		  lib/system-gschemrc.in, src/g_rc.c, src/g_register.c,
		  src/i_vars.c, src/o_find.c: Added rc option
		  (select-slack-pixels #) to control how near an object
		  we have to be in order to select it by clicking. Default
		  is 4 pixels.

	2007-03-24 Peter Clifton <pcjc2@cam.ac.uk>

		* src/o_text.c: Modified text o_text_draw_rectangle()
		  to use the world bounds of the text, fixing the outline
		  offset when the text is aligned other than bottom, left.

		* src/o_grips.c: Removed call to o_line_recalc() after
		  o_net_modify() in o_grips_end() since the recalc is
		  done inside o_net_modify().

		* src/o_misc.c: Add call to o_complex_recalc() in
		  o_update_component() to ensure bounds are correct
		  after an embeded component is updated.

	2007-02-25 Peter Clifton <pcjc2@cam.ac.uk>

		* src/o_arc.c, src/o_basic.c, src/o_box.c, src/o_bus.c,
		  src/o_circle.c, src/o_complex.c, src/o_line.c, src/o_net.c,
		  src/o_picture.c, src/o_pin.c, src/o_text.c: Remove calls
		  to o_..._recalc() or equivelant from drawing routines.

		* src/a_zoom.c: Changed call to world_get_complex_bounds() 
		  to world_get_object_list_bounds(), and added logic to 
		  stop the zoom-extents operation if the object list 
		  evaluated has no bounds (e.g. object list just has hidden
		  attributes).

		* src/o_basic.c, src/o_complex.c, src/o_find.c,
		  src/o_move.c, src/o_select.c, src/o_text.c:
		  Switched over to caching world rather than screen coordinates

		* src/g_hook.c: Removed conditional update of screen coords
		  in g_set_attrib_text_properties, since o_text_recreate() 
		  should be recalculating as necessary.

2007-04-15 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/o_misc.c: Fixed memory leak in the update component code
	reported by valgrind.

2007-04-14 Carlos Nieves Onega <cnieves@iespana.es>

	* include/x_compselect.h, src/i_callbacks.c, src/x_compselect.c:
	  Added an "ok" button to the component selector, which hides it
	  while the user places the components.
	
	* scheme/auto-place-attribs.scm:
	    - Use ceiling instead of inexact->exact. 
	      The latter doesn't round if the argument is 400.5 (example).
	    - Added support for net and bus attributes.
	    - In adjust_pos_to_avoid_collision, don't loop again if 
	    the offset is changed, and fixed x_offset instead of y_offset 
	    bug.
	* lib/system-gschemrc.in: 
	    - Added autoplacement grid.
	    - Added complex list changed hook to the hooks to be enabled
	      if the user wants attribute autoplacement.
	
	    - Added default positions for device and netname attributes 
	  in default-position-of-text-attributes,

	* src/g_hook.c: Fixed custom_world_get_single_object_bounds,
	  and custom_world_get_object_list_bounds, so they don't traverse
	  the whole object list.
	
	* include/globals.h, include/prototype.h, src/g_register.c, 
	  src/globals.c, src/o_complex.c, src/x_event.c:
	  Added complex place list changed hook.
	  This is the list used when placing new components.
	
2007-04-07 Carlos Nieves Onega <cnieves@iespana.es>

	* src/x_dialog.c: Redraw the schematic after changing the snap size.
	  Thanks to Peter Clifton for reporting the bug. Closes bug #1657496.

2007-04-06 Carlos Nieves Onega <cnieves@iespana.es>

	* lib/system-gschemrc.in, scheme/auto-place-attribs.scm:
	  Improved the auto placing: if the attribute overlaps with pins
	  (including pinnumbers), or the pin connection direction where 
	  a net is supposed to be drawn, then the attributes are moved 
	  automatically.

2007-03-31 Peter Clifton <pcjc2@cam.ac.uk>

	* src/x_dialog.c: Fixed confirm save on page-close dialogs to correctly
	  cancel, rather than assert if the dialog is closed with the ESCAPE
	  key, or with the window-manager's destroy button.

2007-02-25 Peter Clifton <pcjc2@cam.ac.uk>

	* src/o_arc.c, src/o_box.c, src/o_circle.c, src/o_line.c,
	  src/x_multiattrib.c, src/x_pagesel.c, src/x_preview.c,
	  src/x_window.c: Replaced loosely typed function pointers such as
	  void (*draw_func)(); with more strongly typed pointers.

2007-02-24 Peter Clifton <pcjc2@cam.ac.uk>

	Merge changes to date from noscreen branch.

	2007-02-24 Peter Clifton <pcjc2@cam.ac.uk>

		* src/o_box.c: Remove a copy-paste error which added an extra arguemnt
		  when calling (*fill_func). Result was drawing errors, and an infinite
		  loop when mesh filling.

	2007-02-12 Peter Clifton <pcjc2@cam.ac.uk>

		* src/x_dialog.c: Removed all calls to o_object_recalc() 
		  now the data it calculates is no longer used.

		* src/o_arc.c, src/o_box.c, src/o_bus.c, src/o_circle.c, 
		  src/o_line.c, src/o_net.c, src/o_picture.c, src/o_pin.c, 
		  src/o_select.c, src/o_text.c: Modified drawing routines 
		  to calculate coordinates directly from object world coords.

		* src/o_arc.c, src/o_box.c, src/o_circle.c, src/o_line.c,
		  src/o_picture.c: Modified grip drawing / undrawing code
		  to calculate coordinates directly from object world coords.

		* include/prototype.h, src/o_grips.c: Changed to use world 
		  coordinates internally for region checking.

		* src/a_pan.c, src/i_callbacks.c, src/o_buffer.c,
		  src/o_complex.c, src/o_copy.c, src/o_move.c,
		  src/x_attribedit.c, src/x_dialog.c, src/x_event.c:
		  Add manual grid-snapping after calls to SCREENtoWORLD()
		  where grid snapping would be required.  In preparation
		  for removing grid snap from SCREENtoWORLD().

		* src/x_event.c: Grid snap in x_event.c after converting
		  to world coords, rather than before. (The computation
		  for grid snapping in screen coords involves a conversion
		  to world coords and back)

	2006-12-27 Peter Clifton <pcjc2@cam.ac.uk>

		* include/prototype.h, src/o_move.c: Modify
		  o_move_end_lowlevel() to not require screen coordinates
		  as a parameter (which were unused). Alter usage in
		  o_move_end() as appropriate.

		* src/o_text.c: Modify o_text_place_rotate() to use world
		  coordinates, and o_text_rotate_world internally.

		* include/prototype.h, src/i_callbacks.c, src/o_complex.c,
		  src/o_misc.c, src/x_event.c: Made o_complex_rotate().
		  into o_complex_rotate_world(), made o_rotate_90() into
		  o_rotate_90_world(), and converted usage as appropriate.

		* include/prototype.h, src/o_complex.c: Remove unused
		  function o_complex_mirror2()

		* include/prototype.h, src/o_misc.c, src/o_complex.c,
		  src/i_callbacks.c, src/x_event.c: Made o_complex_mirror() 
		  into o_complex_mirror_world(), made o_mirror() into
		  o_mirror_world(), and converted usage as appropriate.

2007-02-24 Werner Hoch <werner.ho@gmx.de>

	* x_dialog.c: removed unused functions generic_text_input*

	* x_basic.c: removed unused dialog functions x_create_dialog_box*
	
2007-02-24 Werner Hoch <werner.ho@gmx.de>

	* scheme/gschem.scm (dump-keymap): New procedure for
        g_keys_dump_keymap() replacing old fill-mapped-keys.

	* src/g_register.c, src/g_funcs.c (g_funcs_key_*): 
	Removed functions. Replaced with g_keys_dump_keymap()

	* src/g_keys.c (g_keys_dump_keymap): New function to obtain
	current keymap from scheme.

	* src/x_event.c, src/gschem.c, src/g_keys.c: 
	Removed empty function set_window_current_key() 

	* src/gschem.c, src/x_dialog.c: Adaptation for new
	g_keys_dump_keymap(). (Patches written by Patrick Bernaud)

2007-02-24 Werner Hoch <werner.ho@gmx.de>

	* src/x_window.c (x_window_search_page_clist(): Removed unused
	  function (no more needed in page manager).
	  (Patch written by Patrick Bernaud)

2007-02-23 Carlos Nieves Onega <cnieves@iespana.es>

	* include/prototype.h, lib/system-gschemrc.in, src/g_keys.c,
	  src/g_register.c, src/i_callbacks.c:
	  Added two new hotkeys to increase and decrease the snap grid size.
	  Feature Request #1443637. Thanks to KaiMartin for the suggestion.
	
	* src/x_image.c: Free the GError after using it, and don't unlink
	  the image file in case of errors. It's not always safe. 
	  For example: if the operation was not allowed due to permissions, 
	  the _previous existing_ file will be removed.

2007-02-22 Carlos Nieves Onega <cnieves@iespana.es>

	* lib/system-gschemrc.in : Changed the title of the save image 
	  dialog from "Write PNG..." to "Write image...", since gschem can
	  now support more types than PNG.

	* include/prototype.h, src/g_funcs.c, src/i_callbacks.c, 
	  src/x_image.c:
	  Changed the export image dialog by a new one using a GTK
	  file chooser dialog with image size and image type drop-down 
	  lists.
	  If compiled without libgd support (therefore using libgdk-pixbuf),
	  gschem will support several image types (like PNG, JPEG and ICO).

2007-02-16 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/nl_NL.po: Updated Dutch translation from Bert Timmerman. Thanks.

	* src/i_callbacks.c: Fixed update component to work again.
	It broken during the transition from Ales' custom linked list
	implementation for the selection lists to using GList for
	selection lists.  It seems that iterating over a list that is
	being change doesn't work in the same way with GLists.	Fix for
	this was to make a shallow copy of the selection list and use
	that copy when iterating.

	* src/i_callbacks.c: Change the behavior of update component
	a little.  Update component will deselect all non OBJ_COMPLEX
	objects after it has finished running.	This will give you
	an indication as to which components were update or changed.
	The behavior before was completely silent with no feedback that
	anything happened.

	* lib/system-gschemrc.in: Since gtk+ 2.x is supposedly correctly
	raising dialog boxes (and most of the dialog boxes within gschem
	have been converted to GtkDialog), raise-dialog-boxes-on-expose's
	default is now disabled.  Thanks to Werner for figuring the dialog
	situation.

2007-02-16  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* po/fr_FR.po: Updated the French translation.

2007-02-15 Carlos Nieves Onega <cnieves@iespana.es>

	* test/ext_chars.sch: Added test for the new small mu greek char.

2007-02-14 Carlos Nieves Onega <cnieves@iespana.es>

	* test/ext_chars.sch: Added test for the new characters of 
	  the hungarian charset.

2007-02-12  Werner Hoch <werner.ho@gmx.de>

	* src/x_autonumber.c: added gettext makro _() for sort options
	 
2007-02-11 Carlos Nieves Onega <cnieves@iespana.es>

	* po/es_ES.po: Updated spanish translation.

	* ChangeLog: added author entry for the commits Ales made yesterday.

2007-02-11  Werner Hoch <werner.ho@gmx.de>

	* po/de_DE.po: updated german translation

	* po/*po: updated files to add the strings for the attribute editor

	* include/prototypes.h: removed unused declarations

	* src/x_attribedit.c: switched the single attribut editor to GtkDialog.
	  removed the delete button.

2007-02-10  Mike Jarabek  <mjarabek@sentex.ca>

	* include/i_vars.h include/prototype.h lib/system-gschemrc.in
	src/g_rc.c src/g_register.c src/i_vars.c: Added code to scale the
	output postscript font under user control.  This is controlled via
	the postscript-font-scale rc keyword.

2007-02-10 Ales Hvezda   <ahvezda@geda.seul.org>

	* include/x_compselect.h, include/x_pagesel.h, src/o_bus.c,
	src/o_grips.c, src/o_net.c, src/x_autonumber.c, src/x_compselect.c,
	src/x_dialog.c, src/x_image.c, src/x_menus.c, src/x_preview.c,
	src/x_print.c: Fixed a whole bunch of compiler warnings and work on
	[ 1620806 ] various probably bugs and comments about them

	* docs/gschem.1: Updated the man page a little for bug:
	[ 1556064 ] man page version out of date

	* configure.ac.in: Bumped package version to 20070216.

2007-02-10 Carlos Nieves Onega <cnieves@iespana.es>

	* src/g_funcs.c: propagate f_print_file errors to scheme functions.

	* src/x_print.c: Fixed compiler warning. Also added a popup message
	  warning the user if the f_print_file function fails.

	* scheme/auto-place-attribs.scm: Check if the list is empty before
	  calling to stable-sort. It is an error for guile versions >= 1.8.
	  Thanks to DJ for reporting this.

2007-02-10 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/globals.c: Removed quit_func since it is completely unused.

	* configure.ac.in: Added a call to AC_GNU_SOURCE to make autoconf
	and friends complain less.
	
2007-01-16 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_image.c: Removed unnecessary printf

2007-01-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/o_misc.c: Applied patch by Peter Clifton to prevent a crash 
	when updating embedded components.  Should not free strings that
	are owned by libgeda.

2007-01-08 Ales Hvezda   <ahvezda@geda.seul.org>

	* include/prototype.h, src/o_misc.c: Moved o_embed and o_unembed
	into libgeda so that gschlas can also call these functions
	(to add shell scriptable embed/unembed of all components/pictures 
	functionality).

2007-01-05 Carlos Nieves Onega <cnieves@iespana.es>

	* configure.ac.in: Applied patch from Peter Clifton, adding
	  missing AC_DEFINE(HAS_LIBGD, 1,...) which is still required 
	  to enable libgd support.
	
2007-01-04 Werner Hoch <werner.ho@gmx.de>

	* src/x_compselect.c: added expand property for the filter entry

	* src/x_autonumber.c: set default the searchtext to the first history
	  element, use SCOPE_PAGE as skip default value

2007-01-03 Werner Hoch <werner.ho@gmx.de>

	* src/x_print.c: replaced saveas button with a fileopen icon,
	  Changed labels and added colons, fixed widget packaging.

	* bitmap/Makefile.am, bitmap/gschem-alignment*.png,
	  bitmap/gschem-filltype*.png: new icons for filltype and text
	  alignment.

2007-01-02 Werner Hoch <werner.ho@gmx.de>

	* src/o_picture.c: picture_change_selection_dialog() replaced
          GtkFileSelection dialog with a GtkFileChooserDialog. Refactored
	  and renamed the callback function.

	* src/o_picture.c: picture_selection_dialog() replaced the
          GtkFileSelection dialog with a GtkFileChooserDialog

	* src/x_script.c: replaced the GtkFileSelection dialog with a
	  GtkFileChooserDialog

	* src/x_log.c: insert text at the end of the buffer instead of cursor
	  position. Replaced gtk_text_view_scroll_to_iter() with
	  gtk_text_view_scroll_to_mark() which works more reliable.

2006-12-31 Werner Hoch <werner.ho@gmx.de>

	* src/x_autonumber.c: fixed a bug if one searchtext is a subset
	  of another one. Bug reported by Levente Kovacs.

2006-12-29 Werner Hoch <werner.ho@gmx.de>

	* src/x_mulitattrib.c: added transient_for flag to the dialog.
	  Suggested by Kurt Peters

2006-12-28 Werner Hoch <werner.ho@gmx.de>

	* src/x_image.c: replaced the browse button with an icon.
	  Misc cosmetics.

	* src/x_autonumber.c: switched the autonumber dialog to GtkDialog,
	  fixed a bug when unselecting the "remove numbers" CheckButton

2006-12-26 Carlos Nieves Onega <cnieves@iespana.es>

	* lib/system-gschemrc.in: Don't place the titleblock automatically if
	  editing a symbol file (page filename ending in ".sym").

2006-12-23 Carlos Nieves Onega <cnieves@iespana.es>

	* src/g_hook.c (g_add_component): Return if scm_comp_name is 
	  an empty list (guile's NULL), or the scheme's boolean false.
	  This was suggested by Peter TB Brett and Steve Tell.

	* src/g_hook.c (g_add_component): 
	  Changed the end of this function to avoid the "Statement not reached"
	  compiler warning. Thanks to Dan McMahill for reporting this.

2006-12-22 Carlos Nieves Onega <cnieves@iespana.es>

	* src/g_hook.c: 
	  -  Added some documentation to custom_world_get_complex_bounds and
	     g_get_object_bounds.
	  -  g_add_component: Changed the remaining scheme function's name
	     left on 2006-12-14.

2006-12-21 Peter Brett   <peter@peter-b.co.uk>

	* src/o_copy.c, o_find.c, x_event.c: Update interface of
	o_selection_print_all() to match other o_selection_*() functions. Pass the
	GList by reference.

	* src/o_misc.c: Remove use of o_selection_select() and
	o_selection_unselect() (should only be used internally to libgeda).

	* src/o_attrib.c, src/o_buffer.c, src/o_complex.c, src/o_copy.c,
	src/o_misc.c, src/o_select.c, src/o_text.c: Update interface of
	o_selection_add() to match o_selection_remove(). Pass the GList by
	reference so head can be updated.

2006-12-21 Werner Hoch <werner.ho@gmx.de>

	* src/x_dialog.c: use GtkDialog for the find text, the show text and
	  the hide text dialog. Code cleanups.

	* src/x_autonumber.c: fixed o_selection_remove call which caused 
	  gschem to crash. suggestion by Ales, patch from Peter Brett.

	* src/x_dialog.c: cosmetics in the color dialog,
	  use GtkDialog for the hotkeys dialog, use a GList to store the
	  hotkeys and a GtkTreeView to show them.

2006-12-20 Werner Hoch <werner.ho@gmx.de>

	* src/x_dialog.c: cosmetics in the slot dialog,
          use GtkDialog for the coords and the about dialog, Code cleanups

2006-12-19 Werner Hoch <werner.ho@gmx.de>

	* src/x_dialog.c: cosmetics in the translate dialog
	  use GtkDialog for the arc angle, the text size and the snap size
	  dialog. Use GtkSpinButtons for the three dialogs.
	
2006-12-18 Werner Hoch <werner.ho@gmx.de>

	* src/x_dialog.c: some more code refactoring in the dialogs
	  edit filltype, edit linetype and edit text. Use the style constants
	  from x_dialog.h
	
	* include/x_dialog.h: added constants for dialog layout style

	* src/x_dialog.c: use GtkDialog for text entry dialog, some code 
	  refactoring. Fixed a bug in select_all_text_in_textview() which
	  toggled the selection instead of selecting it.
	   
	* src/o_picture.c: set transient_for flag for the dialogs
	  add image and modify image.

	* src/x_attribedit.c: set transient_for flag for the dialog

	* src/x_compselect.c: set the widget focus to the filter entry
	  present the window and select the filter text when reselecting
	  the dialog with "i". (ideas from Peter Clifton)

2006-12-17 Stuart Brorson <sdb@cloud9.net>
	* src/x_autonumber.c: Replace GTK-26 ism with 2.4 fcns.  Thanks,
	Werner, for the suggestion!

2006-12-16 Ales Hvezda   <ahvezda@geda.seul.org>

	Merged Carlos' glist work via Peter Brett's patch sets to the trunk

	2006-10-22 Carlos Nieves Onega <cnieves@iespana.es>
	
		* src/o_delete.c: Changed a check to use glib debugging
		functions.  Don't free objects at the end of o_delete,
		but free only the list.
	
		* src/o_misc.c: Added a sanity check.
	
		* src/o_basic.c: Don't free objects in the complex place
		list. It is only a reference to the objects in the page.

	2006-10-21 Carlos Nieves Onega <cnieves@iespana.es>

		* include/prototype.h, src/g_hook.c, src/i_basic.c,
		src/i_callbacks.c, src/o_attrib.c, src/o_basic.c,
		src/o_buffer.c, src/o_bus.c, src/o_copy.c,
		src/o_delete.c, src/o_find.c, src/o_grips.c,
		src/o_misc.c, src/o_move.c, src/o_net.c, src/o_picture.c,
		src/o_select.c, src/o_slot.c, src/o_text.c, src/o_undo.c,
		src/x_attribedit.c, src/x_compselect.c, src/x_dialog.c,
		src/x_event.c, src/x_multiattrib.c, src/x_print.c:
		Convert the SELECTION list to a GList.
        
		* src/a_zoom.c, src/o_arc.c, src/o_basic.c, src/o_box.c,
		* src/o_basic.c: Rename o_recalc to o_recalc_object_list.
	
		* src/o_basic.c, src/o_complex.c, src/o_move.c,
		src/o_text.c, src/x_image.c: Rename get_complex_bounds
		to get_object_list_bounds.

2006-12-15 Peter Clifton <pcjc2@cam.ac.uk>
	* intl/.cvsignore: Remove whitespace after .c and .y exclusions

2006-12-14 Carlos Nieves Onega <cnieves@iespana.es>

	* src/g_hook.c (g_add_component): Don't log message if a component 
	  name "" is passed to this function.
	  Changed the function name in the error messages from 
	  add-component to add-component-at-xy.
	  The scheme name of the function was changed on 2006-10-03, but
	  not the error messages.
	
	* lib/system-gschemrc.in: Added comment about how to avoid gschem
	  placing a titleblock automatically.

2006-12-13 Carlos Nieves Onega <cnieves@iespana.es>

        * src/g_hook.c: Improved error detection in g_add_attrib.
	  This should fix bug #1599582.
	
	* scheme/auto-place-attribs.scm: 
	  - Define object types here (by now). This shouldn't be here, 
	    and should be defined in libgeda if anyone objects.
	  - in get-reference, the object bounds should include the pins
	    if the object is a pin, but otherwise don't .
	    This makes the object bounds correctly calculated for pins.
	    Thanks to Ales for reporting this bug.
	  - Corrected typo (horiz-pos should be vertical-pos) in 
	    calcule-new-string-bounds.

	* lib/system-gschemrc.in: Fixed typo in the default pin attributes.

2006-12-12 Werner Hoch <werner.ho@gmx.de>

	merged the autonumber branch back to trunk

        2006-12-12 Werner Hoch <werner.ho@gmx.de>
	sync autonumber branch with trunk

	2006-11-28 Werner Hoch  <werner.ho@gmx.de>
	* src/x_autonumber.c: visual improvements of the sortorder 
	  combobox. Patch by Tomaz Solc, slightly changed.

	2006-11-26 Werner Hoch  <werner.ho@gmx.de>
	* src/x_autonumber.c: remove the slot attribute if remove numbers
	  and slotting is active.
	
	2006-11-24 Werner Hoch  <werner.ho@gmx.de>
	* src/x_autonumber.c: repaired keypress events, added gettext macros
	  replaced the sortorder ratio buttons with a combo box. That shrinks
	  the dialog a lot.

	* po/POTFILES.in: added x_autonumber.c

	* bitmap/gschem-fileorder.png: added an ugly dummy bitmap

	2006-11-11 Werner Hoch  <werner.ho@gmx.de>
	* src/x_autonumber.c: added used_slot database. This fixes a 
	  problem with duplicate slotted objects.
	  Removed keyboard accelerators (by Tomaz Solz #1589430)

	2006-11-09 Werner Hoch  <werner.ho@gmx.de>
	* src/x_autonumber.c:  (scope_skip == SCOPE_SELECTED) didn't work as 
	  expected, fixed it.

	2006-11-07 Werner Hoch  <werner.ho@gmx.de>
	* src/o_slot.c, x_dialog.c: removed redundant o_undo_savestate() in 
	  o_slot_end(). But it is required in the slot_edit_dialog_ok() 
	  function. This repairs to many undo states when using the 
	  autoslotting feature of the autonumber dialog.
	
	* src/x_autonumber.c:  Added improved autonumber dialog from 
	  Tomaz Solz (#1589430)

	2006-11-06 Werner Hoch  <werner.ho@gmx.de>

	* src/o_misc.c, src/x_dialog.c, src/x_autonumber.c: moved all 
	  autonumber related code to x_autonumber.c
	  applied patch (#1589430) from Tomaz Solz

	* bitmap/: added bitmaps for the autonumber dialog
	
2006-12-10 Werner Hoch  <werner.ho@gmx.de>

	* src/x_dialog.c: use GtkDialog for color edit dialog, the 
	  slot attribute dialog, the linetype dialog, the linestyle
	  dialog and the translate dialog.
	  set default response, cosmetics changes and fixes.

2006-12-09 Werner Hoch  <werner.ho@gmx.de>

	* src/x_compselect.c: added transient_for flag to the dialog

	* src/x_fileselect.c: set default response to OK

	* src/x_print.c: set default response to print, added transient_for
	  flag, fixed a keyval "Return" instead of "linefeed"

	* src/x_image.c: use GtkDialog for the PNG export dialog.
	  added a filechooser dialog, misc cosmetics.

	* src/x_dialog.c: use GtkDialog for text property dialog.
	  code cleanup and cosmetics

2006-12-06 Ales Hvezda   <ahvezda@geda.seul.org>

	* autogen.sh, Makefile.am, configure.ac, configure.ac.in: Changed
	the configure.ac and autogen.sh files to dynamically figure out the
	gettext version (instead of hard coding the version) when autogen.sh
	is ran.  Hard coding 0.15 inside configure.ac broke everybody
	who doesn't have gettext 0.15 installed.  The configure.ac file
	is now generated from the configure.ac.in.  configure.ac was
	removed from CVS at this point.

	* .cvsignore: Added configure.ac into this file so that it is ignored
 	when doing cvs update.

2006-12-05 Carlos Nieves Onega <cnieves@iespana.es>

	* lib/system_gschemrc.in, scheme/auto-place-attribs.scm:
	  Make the auto place function smarter when dealing with objects
	  with pins on 3 or 4 sides. Now it avoids to overlap the pins or
	  the attributes when autoplacing.

	* include/prototype.h, src/g_hook.c, src/g_register.c: 
	  Changed scheme function g_get_object_bounds to accept two 
	  more parameters, allowing to exclude attributes, or objects types
	  when calculing the object bounds.
	
	* src/x_compselect.c: clib_directories is now a double linked list.

2006-12-04 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Added Control-x, Control-c, Control-v
	for cut buffer, copy buffer, and paste buffer menu and hotkey
	items.	The paste automatically shows the outline (just like
	pressing "yp").  Changed the behavior of all the paste menu
	options to automatically show an outline of the paste buffer
	(just like pressing "yp").  This should make it more obvious as
	to what to do when pasting.

	* src/i_basic.c, src/i_callbacks.c: Modified the code to
	enable/disable the new Cut, Copy, and Paste commands.  Also
	modified the code to properly enable and disable the "Buffer/Paste
	from X" commands only if there is something in the buffer.

	* src/i_basic.c: Also added the code to enable/disable "Multiple
	Copy Mode".  Also fixed a unused variable compiler warning.

	* src/x_dialog.c: Increased the size of the hotkey char buffer
	for the hotkey dialog.

	* src/x_menus.c: Removed the right justification of the help menu
	item since it has gone out of style to have the help menu all the 
	way on the right hand side.  Something about usability. :)

2006-12-02  Mike Jarabek  <mjarabek@istop.com>

	* include/i_vars.h include/prototype.h src/g_rc.c src/g_register.c
	  src/i_vars.c: Support for rc command to set the postscript line
	  default width.

	* lib/system-gschemrc.in: Added call to the new rc function
	  to set the system wide default line width

	* examples/drawing_primitives.sch: Added extra line to show line
	  width relative to pin and net width.

2006-12-02 Ales Hvezda   <ahvezda@geda.seul.org>

	The running of gettextize changed: ChangeLog, Makefile.am,
	configure.ac, m4/ChangeLog, m4/Makefile.am, po/Makevars.

2006-12-02  gettextize  <bug-gnu-gettext@gnu.org>

	* Makefile.am (SUBDIRS): Remove intl.
	(EXTRA_DIST): Add config.rpath.
	* configure.ac (AC_CONFIG_FILES): Add po/Makefile.in.
	(AM_GNU_GETTEXT_VERSION): Bump to 0.15.

2006-11-21 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.ac: Fixed libgeda detection/find error message when
	the wrong libgeda version is found. (Bug reported by Karel Kulhavy;
	thanks)

2006-11-19 Werner Hoch  <werner.ho@gmx.de>

	* src/i_basic.c, src/x_grid.c, src/x_window.c: moved the 
	  filename from the status bar to the window title.
	  Show grid settings in the status bar.


2006-11-13 Carlos Nieves Onega <cnieves@iespana.es>

	* src/x_compselect.c: Always update the complex place list.
	  Before, the list wasn't updated if the user opens the file chooser
	  and choose the same component and library than the last time.


2006-11-07 Werner Hoch  <werner.ho@gmx.de>

	* src/o_text.c, src/o_slot.c: fixed slot update errors
	 (Bug #1589247)

2006-10-23 Carlos Nieves Onega <cnieves@iespana.es>

	* src/o_text.c: Changed polarity of one of the sanity checks 
	in the o_text_draw function added on 2006-10-21.
	
2006-10-21 Carlos Nieves Onega <cnieves@iespana.es>

        * src/o_basic.c: Removed comment referencing to o_recalc_glist, 
	  which is not (yet) in CVS.
	
	* src/o_text.c: Added sanity checks in o_text_draw_lowlevel and
	o_text_draw functions using GLib functions.
	
	* src/o_text.c: Removed sanity checks in o_text_draw_lowlevel and
	o_text_draw functions added today.
	
        * src/a_zoom.c, src/o_arc.c, src/o_basic.c, src/o_box.c,
	  src/o_buffer.c, /src/o_bus.c, src/o_circle.c, src/o_complex.c,
	  src/o_cue.c, src/o_grips.c, /src/o_line.c, src/o_net.c,
	  src/o_picture.c, src/o_pin.c, src/o_select.c, src/o_text.c:
	  Added a new parameter to o_redraw and o_cue_redraw_all, 
	  to choose wether to draw the selected objects or not.
	  Make o_redraw call o_redraw_all_fast, since they shared code.
	
	* src/o_arc.c, src/o_box.c, src/o_bus.c, src/o_circle.c,
	  src/o_cue.c, src/o_grips.c, src/o_line.c, src/o_net.c,
	  src/o_picture.c, src/o_pin.c, src/o_text.c:
	  Don't draw objects if w_current->DONT_REDRAW is 1.
	
	* src/o_text.c: Added some sanity checks in o_text_draw_lowlevel and
	o_text_draw functions. 
	
2006-10-21 Werner Hoch  <werner.ho@gmx.de>

	* po/de_DE.po: Updated German translation

2006-10-20 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_dialog.c, src/x_print.c, src/x_attribedit.c:  Applied patch
	by Patrick Bernaud to Change button order of dialogs to be more
	standard on *nix desktops.

        * configure.ac: Bumped package version to 20061020.

	* lib/system-gschemrc.in: Rearranged the order of the attribute-name
	entries and added some missing attributes.

	* po/*.po, geda-gschem.pot: make distcheck updated all po/port files.

2006-10-20  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* po/fr_FR.po: Updated the French translation.

	* po/*: Updated and merged i18n files for new POTFILES.

	* po/POTFILES.in: Added x_compselect.c to list.

	* src/i_callbacks.c (i_callback_close_wm): Modified prototype to
	match the one expected by GTK and made it stop further propagation
	of the signal to avoid closing the window when user cancels the
	close order. Bug reported by Werner Hoch.

2006-10-20 Carlos Nieves Onega <cnieves@iespana.es>

	* po/es_ES.po: Fixed the header of the spanish translation.
	Thanks to Werner Hoch for pointing it out.

2006-10-19 Carlos Nieves Onega <cnieves@iespana.es>

	* po/es_ES.po: Updated spanish translation.

2006-10-19  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* src/x_multiattrib.c: Fixed toggle renderers to update their
	appearance when they are activated from keyboard. Bug reported by
	Peter Clifton.

	* configure.ac: Cleaned up to remove remaining traces of noweb
	days.

	* noweb/.cvsignore: Removed file for directory to get pruned on
	checkout.

	* docs/gschemdoc.texi, docs/texinfo.tex: Removed unused files for
	old noweb documentation.

	* scripts/geda_totexi.in:
	* scripts/notangle_guile.in: Removed unused scripts for noweb.

	* po/fr_FR.po: Updated the French translation.

	* po/*: Updated and merged i18n files.

	* src/rcstrings.c: Rebuilt file from system-gschemrc for changes
	in the application menus.

2006-10-18 Carlos Nieves Onega <cnieves@iespana.es>

        * ChangeLog: Improved description of the "fit page when window is
	maximized" patch on 2006-10-04, and added src/x_window.c: it was 
	changed, but it was missing in the ChangeLog.
	Also added a note in the entry for 2006-09-30 regarding this feature,
	which relates to the entry in 2006-10-04.
	
        * include/prototype.h: Removed the definition of x_event_window_state.
	This function was added on 2006-09-30 when doing a zoom extents when
	the user maximizes the gschem window. It was later removed on
	2006-10-04 when Patrick found a new way to do it in x_event_configure.
	
	* src/i_callbacks.c: call the new page hook in the file_new_window
	callback, after the x_window_setup call (the latter creates a new 
	page). Thanks to Peter Clifton for reporting the bug.
	
	* src/gschem.c: When modifying this file on 2006-10-16, the 
	new page hook call was moved inside the parse arguments loop.
	Therefore, the hook was not called if gschem was executed without
	arguments.
	Call the hook after the loop again, but only if first_page is 1 
	(i.e: if no page was loaded before).

2006-10-17  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* src/x_multiattrib.c (cellrenderermultilinetext_start_editing):
	Fixed renderer to vertically fill the area when editing data (it
	was only displaying a line with GTK > 2.8). Bug reported by Peter
	Clifton.

2006-10-16 Carlos Nieves Onega <cnieves@iespana.es>

	* src/gschem.c: Call the new page hook for each schematic
	specified in the command line, instead of calling it for
	only the latest.
	This way all pages are zoomed extents when loaded.
	Thanks to Peter Clifton for reporting the bug.

2006-10-13  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* src/x_compselect.c: Modified to close when Escape is pressed.
	(x_compselect_callback_response): Fixed wrong cast for dialog.
	(COMPSELECT_FILTER_INTERVAL): Added new constant for the timeout
	interval of the filter as suggested by Peter Clifton.
	Fixed and improved code documentation as suggested by Peter
	Clifton.

2006-10-08 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_window.c: Commited patch by Patrick to greatly reduce the
	flickering/unnecessary redrawing when opening up schematic pages.
	Thanks.

2006-10-04  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* src/x_compselect.c, include/x_compselect.h: Added a button to 
	clear the filter entry of the component selection dialog.
	Modified to auto-update the component selection as user types in
	filter entry.

	* include/prototype.h, src/x_dialog.c: Deleted old exit_dialog.
	Added new dialog for user confirmation before closing a page or a
	window.

	* src/i_callbacks.c, src/x_fileselect.c: Adapted code to use new
	functions of x_window.c.

	* src/x_window.c: Added new functions to open, close, save and
	change page.

	* src/x_event.c (x_event_configure), src/x_window.c: Cleaned up.
	Fixed Bug#1527465: fit page zooms when window is maximized.
	
	Comment by cnieves on 2006-10-18: This change removes the code added
	on 2006-09-30, which tried to solve the same problem. Patrick found
	a cleaner way to do it in x_event_configure, so x_event_window_state 
	is no longer needed.
	The x_window_state function is removed here, and its definition in
	include/prototype.h was deleted on 2006-10-18. Thus, all code added
	on 2006-09-30 regarding this feature is removed.

2006-10-03 Carlos Nieves Onega <cnieves@iespana.es>

	* lib/system-gschemrc.in, src/g_register.c: 
	Changed the name of the new scheme function which adds a component
	at a given location to add-component-at-xy. The former name
	was already used.

2006-09-30 Carlos Nieves Onega <cnieves@iespana.es>

	* lib/system-gschemrc.in: Changed the definition of the default
	titleblock. Users can now easily override the default setting.

	* src/x_event.c, src/x_window.c, include/prototype.h:
	Fix for bug #1527465. Do a zoom extents for all pages when the
	main window is maximized.

	Comment by cnieves on 2006-10-18: This code was removed on 2006-10-04
	when Patrick found a cleaner way to do this without 
	x_event_window_state. Read the ChangeLog entry for the given date.
	
	* src/x_image.c: Added the border in the gdk-pixbuf's image output.
	Fix bug #1565433.
	
2006-09-30 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/g_hook.c: Added code to g_add_component so that the 
	component is added to the object list properly.

	* src/g_hook.c: Commented out o_redraw_single call to minimize
	flickering.  At some point a g_redraw_all should be added for
	those users who want to use g_component_add from a script.

	* i_callbacks.c: Removed unnecessary redraw and scrollbar calls 
	when adding a new page to minimize flicker

	* lib/system-gschemrc.in: Commented in Carlos' new file-new hook
	and change some of the defaults a little.  No matter what default
	I pick will probably be wrong for somebody (sorry).

	* src/x_print.c: Applied patch by Peter Brett (Patch#1567622):
	Make print settings sticky for session.  Thanks!

2006-09-30 Carlos Nieves Onega <cnieves@iespana.es>

	* include/prototype.h, lib/system-gschemrc.in, src/g_hook.c, 
	  src/g_register.c, src/gschem.c, src/x_window.c:
	  Added a new scheme function to get the objects in a page.
	  Improved the new-page-hook in system-gschemrc so it only adds
	  the titleblock if the page has no objects.

2006-09-28 Carlos Nieves Onega <cnieves@iespana.es>

	* include/globals.h, include/prototype.h, lib/system-gschemrc.in,
	  src/g_hook.c, src/g_register.c, src/globals.c, src/gschem.c,
	  src/i_callbacks.c, src/x_window.c:
	  Added a new page hook, a new add-component function for scheme,
	  and some lines in the system-gschemrc file (commented by default),
	  so gschem can add automatically a symbol when creating a new page.
	  Commenting out these lines can solven bug #1443806 (gschem 
	  zoomed out way to much on startup).
	
2006-09-24 Ales Hvezda   <ahvezda@geda.seul.org>

        * AUTHORS: Greatly simplified the file since the ChangeLog tracks
	who has changed what.  Also added a few missing names that should
	most certainly be in the list.  Also consolidated all AUTHOR files
	for gEDA/gaf into this file.

2006-09-24 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Tweaked glib detection to not fail ./configure 
        when gdlib is not installed.  gdlib is an optional dependancy.

2006-09-24 03:57  Dan McMahill <danmc>

	* configure.ac: Improve gdlib detection.  Now instead of just
	  dropping gd support if gdlib is not found, have configure error
	  out with a message that tells the user what needs to be fixed or
	  what feature will be missing if --disable-gd is used.

	  Also add a variable to libgeda.pc.in so pkg-config can determine
	  if libgeda was compiled with gdlib support.  This makes
	  determination of this by gschem more robust.

2006-09-23  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* src/x_fileselect.c (x_fileselect_save): Modified to set filename
	when saving a page.

	* src/x_compselect.c: Changed dialog layout for a single
	component selection tree with filtering capability.

	* src/i_callbacks.c:
	* src/x_window.c: Adapted for new file selection dialog.

	* src/x_fileselect.c: Removed code for custom file selection
	dialog: now uses only the GTK widget for file
	selection and the new preview widget. Cleaned-up code.

	* src/x_compselect.c, src/x_fileselect.c: Adapted for new preview.

	* include/x_preview.h: New file for new preview widget.

	* src/x_preview.c: Rewritten preview to make it a widget
	extending a GtkDrawingArea.

	* src/x_compselect.c: New source file for component selection
	dialog.

	* src/x_fileselect.c: Moved code of the component selection
	dialog to x_compselect.nw.

2006-09-22 Carlos Nieves Onega <cnieves@iespana.es>

	* README, configure.ac, src/i_callbacks.c, src/x_image.c:
	  Use gd 2.0.x library instead of libgdgeda.
	  libgdgeda is not used anymore. Work based on a patch by
	  Wojciech Kazubski (patch #1479983).
	
2006-09-15 Carlos Nieves Onega <cnieves@iespana.es>

	* po/ru.po: Updated russian translation provided by Andy Shevchenko,
	  (bug #1559106 submitted by Chitlesh). Thanks.
	
2006-09-08 Ales Hvezda   <ahvezda@geda.seul.org>

	* include/prototype.h, scheme/gschem.scm, src/g_keys.c, src/x_event.c,
	src/x_window.c: Applied another patch for Bug#1553544: "New pages
	inadvertantly created when adding nets in gschem" from Peter Clifton
	to address the focus problem with the first patch.  This one is 
	much better and cleaner.

2006-09-07 SDB  <sdb@cloud9.net>

	* src/xprint.c: Added "static void" declaration to 
	print_dialog_get_property to prevent compiler error
	under older version of gcc. 
	
2006-09-06 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Updated program version to 20060906.

	* lib/system-gschemrc.in: Applied patch for Bug#1552338: 
	system-gschemrc gedadata/rc mismatch (filed by Charles Lepple).  
	Also fixed a few other instances where the directory for the
	scheme files were wrong.

	* lib/system-gschemrc.in: Changed the mouse gain to be unity since
	various people have mentioned that mouse pan doesn't feel right with
	a large value.

	* src/x_window.c: Had to put the keypress signal handler back on 
	the main_window (instead of just the drawing_window), because the
	up cursor key stopped working.  The original reason for this movement
	was to fix Bug#1552778 and Bug#1553544 which are still fixed (even
	with this move it seems), however the focus on the toolbar seems
	to move when you move the cursor keys (which is a little odd).

	* po/it_IT.po: Updated to the last version provided by Michele 
	Petrecca. Thanks.

	* src/gschem.c, src/g_rc.c, src/x_dialog.c: Added CUSTOM_VERSION
	to all printfs/output/dialog boxes where VERSION is used so that
	it is easier to create custom version of gEDA/gaf.

	* include/Makefile.am: Oops, x_print.h wasn't added.  This was
	discovered by make distcheck (have I mentioned how much I like 
	make distcheck. :-)

	* po/*.po: make dist(check) updated all po files in prep for the
	new release (20060906).

2006-09-05 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_fileselect.c: Applied patch by Peter Clifton: Removed the
	"discard changes" button from the file selection dialog.

	* src/x_window.c: Applied patch by Peter Clifton: Removed key
	press event from the main window and moved it to the drawing
	area and set the mouse focus on the drawing area initially.

	* src/x_fileselect.c: Applied patch by Peter Clifton: Fixed the
	odd behavior that if the user pressed the ESCAPE key in the saveas
	dialog box, subsequent attempts to open the dialog box will fail
	with a critical gtk+ error message:
		(gschem:4708): Gdk-CRITICAL **: gdk_window_raise: assertion 
	 	`GDK_IS_WINDOW (window)' failed


2006-09-04 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/i_vars.c: Removed code that sets up the autosave callback.
	The callback was being registered for the preview toplevel as well
	and that caused all sorts of problems.

	* src/x_window.c: Added a call to s_page_autosave_init() right after
	i_vars_set.  This is the only place we want the autosave callback
	to be registered.

2006-08-31 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Updated gtk+ tests to look for 2.4.x or greater.

2006-08-29 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Fixed some typos in comments. 

	* gschem/include/x_print.h, gschem/include/i_vars.h,
 	gschem/include/prototype.h, gschem/scripts/print.scm,
 	gschem/src/g_funcs.c, gschem/src/g_rc.c, gschem/src/g_register.c,
 	gschem/src/x_dialog.c, gschem/src/x_print.c, gschem/src/x_window.c:
	Applied second part of patch by Peter Brett to add a new print
	dialog to gschem.  Patch#1530417.  Unfortunately x_print.c was a 
	completely by hand patch, so hopefully I got it right.  Reversed
	the "Print" and "Cancel" buttons to follow application conventions.
	Reversed "Save As" and "Cancel" buttons to follow application 
	conventions.

2006-08-24 Ales Hvezda   <ahvezda@geda.seul.org>

	* INSTALL: Updated install file a little (still somewhat dated)

	* src/o_misc.c: Fixed o_update_component to actually work correctly.
	All this time, it was just doing the wrong thing by search for
	existing components in the wrong place.  Update Component still 
	doesn't do the right thing for symversion, but that can be fixed 
	later.

	* examples/filter_1.sch: Updated all components to the latest version.

	* examples/drawing_primitives.sch: Translated schematic a little so
	it looks better on the screen.

2006-08-22 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/Makefile.am: Removed old VPATH, since it is no longer needed
	and it is interfering with make distcheck

2006-08-21 Ales Hvezda   <ahvezda@geda.seul.org>

        * README: Updated the README a little to be ready for the next
        release.

	* src/x_fileselect.c: Initialize preview_control to make valgrind
	happy.  Pointed out by Peter Clifton.

2006-08-19 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Bumped version number to 20060821 in prep for the
        next gEDA/gaf release.

	* lib/system-gschemrc.in: Commented out the "Autoplace component
	text attributes hooks" since they were causing some interesting
	rendering/ghosting artifacts.  These need to be fixed before
	these hooks can be commented in by default.

	* lib/system-gschemrc.in: Changed the middle mouse button default
	to be mousepan instead of action, since the first button now supports
	that functionality by default.

2006-08-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_fileselect.c: Applied trival patch by Peter Brett to remove
	unused variable compiler warning. 

2006-08-06 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/o_copy.c: Fixed the copying of nets, pins, and buses.  
        Copy for these objects has been broken for a while now in CVS only.
        This should be revisited later to fix the breakage this fix caused to
	the transparent rotation when copying objects.

	* src/x_preview.c: Applied Patch#1527418: Make preview-widget
	resizable and respond to scroll events by Peter Clifton. 

	* src/x_event.c: Applied Patch#1527383: Zoom using mouse
	scroll-wheel by Peter Clifton.  Behavior of the mouse wheel with
        modifiers:   
       		NONE = zoom in / out    
        	Shift = up / down    
        	Control = left / right (as existing)

	* src/o_attrib.c: Applied Patch#1531802: Bugfix for segfault
	when adding a global attribute by Tomaz Solc. 

	* src/x_window.c: Applied Patch#1533822: gschem: Tidy up
	gtk_widget_show calls by Peter Brett.

	* src/*.c: Applied Patch#1533798: Remove pre-GTK2 code from geda
        by Peter Brett.

	* src/x_window.c: Applied patch by Tomaz Solc to use stock gtk
	icons and only fallback on the shipped icons if the stock ones
	are not available.   Minor cleanup of the code afterwords. 
 	Removed obsolete code and functions.

	* src/*.c: Applied patch by Tomaz Solc to add cursor key panning.
	Minor cleanup of the code afterwards (mainly to add the 
	keyboardpan_gain to the toplevel as a proper rc variable)

	* po/it_IT.po: Replaced Italian translation with updates from
	Michele Petrecca.

	* po/pt_BR.po: Replaced Portugese translation with updates from
	Antonio Augusto Todo Bom Neto.

2006-07-26 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_window.c: Converted pro-active pointer check to a g_assert
	(a good suggestion by Peter Clifton).

	* src/x_menu.c: Applied patch by Gabriel Paubert to fix building
	with --disable-nls.  Thanks!

2006-07-26 Carlos Nieves Onega <cnieves@iespana.es>

	* src/g_hook.c: Added pointer check. Fixes gschem crash when 
	adding an attribute while some other attributes were selected.
	Thanks to Levente Kovacs for reporting the bug and testing the patch.

2006-07-24 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_window.c: Added pointer check to be pro-active.  Related to
	(Bugs#1528080)

2006-07-23 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_color.c: Added a missing extern keyword on colors structure

        * include/defines.h: Applied mouse pan patch by Peter Clifton.
        (Patch #1527361): Allow middle button panning in gschem
	Thanks for the patch Peter!

	* include/i_vars.h, include/prototype.h, lib/system-gschemrc.in,
	src/g_rc.c, src/g_register.c, src/i_vars.c, src/x_event.c:
	Applied mouse gain patch by Peter Clifton.  Added (mousepan-gain #)
	rc option to control this gain (default is still 5).
	(Patch #1527363): Set mousepan "gain" to unity
	Thanks for the patch Peter!

2006-07-23  Mike Jarabek  <mjarabek@istop.com>

	* examples/drawing_primitives.sch: Removed extra line from text in
	drawing primitives.

2006-07-19 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/POTFILES.in: Updated files to get rid of old noweb references.

	* po/*.po, po/gschem.pot: Updated files to take into account above
	changes (via make dist).

	* src/rcstrings.c, src/Makefile.am, po/POTFILES.in: Oops forgot
	about this file (thanks Werner); added file back and updated po
	files via make dist again.

2006-07-15 Ales Hvezda   <ahvezda@geda.seul.org>

	* include/x_log.h, src/g_hook.c, src/g_keys.c, src/g_rc.c, 
	src/gschem.c, src/i_basic.c, src/i_callbacks.c, src/o_complex.c,
	src/o_misc.c, src/o_net.c, src/o_picture.c, src/o_slot.c, 
	src/o_text.c, src/o_undo.c, src/x_attribedit.c, src/x_color.c,
	src/x_dialog.c, src/x_fileselect.c, src/x_grid.c, src/x_image.c,
	src/x_menus.c, src/x_pagesel.c, src/x_print.c, src/x_stroke.c,
	src/x_window.c: Converted all free, ?alloc, and strdup calls to
	use g_free, g_?alloc, and g_strdup.  This is the first phase in
	fixing the slice crash under glib 2.10.x.  Also fixed some -pedantic
	compiler warnings.

        * src/o_picture.c, src/x_image.c: Changed all g_free() calls
        on all pixbuf objects to be g_object_unref.  This was causing
        crashes with glib 2.10.x.

	* src/x_image.c: Oops, g_object_unref, not g_object_ref

2006-07-13 Ales Hvezda   <ahvezda@geda.seul.org>

	* Applied and commited Jason Childs' noweb removal patch and added
	the new C source files.

2006-07-08 Jason Childs <oblivian@users.sourceforge.net>

	* noweb/a_pan.nw, noweb/a_zoom.nw, noweb/g_funcs.nw, noweb/g_hook.nw,
	  noweb/g_keys.nw, noweb/g_rc.nw, noweb/g_register.nw,
	  noweb/globals.nw, noweb/gschem.nw, noweb/i_basic.nw,
	  noweb/i_callbacks.nw, noweb/i_vars.nw, noweb/o_arc.nw,
	  noweb/o_attrib.nw, noweb/o_basic.nw, noweb/o_box.nw,
	  noweb/o_buffer.nw, noweb/o_bus.nw, noweb/o_circle.nw,
	  noweb/o_complex.nw, noweb/o_copy.nw, noweb/o_cue.nw,
	  noweb/o_delete.nw, noweb/o_find.nw, noweb/o_grips.nw,
	  noweb/o_line.nw, noweb/o_misc.nw, noweb/o_move.nw,
	  noweb/o_net.nw, noweb/o_picture.nw, noweb/o_pin.nw,
	  noweb/o_select.nw, noweb/o_slot.nw, noweb/o_text.nw,
	  noweb/o_undo.nw, noweb/parsecmd.nw, noweb/x_attribedit.nw
	  noweb/x_basic.nw, noweb/x_color.nw, noweb/x_dialog.nw,
	  noweb/x_event.nw, noweb/x_fileselect.nw, noweb/x_grid.nw,
	  noweb/x_image.nw, noweb/x_log.nw, noweb/x_menus.nw,
	  noweb/x_multiattrib.nw, noweb/x_pagesel.nw, noweb/x_preview.nw,
	  noweb/x_print.nw, noweb/x_script.nw, noweb/x_stroke.nw,
	  noweb/x_window.nw
	  Ported as real c source code file in the src directory.
	  Deleted after porting all noweb comments into doxygen format
	  in respective c source files.
	
	* noweb: Removed subdirectory.

	* src/Makefile.am: Updated to build from c source instead of noweb.
	  Fixed distclean setup to not remove c source files.

	* docs/Makefile.am: Added support for Doxygen html and LaTex
	  documents.  Fixed distclean setup to not remove required Doxygen html
	  files, and to remove html and latex subdirectories on clean.

	* Makefile.am: Removed noweb as a buildable subdirectory.

	* configure.ac: Removed checks for noweb and texi2html.
	  Added check for Doxygen.
	
2006-06-02  Mike Jarabek  <mjarabek@istop.com>

	* lib/system-gschemrc.in: Corrected comments about PS backend, and
	  changed default to not render vector text for multiline text
	  items.  Added documentation that shows valid values.

	* noweb/g_rc.nw: Removed check for negative numbers in
	  g_rc_output_vector_threshold() as any value is valid now.
	  Negative numbers indicate that vector text is not desired when
	  printing multiline text.

2006-05-21 Werner Hoch <werner.ho@gmx.de:

	* src/Makefile.am: moved the comment sign to the first column.
	  "make reconfig" is happy now.

2006-05-20 Carlos Nieves Onega <cnieves@iespana.es>

	* include/prototype.h, noweb/o_find.nw, noweb/x_event.nw:
	Fixed issue with the selection box when some components overlap.
	This bug was introduced when adding support for object movement	
	like "click and drag" style.

	* noweb/g_hook.nw: Fixed bug when calculating the object bounds
	in text autoplacing.

	* src/Makefile.am: Commented out the indentation of the C code, 
	so gdb can return correct information when debugging.

	* noweb/i_callbacks.nw, noweb/x_event.nw: Moved rotated_inside into
	the TOPLEVEL structure.
	
2006-05-20 Ales Hvezda   <ahvezda@geda.seul.org>

	* scripts/notangle_guile.in: Applied patch by Steve Brown to fix
	guile stack overflow

	* src/Makefile.am: Changed the .nw.c: rule to redirect the generated
	C file to a temp file and then move it to the real one.	 This fixes
	the stale file problem when notangle fails.

	* noweb/o_find.nw: #if'ed out some print statements

2006-05-17  Mike Jarabek  <mjarabek@istop.com>

	* examples/drawing_primitives.sch
	  Added example file with a sample of each drawing primitive
	* examples/Makefile.am
	  Added target to distribute drawing primitive schematic

2006-05-17 Carlos Nieves Onega <cnieves@iespana.es>
	* include/i_vars.h, include/prototype.h, lib/system-gschemrc.in,
	  noweb/i_vars.nw, noweb/o_find.nw:
	  Added support for moving the selected objects just dragging them.
	* include/prototype.h, include/x_states.h, noweb/g_keys.nw,
	  noweb/g_rc.nw, noweb/g_register.nw, noweb/i_basic.nw,
	  noweb/i_callbacks.nw, noweb/o_basic.nw:
	  Added multiple copy command.
	* noweb/o_copy.nw, noweb/o_move.nw, noweb/o_undo.nw,
	  include/prototype.h, noweb/x_event.nw:
	  Allow rotating while copying or moving objects.
	* noweb/g_hook.nw, noweb/o_complex.nw, noweb/o_misc.nw:
	  Don't draw text if w_current->DONT_REDRAW == 1.
	
2006-05-16 22:31  Dan McMahill <danmc>

	* include/Makefile.am, include/prototype.h, noweb/g_funcs.nw,
	  noweb/g_register.nw, noweb/x_dialog.nw, scheme/pcb.scm: Add a
	  (gschem-filesel) guile function which gives a generic file open
	  and save as dialog box.  Add some placeholder code to the pcb
	  major mode showing how this routine is used.	While here update
	  the pcb major mode TODO list a bit.

2006-05-16 Werner Hoch <werner.ho@gmx.de>:

	* noweb/o_pin.nw: o_pin_end(): fixed whichend drawing and 
	  connection checks.

2006-05-14 Werner Hoch <werner.ho@gmx.de>

	* noweb/x_event.nw: x_event_expose(): fixed some of the redraw error
	  when changing the windows while drawing

	* noweb/o_basic.nw: moved DRAWCOMP state in o_redraw_cleanstates()

	* noweb/o_net.nw: o_net_xorrubber(): added code for L-net

2006-04-25 22:26  Dan McMahill <danmc>

	* include/prototype.h, noweb/g_funcs.nw, noweb/g_register.nw,
	  noweb/x_dialog.nw, scheme/pcb.scm: - add gschem-log, gschem-msg,
	  gschem-confirm scheme functions for logging to the log,
	  displaying a message in a dialog box and executing a confirm
	  dialog box from scheme.

	  - make the pcb mode take advantage of these new features.

2006-04-25 02:14  Dan McMahill <danmc>

	* scheme/pcb.scm: - clean up the code which checks to see if the
	  pipe to pcb is open.	- add signal handlers and exception
	  handlers to gracefully deal with   the user exiting from PCB.  No
	  more crashes from that! - shorten the TODO list :)

2006-04-24 Werner Hoch <werner.ho@gmx.de>

	* noweb/a_zoom.nw: removed redundant redraw

	* noweb/a_basic.nw, noweb/i_callback.nw: added support for transparent
	  zoom while moving, copying and component placement and modifiing.
	  (changes in o_redraw_all(), modifiing arc's and zoom does not work)
	  Added a intermediary select state to enable state jumps.
	  (o_redraw_cleanstates() and it's calls)

2006-04-24 04:02  Dan McMahill <danmc>

	* lib/system-gschemrc.in: move the (still commented out) stuff
	  about pcb to the bottom of the file so the PCB menu ends up on
	  the right instead of the left.  Also we only need to load the
	  pcb.scm file, not manually install the hooks.

2006-04-24 03:59  Dan McMahill <danmc>

	* scheme/pcb.scm: - add the add-hook calls to this file.  We only
	  want the user to have   to load this file to get everything
	  going.

	  - add some real stuff to the custom menu.  We can actually launch
	  pcb	now!

	  - update the TODO list

2006-04-24 03:28  Dan McMahill <danmc>

	* noweb/o_select.nw: repair broken select box

2006-04-24 03:06  Dan McMahill <danmc>

	* noweb/: o_basic.nw, o_buffer.nw, o_copy.nw, o_find.nw,
	  o_select.nw, o_text.nw, x_image.nw, x_print.nw: Repair a segfault
	  introduced by my last commit.  This makes sure we always pass in
	  the correct types to o_select_run_hooks().  For the deselect all,
	  we just pass in a NULL value for o_current and make sure we
	  detect that.

2006-04-23 03:48  Dan McMahill <danmc>

	* include/globals.h, include/prototype.h, lib/system-gschemrc.in,
	  noweb/g_register.nw, noweb/globals.nw, noweb/o_basic.nw,
	  noweb/o_buffer.nw, noweb/o_copy.nw, noweb/o_find.nw,
	  noweb/o_select.nw, noweb/o_text.nw, noweb/x_image.nw,
	  noweb/x_print.nw, scheme/Makefile.am, scheme/pcb.scm: add support
	  for some new hooks:

	  select_component_hook select_net_hook deselect_component_hook
	  deselect_net_hook deselect_all

	  In addition provide a partial example of how one can use these
	  hooks to communicate to pcb.

2006-04-22 Carlos Nieves Onega <cnieves@iespana.es>	

	* noweb/o_complex.nw, noweb/o_move.nw: Allow placing and moving
	  complex objects inside complex objects.

2006-04-15 Werner Hoch <werner.ho@gmx.de>

	* noweb/o_arc.nw: corrected ARC_END_ANGLE calculation in 
	  o_arc_rubberband(), simplified the function.
	  this fixes bug 1468682
	  
	* noweb/a_pan.nw: set loc_x/y to 0 in a_pan_general,
	  this fixes a zoom-while-drawing error

2006-04-14 Werner Hoch <werner.ho@gmx.de>

	* noweb/a_zoom.nw, noweb/a_pan.nw: rubberband redrawing changed
	  moved coordinate calculations to a_pan_general()

	* noweb/i_callback.nw: removed limitations of paning while drawing
	* noweb/o_basic.nw: small fix for moving while drawing

	* noweb/x_print.nw: GTK_BOX pointer type fixes

	* noweb/x_event.nw: drop redundant x_event_motion() events if no
	  mouse button or modifier key change occured.
	  This speeds up moving large selections, copying selections and 
	  mouse paning.

2006-04-09 Carlos Nieves Onega <cnieves@iespana.es>	

        * scheme/auto-place-attribs.scm: Applied patch from Steve Brown
	  It fixes the get_reference function to always return an integer
	  value for horiz-pos and vertical-pos. This fixes bug 1463066.
	  Thanks for the patch.

	* noweb/x_fileselect.nw: Add the "discard changes" button to the
	  close page dialog. This fixes bug 1442948.
	
2006-04-09 Werner Hoch <werner.ho@gmx.de>

	* noweb/x_dialog.nw: find_text_dialog(): moved the descend 
	  checkbutton from the action_area to the vbox.

	* noweb/a_pan.nw: a_pan(), a_pan_mouse() rewritten, they'll use
	  a_pan_general() now, a_pan_calc() removed.

	* noweb/a_pan, noweb/a_zoom.nw, noweb/i_callbacks.nw, noweb/o_misc.nw,
	  noweb/x_event.nw: bugfix for "[ 1443804 ] gschem scrollbars not 
	  updating in all cases", added missing scrollbar updates, removed 
	  duplicate o_redraw_all_fast() calls.

2006-04-03 Werner Hoch <werner.ho@gmx.de>

	* noweb/x_print.nw: print dialog: widged packing fixed, 
	  reported by Tomasz Nowak

2006-03-12 Ales Hvezda   <ahvezda@geda.seul.org>

        * lib/system-gschemrc.in: Removed load for the system-gafrc file,
        since it is loaded by libgeda first.

2006-02-26 Carlos Nieves Onega <cnieves@iespana.es>	

	* noweb/g_hook.nw: Erase the text before changing its attributes
	  in g_set_attrib_text_properties.
	
2006-02-25 Carlos Nieves Onega <cnieves@iespana.es>	
	* include/globals.h, include/prototype.h, noweb/g_hook.nw, 
	  noweb/g_register.nw, noweb/globals.nw, noweb/o_pin.nw, 
	  noweb/o_misc.nw, noweb/o_attrib.nw, noweb/o_complex.nw:
	  Added new hooks.
	  Added new scheme subroutines:
	    - g_add_attrib, which adds an attribute to an object from scheme.
	    - g_get_pin_ends, which returns the ends' coords of a pin.
	    - g_set_attrib_text_properties, which sets all text properties 
	      of an attribute.
	    - g_get_object_bounds, which returns a list with the object bounds.
	    - g_get_object_pins, which returns a list with the pins.
	
	* scheme/Makefile.am, scheme/auto-place-attribs.scm:
	  Added new functions to autoplace the attributes.
	
	* lib/system-gschemrc.in:
	  Modified the system-gschemrc file so gschem adds automatically
	  the default pin attributes when placing a new pin, and also
	  to automatically place the text attributes.
	
	* noweb/i_vars.h: Fixed compiler warning.

	* po/es_ES.po: fixed some strings.
	
2006-02-25 Carlos Nieves Onega <cnieves@iespana.es>
	* noweb/o_misc.nw: Set the backup file readonly, so an 'rm *'
	command will ask the user if he really wants to delete the file.

2006-01-23 Ales Hvezda   <ahvezda@geda.seul.org>

        * po/*: auto* tools update all po files for distribution.

	* src/Makefile.am (and the toplevel Makefile): Applied build
	patch by Matthias Wenzel.  Thanks.

2006-01-22 Ales Hvezda   <ahvezda@geda.seul.org>

        * autogen.sh, m4/guile.m4, m4/gettext.m4, src/Makefile.am: Removed 
	m4 files since they are installation specifc.  Also, all required
	libraries should be coming from LIBGEDA_LDFLAGS

	* po/it_IT.po: Updated to the latest version from Michele Petrecca.
	Thanks.

2006-01-16 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.ac: Bumped package version to 20060123

	* noweb/x_fileselect.nw: Changed button order to be Open/Cancel and
	Save/Cancel.  This is so that the application's dialog boxes are
	consistent everywhere.

        * README: Updated for the new year and release.

2006-01-13 Carlos Nieves Onega <cnieves@iespana.es>	
	* po/es_ES.po: Updated the spanish translation.
	
2006-01-12  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* po/fr_FR.po: Updated the French translation.

	* po/*: Updated and merged i18n files.
	
	* noweb/rcstrings.nw: Rebuilt file from latest system-gschemrc.

2006-01-11  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* po/fr_FR.po: Updated the French translation.
	
	* po/*: Updated and merged i18n files.
	
	* noweb/i_callbacks.nw, noweb/o_misc.nw, noweb/o_picture.nw:
	* noweb/o_text.nw, noweb/x_image.nw, noweb/x_preview.nw:
	Added missing marks for gettext on log messages.
	
	* noweb/x_dialog.nw, noweb/x_menus.nw:
	* noweb/x_multiattrib.nw, noweb/x_pagesel.nw: Marked strings in
	structures (popup menus and option menus) for i18n with N_().

	* include/globals.h: Introduced macro N_() as short for
	gettext_noop().

2006-01-07  Stuart Brorson  <sdb AT cloud9 DOT net>
        * autogen.sh, Included "-I m4" into
        aclocal to pick up macros from local m4 dir.
	
	*  src/Makefile.am:  Added @GUILE_LDFLAGS@ to gschem_LDADD
	to force pick-up of lguile.
	
2006-01-07  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* po/fr_FR.po: Updated the French translation.

	* noweb/rcstrings.nw: Updated menu entries for un/embedding
	components and pictures.
	
2005-12-17 Carlos Nieves Onega <cnieves@iespana.es>	
	* noweb/o_attrib.nw, noweb/o_text.nw, noweb/x_multiattrib.nw:
	In x_multiattrib: moved handling of slot attribute after 
	calling o_text_change or o_attrib_add_attrib into those functions.
	This is just calling o_slot_end after changed or added a slot
	attribute.
	This fixes the bug reported by Karel Kulhavy: graphic symbol is
	not updated when adding a slot attribute using the single attribute
	editor. Thanks for the bug report.
	
2005-12-17 Carlos Nieves Onega <cnieves@iespana.es>	
	* noweb/x_attribedit.nw:
	When mass replacing properties using the add property command,
	don't delete the old attribute and add a new one: just change
	the property text, visibility and show proerties, keeping the 
	text location.
	Bug reported by Karel Kulhavy. Thanks for the bug report.
	
2005-12-17 Carlos Nieves Onega <cnieves@iespana.es>	
	* include/prototype.h, noweb/x_color.nw, noweb/x_dialog.nw:
	Changed	function x_color_get_name to use dynamic memory allocation.
	Now it returns a newly allocated string with the colorname.
	This should fix a bug found by John Doty: the 'ex' command provoked
	a bus error in gschem under MacOS 10.4.3. Thanks for the bug report.
	
2005-12-02 Carlos Nieves Onega <cnieves@iespana.es>	
	* noweb/x_preview.nw: Disable the autosave feature in previews. 
	This change, together with some libgeda changes at the same date
	will fix some gschem crashes reported by David Carr. Thanks David!

2005-11-28 Carlos Nieves Onega <cnieves@iespana.es>
	* noweb/x_fileselect.nw: 
	Applied minor patch to file selector so the user sees the "Save as"
	button instead of "Open" when saving the schematic.
	Thanks to David Carr for noticing it and sending the patch.
	
2005-11-27 Carlos Nieves Onega <cnieves@iespana.es>
        * include/prototype.h, noweb/globals.h, noweb/o_misc.nw, 
	  noweb/x_fileselect.nw:
	Now gschems checks if there is an autosave backup file when
	loading a schematic. If it exists, then gschem asks the user
	what to do.

2005-11-18 Carlos Nieves Onega <cnieves@iespana.es>	
	* include/prototype.h, lib/system-gschemrc.in, noweb/o_misc.nw,
	  noweb/o_undo.nw:
	Changed autosave code so the timer callback doesn't do the
	autosave backups. Now are made within o_undo_savestate, so
	backups will ONLY be saved when there was a change to the 
	schematic and there was a timeout of the autosave timer.	

2005-11-06 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_pin.nw, o_bus.nw, o_net.nw: Changed the rubber band erase
	method to properly erase all xor segments properly.

	* noweb/o_net.nw: Changed the net "L" drawing to prevent the
	drawing of the secondary net if a connection is made after the
	primary net is drawn/added.

	* noweb/i_callbacks.nw: Added missing if test to allow pictures to
	be unembedded.

	* lib/system-gschemrc.in: Enabled preview by default when placing
	components.

	* lib/system-gschemrc.in, noweb/i_basic.nw: Updated Embed/Unembed
	menu option to also include pictures

2005-10-30 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_log.nw: Added an if to prevent a core dump if the log file
	cannot be opened. Bug reported by John Luciani.

	* configure.ac: Removed check for gtk+ 2.6.x or greater since gtk+ 
	already provides this information.

2005-10-29 Carlos Nieves Onega <cnieves@iespana.es>	
        * include/i_vars.h, include/prototype.h, lib/system-gschemrc.in,
	  noweb/g_rc.nw, noweb/g_register.nw, noweb/i_vars.nw, 
	  noweb/o_undo.nw:
	  Added support for backup copies and autosaving every 
	  "interval" seconds (configurable through system-gschemrc).
	
2005-10-23 Carlos Nieves Onega <cnieves@iespana.es>	
	* include/prototype.h, noweb/x_fileselect.nw, noweb/x_preview.nw:
	Removed a conditional #if in x_preview_setup. It was introduced in
	my last changes.
	x_preview_setup should create the drawing_area. Otherwise, it 
	will segfault when adding a new component.
	Added check at the beginning of x_fileselect_setup to use the 
	old function when adding a new component, before doing anything 
	else.
	
2005-10-17 Carlos Nieves Onega <cnieves@iespana.es>	
	* include/prototype.h, noweb/x_fileselect.nw, noweb/x_preview.nw:
	Updated file load/save window using GTK widgets. File preview is 
	missing yet.

2005-10-15 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_image.nw: Added some code to make sure non-default sized
	image are correctly created.  Added code to convert pixbufs to 
	greyscale to implement the image-color rc keyword.

	* configure.ac: Added check for gtk+ 2.6.x or greater to support some
	future additions.

2005-10-15 Carlos Nieves Onega <cnieves@iespana.es>	
        * noweb/x_image.nw: Remove the grid when exporting to PNG.
	Reorganize and comment some code.
	Remove text origin markers when exporting to PNG.
	
2005-10-15 Carlos Nieves Onega <cnieves@iespana.es>	
        * noweb/prototype.h, noweb/i_callbacks.nw, noweb/x_image.nw:
	Added code to export the schematic to PNG, including pictures,
	without using libgdgeda.
	
2005-10-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* examples/gEDA_Flow.sch: Added simple PCB design flow diagram drawn
	by Stuart.
	
2005-10-05 Werner Hoch <werner.ho@gmx.de>
	* noweb/o_net.nw: added the patch from David Carr.
	when drawing a net, there will be two segments in an L-shape.
	the shift-key changes the drawing path.

2005-10-04 Werner Hoch <werner.ho@gmx.de>
	* noweb/x_dialog.nw: removed gettext makro from a programm string

2005-09-30 Carlos Nieves Onega <cnieves@iespana.es>	
	* noweb/o_misc.nw, noweb/i_callbacks.nw: 
	Added code to embed/unembed pictures.

2005-09-30 Carlos Nieves Onega <cnieves@iespana.es>
        * noweb/i_basic.nw: Added missing check.
	
2005-09-30 Carlos Nieves Onega <cnieves@iespana.es>
        * noweb/i_basic.nw: Fixed memory leak which maked gschem to segfault 
	when adding pictures. Undid the last patch made by Dan (a NULL string
	is not the same as a "" string, so it maked gschem segfault), and
	changed the g_strdup_printf("") to g_strdup(""). This fixes the 
	compiler warning Dan wanted to fix.
	
2005-09-27 18:38  Dan McMahill <danmc>

        * docs/gschemdoc.texi: add title to remove warnings

2005-09-27 18:36  Dan McMahill <danmc>

        * noweb/: i_basic.nw, o_misc.nw: remove various compiler warnings

2005-09-09 08:05  Dan McMahill <danmc>

	* noweb/x_dialog.nw: don't declare variables in the middle of
	  functions.  Not all compilers like that.

2005-09-05 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_image.nw: Applied patch by Michael Hanselmann which
	makes sure that proportions are preserved when exporting a
	schematic to a PNG file.  Thanks for the bug fix.

        * po/it_IT.po: Updated the Italian translation by Petrecca Michele.

2005-08-20 Ales Hvezda   <ahvezda@geda.seul.org>

        * po/it_IT.po: Updated the Italian translation by Petrecca Michele.

2005-08-19 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_text.nw, x_dialog.nw: Applied Matthias Wenzel's color 
	and usability patch.  Thanks.  The Edit/Color... dialog now makes
	the selected object's color the default color in the dialog box and
	the Edit/Text Edit... dialog box has the color selector.

	* noweb/x_event.nw: Fixed a long standing crash that if you disable
	the scrollbars and tried to scroll with a wheel button, gschem will
	crash.  You cannot disable the scrollbars and still scroll with the
	wheel.  This is an unfortunate effect of how the scroll wheel code
	is implemented (it needs the scrollbars to exist).

        * configure.ac: Bumped the package version to 20050820 which will be
        a real snapshot.

2005-08-14 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/g_rc.nw, g_register.nw, i_vars.nw: Added 
	g_rc_grid_fixed_threshold, g_rc_grid_mode and
	g_rc_add_attribute_offset (which isn't used yet)

	* noweb/x_grid.nw: Added implmentation for fixed grid mode and
	threshold (control by grid-mode and grid-fixed-threshold keywords).

        * configure.ac: Updated package version to 20050814.  This is a 
        temporary version and not a real release number.

2005-08-04 22:49  Dan McMahill <danmc>

	* include/globals.h, noweb/globals.nw, noweb/parsecmd.nw,
	  noweb/x_log.nw, noweb/x_window.nw: add a new commandline option
	  '-p' which automatically places the main gschem window and the
	  gschem log window at startup time rather than letting the window
	  manager figure out what to do.  This is useful when doing batch
	  processing of schematics and you want to call gschem several
	  times with no manual interaction.

2005-06-26 Ales Hvezda   <ahvezda@geda.seul.org>

        * include/globals.h, noweb/global.c: Removed a completely bogus
        extern declaration and variable.  Reported by Wojciech Kazubski.
        Thanks.

2005-06-17 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/i_vars.nw, x_window.nw: Fixed a long standing bug
	found in the OSX which prevented the full world space to used.
	Basically a variable was defined twice, once in libgeda and once
	in gschem.  Apparently OSX behaves very differently when this
	happens (the two variables are different while other platforms
	didn't complain but the "right" thing happened).  This bug was 
	created when the rc code was refactored.

2005-03-13 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Removed all tests for gtk+ 1.2.x and fixed error 
        message if gtk+ 2.2.x is not found.

2005-03-12 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/nl_NL.po: Checked in updated Dutch translation from 
	Bert Timmerman.  Thanks Bert.  

	* po/nl_NL.po: Also converted file to UTF-8, even though there
	was no conversion necessary.  This is to be consistent with the other
	translations.

2005-03-12  Carlos Nieves Onega <cnieves@iespana.es>

	* po/es_ES.po: updated spanish translation.
	
2005-03-10  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/x_multiattrib.nw: Made it close the dialog on a key press
	of Escape.

2005-03-09 Werner Hoch <werner.ho@gmx.de>
	* po/de_DE.po: updated translation
	* noweb/x_dialog.nw: added refdes=U to the list, removed
	  gettext brackets

2005-03-08 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Bumped version to 20050313

	* po/POTFILES.in: For some odd reason, the list of files in this
	file was really out of date, so updated it.  

	* Ran make dist to update geda-gschem.pot

	* noweb/x_fileselect.nw: Fixed uninitialized variable warning

2005-03-05 Werner Hoch <werner.ho@gmx.de>
	* noweb/o_misc.nw: added error handling for missing source pages
	* noweb/x_dialog.nw: swapped apply and close button position

2005-03-06 Ales Hvezda   <ahvezda@geda.seul.org>

	* tests/Makefile.am: Added missing files to EXTRA_DIST

	* lib/system-gschemrc.in: Fixed hotkey for Autonumber Text... dialog
	box to be unique (so it will even work; hasn't worked since 01/2001).

        * noweb/gschem.c: Fixed code to allow user to specify absolute
        filenames on the command line again.

	* tests/agile-vfo-block_1.sch: Moved schematic into test directory 
	since it's out-of-date.	

2005-03-05 Werner Hoch <werner.ho@gmx.de>
	* noweb/x_dialog.nw: changed the autonumber_text dialog
	* noweb/o_misc.nw: changed functions which support the autonumber 
		dialog
	
2005-03-05 Carlos Nieves Onega <cnieves@iespana.es>
	* noweb/gschem.nw:
	  Removing call to o_text_init, since it's now called in libgeda_init.

2005-02-28  Carlos Nieves Onega <cnieves@iespana.es>

	* po/es_ES.po: updated spanish translation.
	
2005-02-28  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* scripts/notangle_guile.in: Improved script with changes suggested
	by Thien-Thi Nguyen.

	* noweb/x_multiattrib.nw (multiattrib_callback_edited_name) 
	(multiattrib_callback_edited_value): Added code to check for changes
	in a slot attribute.

	* noweb/x_log.nw (x_log_open): Fixed to actually raise the dialog.

2005-02-27  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/i_callbacks.nw (i_callback_hierarchy_down_symbol): Changed
	to exclude embedded symbols from the hierarchy feature.
	
	* noweb/x_multiattrib.nw: Modified dialog to make it possible to
	set multi-line values at adding of attributes.
	Changed the behavior of the value column to stop edition when
	hitting the Enter key: for a new line, use Ctrl+Enter.

2005-02-26  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/x_multiattrib.nw (x_multiattrib_open): Fixed bug #153 (first 
	reported by Ales): added missing reset of toplevel's state at
	closing of dialog.
	Created a new CellRenderer for multi-line cells. It is used by the
	column 'value' of the attributes list.
	(multiattrib_callback_edited_name): Added a check on the future
	attribute's name: reject empty names and issue a message.

2005-02-25 Werner Hoch <werner.ho@gmx.de>

	* noweb/o_misc.nw: fixed autonumber_text

2005-02-24  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/x_multiattrib.nw: Removed unused variables and fixed a couple 
	of gcc warnings.
	
	* noweb/g_funcs.nw (hash_table_2_list): Replaced deprecated guile 
	functions with their equivalents in the new scm interface.

	* scripts/notangle_guile.in: New version.
	
	* configure.ac, scripts/Makefile.am: Adapted for renaming of script.
	
	* scripts/notangle_guile.scm.in: Renamed to notangle_guile.in.

2005-02-22  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/x_log.nw: Fixed to work with GTK 2.2.

2005-02-21  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/o_misc.nw (o_edit): Adapted for new dialog.

	* include/x_multiattrib.h: New file for the new x_multiattrib.nw.
	
	* noweb/x_multiattrib.nw: Modified the dialog to remove deprecated 
	widgets and enable edition of attributes directly from the list.
	
	* noweb/x_pagesel.nw: Added a context-sensitive menu to the list of 
	pages and a label below for information.

2005-02-21 04:11  Dan McMahill <danmc>

	* noweb/x_fileselect.nw: remove unused variable

2005-02-21 04:10  Dan McMahill <danmc>

	* noweb/x_log.nw: add a missing GTK_TEXT_VIEW ()

2005-02-21 04:06  Dan McMahill <danmc>

	* noweb/x_pagesel.nw: specify return type for some static functions

2005-02-21 03:58  Dan McMahill <danmc>

	* autogen.sh: avoid using the '-path' primary to find(1) as it's an
	  extension to posix.2 and is not supported on some operating
	  systems such as solaris.  Now we can autogen.sh on solaris 9.

2005-02-21 03:07  Dan McMahill <danmc>

	* noweb/o_text.nw: fix some format string/type mismatch bugs

2005-02-21 03:07  Dan McMahill <danmc>

	* noweb/g_rc.nw: comment out some unused variables which are part
	  of commented out code

2005-02-15 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_log.nw: Added code to scroll to the end of the text buffer
	when the log window is opened up.

	* noweb/i_callbacks.nw: Added implementation for the add_picture_hotkey
	callback.

	* lib/system-gschemrc.in: Added hotkey assignment "ag" to 
	Add/Picture... and move the new item to the bottom of the menu list.

	* noweb/x_menu.nw: Applied part of a patch from Patrick Ammann to
	add "Add/..." in front of some of the commands in the popup menu.

2005-02-20  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/i_callbacks.nw, noweb/gschem.nw: Adapted for new logging 
	system.
	
	* include/x_log.h: New header file for new x_log.nw.

	* noweb/x_log.nw: Cleaned-up.

2005-02-19  Carlos Nieves Onega <cnieves@iespana.es>

	* bitmap/Makefile.am, bitmap/README: Added new file gschem-warning.png.
	* include/prototype.h, include/x_states.h, lib/system-gschemrc.in,
	  noweb/Makefile.am, noweb/g_keys.nw, noweb/g_register.nw, 
	  noweb/globals.nw, noweb/i_basic.nw, noweb/i_callbacks.nw,
	  noweb/o_basic.nw, noweb/o_complex.nw, noweb/o_copy.nw,
	  noweb/o_delete.nw, noweb/o_grips.nw, noweb/o_misc.nw,
	  noweb/o_move.nw, noweb/o_picture.nw, noweb/rcstrings.nw,
	  noweb/x_event.nw, src/Makefile.am:
	  Added picture support.	
	
2005-02-15 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/fr_FR.po, LINGUAS: Added French translation by Iznogood.

2005-02-14 22:29  Dan McMahill <danmc>

	* noweb/x_preview.nw: add missing header file needed for chdir()

2005-02-13  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/g_keys.nw (g_get_selected_component_attributes): Adapted for 
	new prototype of get_selected_component_attributes.
	(g_get_selected_filename): Adapted for new prototype of 
	get_selected_filename;

	* noweb/g_funcs.nw (get_selected_component_attributes): Rewritten to 
	use a GLib hash table instead of the libgeda s_scratch code. Also 
	reduced number of parameters.
	(get_selected_filename): Reduced number of parameters.

2005-02-13  Carlos Nieves Onega <cnieves@iespana.es>

        * po/es_ES.po, po/LINGUAS: Added first version of spanish translation.
	
2005-02-13  Carlos Nieves Onega <cnieves@iespana.es>

	* include/prototype.h, noweb/x_pagesel.nw:
	  Commented out the code defining the "Discard page" button,
	  so it doesn't appear in the page manager.
	  Added new function "e_gtk_button_new_with_icon" which allows
	  to create a button with a given text, and an icon from the GTK
	  stock. Which is the right file to include such a generic function?
	  If texts like "Add page" are preferred in the buttons, then
	  there is only needed to comment a line, and uncomment another.
	  See the code of pagesel_init pagesel function.
	 
2005-02-12  Carlos Nieves Onega <cnieves@iespana.es>

	* noweb/x_attribedit.nw, noweb/x_dialog.nw, noweb/x_fileselect.nw,
	  noweb/x_image.nw, noweb/x_log.nw, noweb/x_multiattrib.nw, 
	  noweb/x_print.nw, noweb/x_pagesel.nw: 
	  Beautify buttons (use GTK stock).
	
2005-02-11  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/gschem.nw, noweb/i_callbacks.nw, noweb/o_undo.nw:
	* noweb/x_fileselect.nw, noweb/x_window.nw: Changed for new page 
	manager.
	
	* include/x_pagesel.h: New header file for new page manager.
	
	* noweb/x_pagesel.nw: New page manager in GTK 2.x with hierarchy 
	display.

	* noweb/i_callbacks.nw, noweb/o_undo.nw, noweb/x_fileselect.nw:
	* noweb/x_image.nw, noweb/x_preview.nw: Adapted for new toplevel and 
	page APIs in libgeda.
	
	* noweb/x_window.nw: Refactored to avoid duplication of code with 
	libgeda.

2005-02-08 22:28  Dan McMahill <danmc>

	* noweb/g_register.nw: replace deprecated guile functions with
	  approved guile-1.6.6 ones

2005-02-04  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/*.nw: Made it use GLib's G_DIR_SEPARATOR* instead of 
	libgeda's *_SEPARATER_*.
	Replaced u_basic_strdup() and u_basic_strdup_multiple() by GLib 
        functions.

2005-02-04 04:39  danmc

	* configure.ac, noweb/a_pan.nw, noweb/a_zoom.nw, noweb/g_funcs.nw,
	  noweb/g_hook.nw, noweb/g_keys.nw, noweb/g_rc.nw,
	  noweb/g_register.nw, noweb/globals.nw, noweb/gschem.nw,
	  noweb/i_basic.nw, noweb/i_callbacks.nw, noweb/i_vars.nw,
	  noweb/o_arc.nw, noweb/o_attrib.nw, noweb/o_basic.nw,
	  noweb/o_box.nw, noweb/o_buffer.nw, noweb/o_bus.nw,
	  noweb/o_circle.nw, noweb/o_complex.nw, noweb/o_copy.nw,
	  noweb/o_cue.nw, noweb/o_delete.nw, noweb/o_find.nw,
	  noweb/o_grips.nw, noweb/o_line.nw, noweb/o_misc.nw,
	  noweb/o_move.nw, noweb/o_net.nw, noweb/o_pin.nw,
	  noweb/o_select.nw, noweb/o_slot.nw, noweb/o_text.nw,
	  noweb/o_undo.nw, noweb/parsecmd.nw, noweb/x_attribedit.nw,
	  noweb/x_basic.nw, noweb/x_color.nw, noweb/x_dialog.nw,
	  noweb/x_event.nw, noweb/x_fileselect.nw, noweb/x_grid.nw,
	  noweb/x_image.nw, noweb/x_log.nw, noweb/x_menus.nw,
	  noweb/x_multiattrib.nw, noweb/x_pagesel.nw, noweb/x_preview.nw,
	  noweb/x_print.nw, noweb/x_script.nw, noweb/x_stroke.nw,
	  noweb/x_window.nw: - add dmalloc debugging support, enabled by
	  --enable-dmalloc - add Electric Fence debugging support, enabled
	  by --enable-efence

	  Both are off by default

2005-02-03 23:04  danmc

	* include/prototype.h, noweb/o_misc.nw, noweb/o_net.nw,
	  noweb/x_attribedit.nw, noweb/x_fileselect.nw, noweb/x_image.nw,
	  noweb/x_print.nw, noweb/x_script.nw: - lots of clean up of
	  'const' usage.  Seems to have squished all   gcc warnings around
	  const.  Mostly this involved adding lots of	missing const's.  -
	  also add a few missing prototypes and header files.  - fix call
	  to realpath (it was being given a pointer to a pointer rather
	  than a pointer).

2005-02-01  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/*.nw: Switched to the new scm interface of guile.

2005-01-29  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/gschem.nw, noweb/o_misc.nw:
	* noweb/o_net.nw, noweb/x_fileselect.nw: Adapted for new component 
	library code.

2005-01-28  Stuart Brorson <sdb@cloud9.net>

	* noweb/x_preview.nw:  Incorporated patch from Patrick Bernaud.
	
2005-01-27  Stuart Brorson <sdb@cloud9.net>

	* include/prototype.h, noweb/gschem.nw, noweb/i_callbacks.nw,
	noweb/x_fileselect.nw, noweb/x_preview.nw, noweb/x_window.nw:
	Changes made to enable correct opening
	of schematics in foreign directories.  New algorithm:
	
        1.  Take the filename the user wants to open.
        2.  Turn it into an absolute path, like /foo/bar/baz.sch
        3.  From the path, figure out the directory, /foo/bar
        4.  From this, create the absolute path to the local gafrc, 
	    /foo/bar/gafrc.
        5.  cd to /foo/bar
        6.  read /foo/bar/gafrc while sitting in the directory /foo/bar.  
	    This takes care of all the guile search path problems, 
	    like when people put things like 
	    (component-library "../common/symlib") or some such into
            their RC files.
        7.  After that, read the file itself.
        8.  Leave the directory set to this directory.  
	
2005-01-23 Ales Hvezda   <ahvezda@geda.seul.org>

	* tests/missing.sch, Makefile.am: Added test schematic to test
	missing component rendering.

	* tests/symversion3.sch: Added components which have no attributes
	(one in the middle of the file and one at the end).  This tests a 
	but which has been fixed in libgeda dealing with symversion= handling.

2005-01-23  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/x_fileselect.nw (x_fileselect_comp_fill_components): Removed 
	the duplicate message of failure to open directory. It also fix the 
	problem reported by Bob Paddock.

2005-01-22 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_attrib.nw, o_buffer.nw, o_bus.nw, o_complex.nw, o_copy.nw,
	o_cue.nw, o_delete.nw, o_misc.nw, o_move.nw, o_net.nw, x_attribedit.nw:
	Added code to make OBJ_PLACEHOLDER a first class object/citizen
	(it is rendered and can be manipulated to some degree in gschem)

2005-01-16  Stuart Brorson <sdb@cloud9.net>
	* noweb/i_basic.nw, noweb/x_menus.nw: incorporated right
	mouse button bring-up of "up hierarchy", as requested.
	
2005-01-15  Stuart Brorson <sdb@cloud9.net>
	* noweb/(gschem.nw, i_basic.nw, x_event.nw, x_menus.nw, 
	w_window.nw): Various changes made to enable right-button-
	mouse bring up of hierarchy menus.  Made hierarchy menus grey
	out when no components are selected.
	
	* noweb/x_log.nw, include/prototype.h: changed x_log_init 
	to take const char as arg since it's always called with a
	quoted string.

2005-01-14 Handsome Greg <xdissent@gmail.com>
 
	* noweb/g_keys.nw: Replaced all g_key_ functions with g_keys_X
	and changed associated makefile generation scripts and docs to
	reflect this change. (fixes Gtk/Glib-2.6.0). Applied by Ales, 
	the following files changed:
		M include/prototype.h
		M docs/gschemdoc.texi
		M src/Makefile.am
		M docs/Makefile.am
		M noweb/Makefile.am
		A noweb/g_keys.nw
		R noweb/g_key.nw 
		M noweb/g_register.nw
 		M noweb/x_event.nw

2005-01-08  Stuart Brorson <sdb@cloud9.net>
	* noweb/x_multiattrib.nw: Added symbol name to items displayed 
	in multiattrib dialog box.
	
2005-01-07  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/x_fileselect.nw (x_fileselect_comp_fill_components) 
	(x_fileselect_search_library): Updated for the new s_clib_getfiles() 
	that fixes file number limitation.

	* noweb/i_callbacks.nw 
	(i_callback_edit_embed, i_callback_edit_unembed): Updated for new 
	o_embed() and o_unembed().

	* noweb/o_misc.nw (o_embed, o_unembed): Cleaned-up code, changed
	prototype to take a single object and make it issue a message to
	log when done.

	* noweb/i_callbacks.nw (i_callback_edit_filltype): Modified to
	create a list of relevant objects that is passed to
	fill_type_dialog.

	* noweb/x_dialog.nw (fill_type_dialog*): Rewrote code for this
	dialog to work one more than a single object (on the model of
	line_type_dialog).
	
	* noweb/o_misc.nw (o_update_component): Added initialization of
	attribute list and a redraw for each new attribute object.

2005-01-04 Stuart Broson   <sdb@cloud9.net>

	* lib/system-gschemrc: Changed system-commonrc to system-gafrc.

2005-01-04 Ales Hvezda   <ahvezda@geda.seul.org>

	* include/i_vars.h, prototype.h, noweb/g_rc.nw, g_register.nw,
	i_vars.nw, lib/system-gschemrc.in: Added a new keyword
	"output-vector-threshold" which controls the minimum number lines
	(in a multi-line text object) that are output using the postscript
	font.  If the threshold (in number of lines) is exceeded then
	the multi-line text item is output using the vector font.

2005-01-04  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/i_callbacks.nw (i_callback_edit_linetype): Modified to create 
	a list of relevant objects that is passed to line_type_dialog.

	* noweb/x_dialog.nw (line_type_dialog*): Rewrote most of the code
	for the line type dialog. Now it applies to more than a single
	object.
	
	* noweb/i_callbacks.nw (i_callback_edit_update): Adapted for the
	new o_update_component().

	* noweb/o_misc.nw (o_update_component): Rewritten function to
	avoid duplication of attributes when updating. Prototype change to
	take a single object as second argument.

2004-12-28 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/it_IT.po: Added the Italian translation by Petrecca Michele.
  	Thanks!

	* noweb/o_misc.nw: Fixed one possible cause for a crash when updating
	components.  Also started adding the other two requested modes of
	update component (delete and intelligent replace).  These two other
	modes are not functional yet.

	* noweb/x_grid.nw, i_vars.nw, g_rc.nw, g_register.nw, 
	lib/system-gschemrc.in: Added the ability to adjust the grid
	dot size via the "grid-dot-size" rc keyword.

2004-12-27 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Updated version to 20041228

2004-10-27 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Added comment to attribute list.

2004-07-06 Ales Hvezda   <ahvezda@geda.seul.org>

	* tests/versionsym1.sch versionsym2.sch versionsym3.sch
	versionsym_basic.sym versionsym_invalid.sym versionsym_major.sym
	versionsym_minor.sym versionsym_minor2.sym: Added a bunch of 
	test schematic for the symversion attribute

	* tests/gafrc: Added the first global rc file for all gaf tools.

	* lib/system-gschemrc.in: Added symversion= to the attribute list
	keyword. 

	* noweb/gschem.nw: Added call to put up an error dialog box if there
	are symbols which have changed too much.

	* noweb/x_window.nw: Added code to free up the list of changed 
	refdes (symbols which have changed too much are put into a list which
	the major changed dialog displays).

	* noweb/x_dialog.nw: Added code to implement the symbol has "changed 
	majorly" dialog box.

	* noweb/x_dialog.nw: Added some code to make the new dialog box
	work with gtk+ 1.2.x.

	* noweb/i_callbacks.nw: Added a question dialog box when reverting
	a page.  I lost several schematics because I accidentally hit page
	revert (you cannot undo a page revert).  This dialog box is only
	implemented for gtk+ 2.2.x

	* tests/versionsym*.sch: Minor updates

2004-07-03 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.ac: spelling and grammar fixes

	* include/Makefile.am, include/papersizes.h: Moved papersizes.h
	into libgeda and fixed makefile for this change.
	
	* noweb/*.nw: Removed reference to papersizes.h include file 
	(now inside of libgeda).

	* include/i_vars.h, prototype.h, noweb/g_rc.nw, g_register.nw,
	gschem.nw, i_vars.nw: Removed a whole bunch of rc related code.
	The removed code was moved into libgeda.

	* noweb/g_rc.nw: Added g_rc_parse_gtkrc() as a special parse
	routine for gschem only.

        * configure.ac: Updated version to 20040710

2004-05-31 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Removed a false comment from the comment 
	block around sort-components-library.  Pointed out by Andreas Fester.

	* noweb/gschem.nw: Added an #ifdef HAS_GTK22 around the call to
	gtk_disable_locale call, since it is gtk+ 2.2.x specific.

	* include/prototype.h noweb/x_event.nw noweb/x_window.nw: Applied
	scrolled wheel patch by Sascha Silbe.  Thanks!

	* noweb/x_event.nw, x_window.nw: Added #ifdef HAS_GTK22 since
	these functions used are gtk+ 2.2.x specific.  Also added some
	code that if you hold down the control key and scroll in the
	vertical direction, you will pan left or right.  This is for
	people who don't have two scroll wheels.

2004-05-23 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/gschem.nw: Applied patch (with additional comments) to 
	fix gtk's desire to override LC_NUMERIC which breaks the postscript
	output (by changing periods to commas).  Original fix by Bill Wilson,
	patch by Andreas Fester.  Thanks.

2004-01-17 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_fileselect.nw: Moved the component option combo menu into
	the vbox to fix the garbage which people have been seeing.  Turns
	out that if the combomenu is in the searchbox, then the preview
	drawing area gets resized which is not permited (otherwise you 
	get garbage).  Pointed out and fixed by Carlos.  Thanks.

	* noweb/x_preview.nw: Removed the gtk+ 1.2.x hack, because the
	above fixed it for both gtk+ 1.2.x and 2.2.x.

        * config.h.in: Remove machine generated file.

2004-01-11 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/gschem.nw: Added a call to the scrollbar update code to fix
	the "scrollbars are wrong on startup" bug.

        * configure.ac: Updated version to 20040111

	* noweb/i_basic.nw o_slot.nw o_text.nw x_fileselect.nw x_image.nw:
	Fixed most -Wall warnings

2004-01-10 Ales Hvezda   <ahvezda@geda.seul.org>

	* tests/multiline3.sch: Added another test schematic for the 
	multiline code (mainly for PS testing)

2004-01-04 Ales Hvezda   <ahvezda@geda.seul.org>

	* tests/ext_chars.sch: Added all the new spanish characters by 
	Carlos to the test schematic.

	* docs/gschem.1: Spent a little time fixing up the man page.

	* examples/*.sch: Updated most schematics to the last file format
	version.

2004-01-01 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_preview.nw: Set the size of all preview windows to the
	minimum of 160x136.  Even though this does not have the right 
	aspect ratio, it does get rid of some garbage that was showing up	
	when using gtk+ 1.2.x.  gtk+ 1.2.x was ignoring my specification of
	160x120 and instead setting the window size to 160x136.  This change
	is only for gtk+ 1.2.x, gtk+ 2.2.x uses 160x120 and allows this size.

        * configure.ac: Added --with-docdir command line flag as well all
        the code to support installing documentation.  Also added a prog
        check for groff.

	* docs/Makefile.am: Added commands to generate an html version
	of the man page.  This html man page gets installed into the 
	documentation directory.

	* docs/gschem.1: Minor updates and fixes.

	* noweb/x_window.nw: Fixed a very long standing bug identified by
	Karel Kulhav which deals with opening up a schematic, then a
	new window and then opening a new schematic or closing the new 
	window.  The bug was that the wrong window will get the open or 
	close event.  The fix was to change enter_notify event to be the
	main window and not the drawing_area.  Thanks for the bug report
	Karel.

2003-12-31 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_multiattrib.nw: Moved some code around to fix a memory 
	leak.

        * include/prototype.h: Added missing function prototype.

	* tests/attributes.sch: Added test schematic specifically for all 
	the different types of valid/invalid attributes.

        * configure.ac: Bumped version to 20031231

	* m4/Makefile.am: Added some missing *.m4 files to EXTRA_DIST.

2003-12-30 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_text.nw: Fixed the quick text rectangle to be the right
	size using the new displayed_width and displayed_height variables
	in the st_text structure.

	* noweb/o_text.nw: Refactored the quick text rectangle rendering
	code into its own function.  Added some #if 0'ed code in prep for a 
	future performance enhancement.

	* noweb/x_log.nw: Further refined the appearance of the log/status
	dialog box.

	* noweb/x_fileselect.nw: Integrated Stuart's multiple select/open
	code changes.  Thanks Stuart. You can now pick multiple files from 
	the file list and they will all be opened.  Use the shift and 
	control keys to pick the individual files.

	
2003-12-29 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/pt_BR.po: Replaced file by new UTF-8 version provided by 
	Antonio.

	* noweb/x_multiattrib.nw: Applied a patch by Carlos to add
	multi line attribute editing.  This work should also be 
	ported to the single attribute add/edit dialog box.

	* noweb/x_multiattrib.nw: Improved the appearance of the 
	new GtkTextView by placing it into a GtkViewport which provides
	a nice border.  Not sure this is the most correct way of doing
	this, but it does work.

	* noweb/x_dialog.nw: Applied the same appearance fix to the 
	add text and edit text dialog box.  Put some white space around
	the edit text dialog box to make it look a little better.  The
	edit text dialog box needs a major overhaul.  

	* noweb/x_log.nw: Also added a viewport to the log/status dialog box.
	Changed the large close button to an edge aligned button and
	increased the size of the log/status dialog box.

	* noweb/x_print.nw, x_attribedit.nw: Various appearance improvements.

	* noweb/x_dialog.nw: Added border space to almost all most 
	dialog boxes.  They look a little better now.

	* tests/multiline.sch, multiline2.sch: Added and improved these
	test schematics to test the postscript printing code.
	
2003-12-22 Ales Hvezda   <ahvezda@geda.seul.org>

        * ABOUT-NLS: Removed machine generated file from CVS

        * po/.cvsignore, intl/.cvsignore: Updated files with new files
        from gettext 0.12.1

        * configure.ac: Updated to gettext 0.12.1

2003-11-27 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_menus.nw: Fixed the alignment of the hotkeys in the pull
	down menus to be mostly correct when using gtk+ 2.2.x.  This involved
	using Pango.

	* noweb/x_menus.nw: Removed some old dead code.

2003-11-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* config.guess config.rpath config.sub depcomp install-sh missing
	mkinstalldirs: Removed machine generated files from cvs.

	* Makefile.am: Added above files to maintainer-clean target

	* autogen.sh: Added script to generate all the auto* files.

2003-10-22 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/gschem.nw: Fixed missing #include <locale.h>.  Pointed 
	out by Karel Kulhav. 

	* noweb/x_dialog.nw: Applied Carlos' patch to fix the text 
	alignment dialog box so that it show the correct item in the 
	options menu.

2003-10-19 Ales Hvezda   <ahvezda@geda.seul.org>

	* include/i_vars.h, include/prototype.h, noweb/g_funcs.nw, 
	noweb/g_rc.nw, noweb/g_register.nw, noweb/i_vars.nw, 
	noweb/x_image.nw, scripts/image.scm:  Added the ability to 
	generate images (png) of schematics from the command line:
	gschem -o test.png -s image.scm filename.sch

	* noweb/g_rc.nw: Added rc keyword: (image-size width height)

	* noweb/g_funcs.nw: Added new gschem command: gschem-image 
	which outputs a png to a file.

        * noweb/g_key.nw, g_rc.nw, gschem.nw, i_basic.nw, o_misc.nw, 
	o_net.nw, o_slot.nw, o_text.nw, o_undo.nw, x_attribedit.nw, 
	x_dialog.nw, x_fileselect.nw, x_grid.nw, x_image.nw, x_menus.nw, 
	x_multiattrib.nw, x_print.nw, x_stroke.nw, x_window.nw: 
	Applied Carlos Nieves Onega's multi-line text patch.  Thank you
	Carlos!  The next items are the all changes from Carlos' patch
	and my integration changes.  The changes happened over a period
	of a few weeks, but were checked in on the above date.

	* noweb/g_key.nw: Removed a couple fixed sized character buffers.

	* noweb/g_key.nw: Rearranged g_key_execute() to avoid a possible
	memory leak.  Removed some ancient code.

	* noweb/g_rc.nw: Added the word "optional" to the ~/.gEDA/gschemrc
	and local gschemrc warning message if these files are not found.
	Added "required" to the system-gschemrc message.

        * noweb/gschem.nw: Fixed memory leak due to default_bus_ripper_symname
        not being freed on exit.

	* noweb/gschem.nw: Removed a fixed size character buffer.

	* noweb/i_basic.nw: Removed a few fixed size character buffers.
	Fixed a possible core dump.

	* noweb/o_misc.nw: Fixed the attribute edit detection code to 
	only start the attribute editor for one line text attributes.

	* noweb/o_misc.nw: Fixed up references to o_text_height (takes
	string and does not take w_current anymore).

	* noweb/o_misc.nw: Removed fixed size character buffer.

	* noweb/o_net.nw: Removed fixed size character buffer.

	* noweb/o_slot.nw: Fixed up a call to o_attrib_get_name_value to
	use the new function signature.

        * noweb/o_slot.nw x_multiattrib.nw x_attribedit.nw: Added some checks
        to make sure valid pointers are freed (everywhere
        o_attrib_get_name_value) is called.

	* noweb/o_text.nw: Changed the quick text drawing code to draw
	a rectangle instead of a single line now that text can be multiple
	lines long.

	* noweb/o_text.nw: Fixed a minor typo (was outline_xor_gc instead
	of just gc).

	* noweb/o_undo.nw: Removed fixed size character buffer.

	* noweb/x_attribedit.nw: Fixed up a few of calls to 
	o_attrib_get_name_value to use the new function signature.
	Also initalized two pointers to null, so they wouldn't be
	attempted to be freed.

	* noweb/x_dialog.nw: Added select_all_text_in_textview and
	text_view_calculate_real_tab_width utillity functions.
	
	* noweb/x_dialog.nw: Converted the text_input_dialog and
	text_edit_dialog boxes to use the new gtk+ 2.2.x GtkText API to
	provide a way of entering multiple lines of text.  This is only
	available when using gtk+ 2.2.x.  The old single line interface
	is still there for users of gtk+ 1.2.x.

	* noweb/x_dialog.nw: Remove a fixed size character buffer in the
	alignment menu, linetype menu, line type dialog box, fill type
	menu, fill type dialog box, text size dialog box, snap size dialog
	box, about dialog box, coord update dialog box, and color menu.

        * noweb/x_dialog.nw: Moved a few activate signal connects to
        GTK1.2 only #ifdef sections.  This fixes a warning when using
	gtk+ 2.2.x.

	* noweb/x_dialog.nw: Fixed a warning from gtk+ 1.2.x where a non
	scrolled widget (text entry) was being added to a scrolled window.
	Fixed by making the scrolled window for text input and text edit
	dialog boxes specific to gtk+ 2.2.x.

	* noweb/x_image.nw: Removed fixed size character buffer in image
	write size menu.

	* noweb/x_menus.nw: Removed fixed size character buffer in
	guile menu execute function (g_menu_execute), and get main menu
	function (get_main_menu).

	* noweb/x_multiattrib.nw: Fixed up a call to
	o_attrib_get_name_value to use the new function signature.

        * noweb/x_multiattrib.nw: Fixed a core dump in a free call.  If a
        component with no attribute was edited, the text array would never
        be allocated, but an attempt would be made to free it.  Moved free
	code to the right spot.

	* noweb/x_multiattrib.nw: Removed two printfs

	* noweb/x_print.nw: Removed fixed size character buffer in
	orientation menu and type menu.

	* noweb/x_stroke.nw: Removed fixed size character buffer in
	x_stroke_search_execute (stroke execute function).

	* noweb/x_window.nw: Added casts around gtk+ toolbar functions.

        * examples/*.sch: Updated all example schematics

	* noweb/x_attribedit.nw, noweb/x_dialog.nw, noweb/o_grips.nw,
	noweb/x_multiattrib.nw, noweb/o_misc.nw, noweb/o_text.nw:
	Removed all // comments (replaced with proper C comments)

	* tests/multiline.sch: Added new test schematic.

2003-10-18 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.ac: Updated version to something more recent, but this
	version is not an official release.
	
2003-10-11 Ales Hvezda   <ahvezda@geda.seul.org>

	* include/prototype.h: Added #ifdef HAS_GTK22 around gtk+ 2.2.x 
	specific functions.  This means the prototype file is no longer
	machine generated.

	* noweb/x_dialog.nw: Added some more #ifdef HAS_GTK22 around 
	gtk+ 2.2.x specific functions.

2003-10-04 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Updated version to something more recent, but this
        version is not an official release.

2003-09-27 Ales Hvezda   <ahvezda@geda.seul.org>

	* tests/*.sch: Added a few new test schematics
	
	* noweb/x_print.nw: Changed the print dialog box so that it closes
	when the print button is pressed.

	* noweb/x_log.nw: Under gtk+ 2.2.x, change log window to scroll to
	the end when a new message is displayed.  This is the same behavior
	that was the default under gtk+ 1.2.x

2003-09-21 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/i_callbacks.nw: Minor log message tweak

	* configure.ac: Added --with-stroke configure command line option
	so that users can tell the mechanism where to find libstroke.

2003-09-20 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.ac: Fixed MinGW cflags/ldflags

        * auto* files: Updated to autoconf 2.57 and automake 1.7.6

	* noweb/i_callbacks.nw: Disabled the use of gschemdoc under MinGW

	* noweb/gschem.nw: Added a call to bind_textdomain_codeset to fix
	the i18n support when using gtk+ 2.2.x

	* src/Makefile.am: Added -I and -l for libintl when using the
	supplied libintl library.

2003-08-31 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.ac: Changed AC_CONFIG_HEADER to AM_CONFIG_HEADER

	* noweb/x_dialog.nw: Rewrote the exit dialog box to look better
	under gtk+ 2.2.x and 1.2.x

	* configure.ac: Removed the use of GUILE_PROGS as it is not part
	of guile 1.4.  Put in a manual check for guile-config.

	* examples/*.sch: Updated schematics to 20030901

2003-08-24 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_multiattrib.nw: Oops wasn't return true or false in the
	keypress routine, so no input was going to the entries.  Fixed.

	* noweb/x_attribedit.nw, x_dialog.nw, x_fileselect.nw, x_image.nw
	x_log.nw, x_menus.nw, x_multiattrib.nw, x_pagesel.nw, x_print.nw,
	x_window.nw: 
        Add #ifdef HAS_GTK?2 depending on the gtk version so
	that the code base builds for both gtk+ 1.2.x and 2.2.x.

	* noweb/g_rc.nw, gschem.nw, x_event.nw, x_window.nw: 
	Changed a few #if ... to #ifdef ...

	* noweb/x_attribedit.nw: Improved the looks of the bottom buttons
	in gtk+ 2.2.x while preserving the 1.2.x look.

2003-08-23 Ales Hvezda   <ahvezda@geda.seul.org>

	* include/prototype.h, noweb/x_multiattrib.nw: Applied 
        Carlos Nieves O'nega's multi attribute add/change patch.  Thanks!
	
	* examples/cmos-invert.sch: Minor tweak

        * src/parsecmd.c: Cleaned up help message a little.

        * docs/gschem.1: Updated manpage a little

2003-07-20 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.ac: Renamed from configure.in.

	* configure.ac: A whole bunch of changes to support both
	gtk+-1.2.x and gtk+-2.2.x.  

	* configure.ac: Lots of cleanup and moved to the use of pkg-config 
	for the configuration of almost all libraries (most importantly
	libgeda).

	* *.in, *.h, etc: Removed a bunch of old unneeded auto* files.
	
2003-05-25 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/i_basic.nw: Removed unused variable

	* noweb/o_slot.nw: Changed a include from strings.h to string.h

2003-05-22 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.in: Updated version

	* examples/*.sch: Updated to latest version

2003-04-27 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/pt_BR.po: Added update translation from Antonio.

2003-04-15 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in, noweb/Makefile.am: Removed x_multimulti.nw from the 
	build and removed the dependancy on gtk+extra (also removed references
	to this file in the docs/ directory)

	* noweb/x_multimulti.nw: Removed file from CVS

2003-04-06 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/g_rc.nw, g_register.nw: Added reset-component-library and
	reset-source-library rc keywords.  These empty the
	component/source libraries when executed.  Useful when a user
	wants set (override) all the paths themselves from a user rc file.
	
2003-03-30 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/i_callbacks.nw: Fixed bug #43: "If gschemdoc is not install,
	gschem crashes", by changing exit to _exit.  Fix by Mario Klebsch.

2003-03-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* scheme/gschem.scm: Fixed the crashing bug when you press a
	"no-action" bound key.  Patch by Dan McMahill. Thanks.

2003-02-23 Ales Hvezda   <ahvezda@geda.seul.org>

        * noweb/g_rc.nw, noweb/i_vars.nw, noweb/x_print.nw: Applied Antonio's 
	no margin printing patch (with minor modifications).  Thanks.

        * noweb/g_rc.nw, noweb/i_vars.nw, noweb/x_print.nw: Renamed "limits" to
        "extents".
	
	* lib/system-gschemrc.in: Added new example usage of the output-type
	rc keyword, and also put in a note that "limits" should no longer be
	used.

2003-02-22 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Added comment to sort-component-library
	keyword that it is broken and that users should not use it.
	Filed bug #53.

2003-02-20 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/i_callbacks.nw: Fixed the annoying flicker if you keep
	executing the page next/prev commands.

	* noweb/gschem.nw: Applied patchlet from Steve Tell for disabling
	the guile 1.6.3 deprecated warnings.

	* README: Added note suggestion by Steve Tell about warning users
	that deprecated guile warnings are turned off.

2003-02-18 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.in: Bumped version to 20030223

	* noweb/g_funcs.nw, noweb/x_menus.nw, scheme/gschem.scm: Applied
	Steve Tell's guile 1.6.3 patch. Thanks.

2003-02-06 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.in: Applied Gabriel Paubert's warning reducing patch with
        a few minor mods.

2003-01-26 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/ru.po: Updated version from Andy Shevchenko

        * configure.in: Changed -fnative-struct to -mms-bitfields for
        gcc 3.2 mingw compiler (older mingw compilers are no longer 
        supported)

2003-01-16 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_image.nw: Added 3200x1600 to the image write dialog box.
 	Suggestions by Karel Kulhavy.

2003-01-11 Ales Hvezda   <ahvezda@geda.seul.org>
	
	* noweb/o_arc.nw: Applied patch by Patrick to fix Bug #45: arc's 
	being drawn incorrectly with snap on.  Thanks Patrick.

	* Makefile.am: Fixed the distclean-local target. 

	* lib/system-gschemrc.in: Fixed typo (gif->png)

2003-01-10 Chris Ellec  <chrisATgtx.seul.org>

     	* noweb/o_misc.nw: Find Specific Text, replaced the strcmp used
     	to search for the text with a strstr so that we can search for
     	C12 instead of having to seach for refdes=C12. That way the user 
     	doesn't have to know what the symbol internal names are.

2003-01-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/i_basic.nw: Hierarchy/Up should never be greyed out. Fixed.

2003-01-07 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_arc.nw: Added the first of Patrick's suggestions to fixing
	bug #45.  Not completely fixed yet.

	* noweb/i_callbacks.nw: Added code to properly output a failed error
	message when executing File/Save All and one of the files cannot be
        saved.

2002-12-29 Ales Hvezda   <ahvezda@geda.seul.org>

	* tests/ext_chars.sch: Applied Egil's patch to add the new chars
	to this test schematic.

2002-12-22 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_attribedit.nw, o_undo.nw, o_misc.nw, o_delete.nw: Added 
	missing calls to i_update_menus()

2002-12-15 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_basic.nw: Added o_draw_list() and o_draw_selected() helper 
	functions (used by below change)

	* noweb/o_move.nw: Changed the behavior of move:  When you start 
	the move, the objects are erased first and then the rubber outline
	is drawn.  This looks a whole lot better, but the downside is that
	it required the reordering of some operations (namely when things
	are drawn), so the change is non-trivial.

	* lib/system-gschemrc.in: Fixed spelling mistake: "Dettach" is not
	a word. 

	* noweb/x_menus.nw: Added data (via gtk_object_set_data()) to 
	the toplevel menubar.  This data is the individual menu items
	(of all menus) via the menu path.

	* noweb/x_menus.nw: Added x_menus_sensitivity which given a path
	to a menu item (using above) allows for the disabled (greyed out)
	or enabled menu item control.

	* noweb/x_menus.nw: Removed some cruft which has been around for
	too long.

	* noweb/x_window.nw: Added code to store the menubar in the 
	TOPLEVEL structure.  Also called i_update_menus when the main
	window first appears.

	* noweb/i_basic.nw: Added i_update_menus, which, for now, simply
	disables or enables menu items depending on if there is something
	selected or not.  This should be improved to take into account 
	what is inside the selection list.

	* noweb/i_callbacks.nw, o_buffer.nw, o_complex.nw, o_find.nw, 
	o_select.nw, o_text.nw: Added calls to i_update_menus to keep the
	menu item disabled/enabled state up to date.

2002-12-01 Ales Hvezda   <ahvezda@geda.seul.org>

	* m4/Makefile.am: Added Makefile.in to the maintainer-clean target.

2002-11-30 Ales Hvezda   <ahvezda@geda.seul.org>

        * lib/system-gschemrc.in: Changed the variable names which hold
        the paths to the data and rc directories.  Fixed all references to
	these variables.

	* noweb/gschem.nw: Applied Alexandre's latest patch to fix
	the "i18n bug regarding LC_NUMERIC" caused by gtk_set_locale.

        * aclocal.m4: Removed file from cvs.

	* m4/Makefile.in: Removed machine generated file from cvs.

2002-11-26 Ales Hvezda   <ahvezda@geda.seul.org>

	* gschem/noweb.nw: Applied patch by Alexandre P. Nunes for
	gtk_set_locale bug/misbehaving.

2002-11-23 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/ru.po, LINGUAS: Added Russian translation by Andy Shevchenko.
	Thank you.

2002-11-03  gettextize  <bug-gnu-gettext@gnu.org>

	* configure.in (AM_GNU_GETTEXT_VERSION): Bump to 0.11.5.

2002-11-03 Ales Hvezda   <ahvezda@geda.seul.org>

	* examples/*.sch, tests/*.sch: Updated schematics to the latest
	version via gschupdate

        * configure.in: Updated version to 20021103 (an official version)

	* noweb/o_net.nw, noweb/x_multiattrib.nw: Got rid of some unused
	variables.

2002-10-31 Ales Hvezda   <ahvezda@geda.seul.org>

	* docs/gschem.txt: Move this file into ../docs/gschem

2002-10-29 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/nl_NL.po, LINGUAS: Added Dutch translation by Bert Timmerman.

2002-10-28 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/gschem.nw, o_net.nw, x_grid.nw, x_log.nw, x_menus.nw,
	x_multiattrib.nw, po/LINGUAS, po/ja_JP.po: Added Japanese translation
	done by MIYAMOTO Takanori.  Thank you.

        * configure.in: Bumped version to 20021031

2002-10-27 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_net.nw, o_pin.nw, o_bus.nw: Fixed all hardcoded widths
	to be #define'd
	
	* noweb/o_cue.nw: Fixed all hardcoded sizes for the visual cues to
	be #define'd

	* configure and friends: Upgraded to gettext 0.11.5

	* configure.in: Added AM_GNU_GETTEXT_VERSION(x.yy.zz) macro to make 
        autopoint happy.

        * configure and friends: Ran "autoreconf --force --install -v" 
        to really upgrade to the auto* tools.

	* noweb/g_rc.nw, g_register.nw, i_vars.nw, include/i_vars.h: Added
	force-boundingbox gschemrc rc variable.  Controls if the bounding
	box is used in the pin auto whichend code.

	* lib/system-gschemrc.in: Added default for force-boundingbox variable

	* noweb/x_attribedit.nw: Fixed Bug #28: gschem hangs in loop when
	adding an attribute, by not trying to attach an attribute to a text
	item.

2002-10-26 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/g_rc.nw, g_register.nw, i_vars.nw, i_vars.h: Added the 
        following rc keywords: bus-ripper-type, bus-ripper-symname, and 
        bus-ripper-rotation

	* noweb/o_net.nw: Added code to act on the above rc keyword info.

	* noweb/x_window.nw: Properly init/free some of newly added variables
	to the TOPLEVEL structure.

	* noweb/o_line.nw: Properly reset the thickness of lines to zero.

	* lib/system-gschemrc.in: Added defaults for all the bus ripper
	keywords.

	* tests/buses.sch: Added test schematic for buses.	

2002-10-22 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_net.nw: Added o_net_add_busrippers function.  This
	function adds the bus rippers after a net addition and after a 
	net is changed via the grips.

	* noweb/o_net.nw: Added calls to above in o_net_end.

	* noweb/o_net.nw: Rearranged o_net_end a little to accommodate the
	bus ripper code.
	
	* noweb/o_cue.nw: Added code to render the smaller sized
	connection cues that connect buses to nets.

	* noweb/o_grips.nw: Added code to the net case (when ending grip
	manipulations) to draw the bus rippers when connecting the net
	to a bus.
	
	* noweb/o_bus.nw: Fix to o_bus_add to init the
	bus_ripper_direction to zero.
	
	* noweb/g_rc.nw, g_register.nw, i_vars.nw and friends: Added code
	to implement the bus-ripper-size rc keyword.

	* lib/system-gschemrc.in: Added defaults for bus-ripper-size.

	* tests/nets.sch: Added test schematic for nets.

	* tests/pins.sch: Added a few more test cases.
	
2002-10-19 Ales Hvezda   <ahvezda@geda.seul.org>

	* tests/pins.sch: Update test schematic to include single pin 
	components

	* tests/oldsym2.sch: Added an old single pin symbol, to test that 
	the auto whichend code handles the single pin correctly.

	* noweb/*.nw, include/*.h: Intergrated patch from Egil for
	"Snap Off" and "Show Hidden" status indicators (originally written
	on 10/09/2002).

	* configure.in, *.m4: Upgraded to automake 1.7.1 and autoconf 2.54

2002-10-17 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_cues.nw: Added patch by Egil Kvaleberg to prevent core
	dumps when whichend is somehow invalid (added checks in libgeda
	so this really should NEVER happen).

	* tests/oldsym.sym: Added test .sym which tests the auto whichend
	code in libgeda (for older <= 20020825 symbols).  The whichends on
	all the pins should always be correct.  Do not update this file to
	the current gEDA/gaf file format ever.

	* configure.in, docs/gschem.txt, include/prototype.h, 
        lib/system-gschemrc.in, noweb/g_key.nw, noweb/g_register.nw,
	noweb/i_callbacks.nw, noweb/rcstrings.nw, noweb/x_menus.nw,
	noweb/x_multiattrib.nw: Added Egil Kvaleberg's find documentation
	patch.

2002-10-09 Egil Kvaleberg       <egil@kvaleberg.no>

	* noweb/*, include/*: Implemented "Snap Off" and "Show Hidden"
	status indicators.

2002-10-07 Egil Kvaleberg   <egil@kvaleberg.no>

	* Added Hierarchy/Documentation
	* Added Help/Manual

2002-10-07 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Added some missing attributes, noticed and
	patch by Egil Kvaleberg.  Removed "name" from attribute-name list.

2002-09-30 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_menus.nw: Fixed the code so that toplevel menu names are
	now translated.  Also fixed it so that "Help" gets translated as 
	well.

2002-09-26 Ales Hvezda   <ahvezda@geda.seul.org>

	* po/de_DE.po: Updated the Project-Id-Version so that gettext is
	happy (I hope).

	* noweb/rcstrings.nw: Added the toplevel menu items into this file
	so that they can be translated.

	* po/*.po: Removed geda-gschem.pot which caused the translation files
	to be rebuilt.

2002-09-25 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_attribedit.nw, x_dialog.nw, x_fileselect.nw: Added a few
	missing _(" ").  Patch by Antonio and Alexandre.

	* po/geda-gschem.pot, pt_BR.po: Updated these file from what 
	Antonio and Alexandre sent me.

	* tests/pins.sch: Added test schematic which exercises the pin
	whichend flag
	
	* noweb/rcstrings.nw: Added file which contains all the strings 
	which are related to the menus so that they get translated.
	The strings are surrounded by _(" ").  This file is NOT built.

	* noweb/Makefile.am: Added above file to EXTRA_DIST=

	* po/*: Updates to the files from rcstrings.nw

2002-09-22 Ales Hvezda   <ahvezda@geda.seul.org>

	* examples/flipflop_1.sch: Fixed invalid attributes and gave all
	components a refdes.

	* configure.in: Bumped version to 20020922, which is NOT a release.

	* noweb/o_pin.nw: Added a call to draw the cues with pin's draw.
	This may affect rendering performance a little.  This call is needed
	to update pin's new cues when an object is selected/unselected.

	* noweb/o_pin.nw: Added default parameters for pin_type and whichend
	when adding a pin.

	* noweb/o_cue.nw: Added code to draw the new pin dangling cues.

	* noweb/o_cue.nw: Added an if in various places so that only the 
	appropriate cue (based on whichend) is drawn or erase.  This gets
	rid of a very annoying visual artifiact which was driving me nuts:
        parts of symbols were being erased when a connection was being made
 	at the WRONG end. 

2002-09-16 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/globals.c: Added variable_set_func and quit_func.  These
	are not used by gschem.
	
2002-09-07 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_multiattrib.nw: Redid the "Flags" column to be now
	"Vis?" and "SN".  Basically added 2 columns instead of one.

	* noweb/x_multiattrib.nw: Changed the justification of the last
	two columns to be center

	* noweb/x_mulitattrib.nw: Fixed the slot changing code to be 
	correct (use the correct column)

	* noweb/x_multiattrib.nw: After clicking Change, re-highlight the
	value entry
	
2002-09-03 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_multiattrib.nw: Redid multi attribute dialog box using
	glade.  Internals very similar, a few widget changes.

	* noweb/x_multiattrib.nw: Not done yet, still need to redo flags
	column in the clist (not good enough yet)

	* noweb/x_attribedit.nw: Removed a static keyword to allow function
	reuse.

2002-09-02 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_multiattrib.nw: Created new file.

	* noweb/x_dialog.nw: Moved multi attrib edit dialog box code into
	above new file.
	
2002-09-01 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_window.nw: Added code to allows the main window to be 
	resized to any smaller size.

2002-08-29 Ales Hvezda   <ahvezda@geda.seul.org>

	* scheme/auto-uref.scm: Fixed left over "uref".  Pointed out/fixed
	by Antonio A Todo Bom.  Thanks.

	* lib/gschem-lightbg: Fixed the background color for images.  
	Bug pointed out by John Eaton.

	* noweb/gschem.nw: Added bug fix by Alexandre P. Nunes to get 
	the postscript output working again when you pick a locale which
	uses ","'s instead of "."'s.

2002-08-25 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_attribedit.nw: Fixed the focus on the value entry to be
	correct when labeling (naming) nets.

	* noweb/x_attribedit.nw: Added the key binding for the Escape key

	* noweb/x_fileselect.nw: Added the key binding for the Escape key

	* src/Makefile.am: Remove x_attrsel.nw (obsolete file)

	* lib/system-gschemrc.in: Added setpagedevice-* keywords

	* noweb/g_rc.nw, and others: Added support for above keywords

	* noweb/x_pagesel.nw: Added the key binding for the Escape key

	* noweb/x_print.nw: Added the key binding for the Escape key
	
	* noweb/x_image.nw: Added the key binding for the Escape key

	* noweb/o_misc.nw: Fixed the long standing bug in o_edit_find_text
	where the found text would sometimes be unlegible because of the
	zoom factor (pointed out by Dave Lawrence a long long time ago).

	* noweb/*.nw: Cleaned up -Wall warnings

	* configure.in: Added -mwindows flag for the mingw port

2002-08-18 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_grips.nw: Fixed a bug where searching for grips would stop
	if something that did not have grips was selected.

	* noweb/o_misc.nw: Changed used_list initial value to be 0 so that
	the number one is used when autonumbering refdes's.

	* noweb/o_text.nw: Changed the color of the x and I (origin/invisible)
 	graphical cues to be grey (locked color) instead of red.  Red is 
	reserved for errors.

	* noweb/x_attribedit.nw: Changed the cursor focus entry to be the
	name entry when nothing is selected (i.e. not editing an attribute)

2002-08-05 Ales Hvezda   <ahvezda@geda.seul.org>

 	* noweb/i_basic.nw: Added a const to get rid of compiler warnings 
	when compiling with --disable-nls

2002-08-04 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/*: Added gettext patch by Alexandre P. Nunes.  Thank you for
	the work on i18n.

	* intl/ m4/ po/ ABOUT-NLS config.rpath: Added directories / files 
	to support above

	* configure.in: Updated to support above

	* include/gettext.h: Added include file to support above

	* include/globals.h: Added #include for gettext.h

2002-07-27 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_attribedit.nw: Changed the show options to be an option
	menu instead of a combo box

2002-07-14 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_misc.nw, x_dialog.nw, lib/system-gschemrc.in: Renamed 
	user visible references of uref to refdes

	* examples/*.sch: Update all schematics using gschupdate
	
2002-07-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_attribedit.nw: Added code so that value entry field is 
	selected if there is something to select (makes replacing the text
	much faster).

	* tests/: Created tests directory mainly to hold various tests 

	* examples/*.sch: Moved some of the developer only schematics into
	the test/ directory

	* tests/ext_chars.sch: Added a simple little schematic to test the
	loading of the extended characters.  This should not crash gschem
	anymore. :)

2002-07-06 Ales Hvezda   <ahvezda@geda.seul.org>

	* examples/*.sch: Updated all schematics to use netname instead of
	label

	* noweb/x_attribedit.nw: Changed all occurrances of label to netname

        * lib/system-gschemrc.in: Changed all occurrances of label to netname

2002-07-06 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_basic.c: Added code for o_erase_selected (not used
	currently)

        * configure.in and Makefile.am: Upgraded to automake 1.6.2

	* noweb/x_dialog.nw: Removed attrib edit dialog box from this file

	* noweb/x_attribedit.nw: Created new file for attrib edit dialog box

	* src/Makefile.am, noweb/Makefile.am: Added above file to Makefiles

	* noweb/x_attribedit.nw: Completely reworked attrib edit dialog box to
	be much simpler and cleaner

	* noweb/x_attribedit.nw: Integrated patch from Dave Lawrence which
	adds a bunch of useful capabilities to the attrib add dialog box, 
	add an attribute to multiple objects, replace existing attributes

2002-07-05 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Fixed spelling mistake

	* lib/system-gschemrc.in: Fixed the load of the commonrc file to 
	work with --with-rcdir again.

	* noweb/g_key.nw, g_register.nw, i_callbacks.nw: Added Edit/update
	command 

2002-06-25 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_attrib.nw: Changed o_attrib_add_selected to take a 
	selection list as a parameter (allows for code reuse)

	* noweb/o_select.nw, o_complex.nw: Updated calls to above to pass
	in the appropriate selection list.

	* noweb/o_misc.nw: Added o_update_component which updates a
	component from disk and forces attributes to be repromoted.

	* noweb/o_delete.nw: Removed a static keyword from
	o_delete_complex(...) to allow for code reuse.
	
2002-06-22 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_misc.nw, i_callbacks.nw: Fixed all
	u_basic_breakup_string calls to take the extra character which is
	the delimiter.
	
2002-06-18 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_slot.nw: Plugged a small memory leak which has been
	there for a long time.

	* noweb/i_basic.nw: Added some experimental code which changes
	the cursor image.  Something I'm playing with.
	
2002-06-13 Ales Hvezda   <ahvezda@geda.seul.org>

	* TODO: A little bit of cleanup, organizing things.  I will move
	most of the critical items into jitterbug

	* noweb/x_fileselect.nw: Fixed a bug which could have caused a crash.
 	Turn on the preview button with nothing (or just a directory)
	selected, and gschem tried to open that garbage.
	
	* noweb/x_dialog.nw: Fixed add/edit attribute dialog box to not add
	improper attributes

	* noweb/x_dialog.nw, i_callbacks.nw: Added a bunch i_update_toolbar 
	calls

2002-06-10 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_fileselect.nw: A bit more work on getting the WinME problem
	fixed.

	* noweb/x_preview.nw: A few fixes to address the WinME problem.

	* noweb/g_rc.nw, gschem.nw, i_callbacks.nw, x_fileselect.nw: 
	Made sure that all of this trailing slash nonsense is only built
	on mingw and does not impact the unix port.

	* noweb/x_preview.nw: Made sure the toolbars are disabled in the
	preview window.  Otherwise you get gtk warnings...

2002-06-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/g_rc.nw, gschem.nw, i_callbacks.nw, x_fileselect.nw: 
	Added a call to u_basic_strip_trailing for the mingw port to 
        make WinME happy (ME was interpreting \\ anywhere in filenames as
        network paths).

2002-06-07 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_window.nw: Oops forgot to free a temporary string. Fixed.

	* bitmaps/*.xpm: Updated some of the bitmaps I drew to look a little
	better.

2002-06-03 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/gschem-lightbg: Changed green3 to green4 for text and graphics.

2002-05-27 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Fixed incorrect environment variable name
        "GEDADATARC" to be GEDADATA. 

	* lib/system-gschemrc.in: After reading all the negative opinions of
	a light colored background, changed default back to a black
        background.

	* noweb/x_window.nw: Improved tooltip for Add Component...

	* noweb/x_dialog.nw: Improved the appearance of the Add Text...
	dialog box.

	* noweb/o_line.nw: Added o_line_eraserubber(...) (erase any rubber
	banding line)

	* noweb/o_box.nw: Added o_box_eraserubber(...) (erase any rubber
	banding box)

	* noweb/o_circle.nw: Added o_circle_eraserubber(...) (erase any rubber
	banding circle)

	* noweb/o_basic.nw: Added o_erase_rubber(...) which erases any rubber
	banding object in progress.

	* noweb/o_arc.nw: Added o_arc_eraserubber(...) (erase any rubber
	banding arc)

	* noweb/i_callbacks.nw: Fixed a whole slew of quirks when you are
        drawing something and cancel it or start another command (that 
        used to leave ghosts around)

	* noweb/i_callbacks.nw: Fixed it so that in some modes, the right
	mouse button no longer completely cancels the mode

	* noweb/x_dialog.nw: Added modal grab for add arc dialog box.

2002-05-23 Ales Hvezda   <ahvezda@geda.seul.org>
 
	* noweb/i_basic.nw, o_grips.nw, x_fileselect.nw, i_callbacks.nw,
        x_event.nw: Add a bunch of i_update_toolbar calls to make sure that
	the toolbar reflects the current event_state.

2002-05-19 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/gschem-darkbg, gschem-lightbg: Added these files which allow
	the user the ability to easily switch between a dark or light
	background.

	* lib/system-gschemrc.in: Added code to easily switch between a dark
	or light background color scheme.

	* noweb/g_rc.nw, g_register.nw, i_vars.nw, x_window.nw: Implemented
	the toolbars and handleboxes rc variables

	* lib/system-gschemrc.in: Add the use of toolbars and handleboxes
	rc variables

	* lib/system-gschemrc.in: Adjusted the size of the window to take
	into account the handleboxes and toolbar.

	* noweb/x_event.nw: A code to get the toolbar buttons to act
	correctly.

	* noweb/i_basic.nw: Added i_update_toolbar_select, which sets the
	toolbar icon to select.  This code needs to be refactored.

	* noweb/x_window.nw: Commented out the toolbars which are not 
	ready for use yet.

2002-05-16 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/g_rc.nw, g_register.nw, i_vars.nw: Added bitmap-directory 
	rc keyword

	* noweb/x_window.nw: Added the use of bitmap_directory

	* noweb/x_window.nw, x_preview.nw and others: Fixed a few possible
	places where something is freed but wasn't be initialized to NULL

	* lib/system-gschemrc.in: Changed the default background color
	and all the colors to correspond to a light (almost white) background
	Commented out the black background colors

	* noweb/x_window.nw: Much more work on the toolbar.  Added Edit, Add
	Text...  Also got some of the callbacks working.

	* noweb/x_dialog.nw: Improved the label which appears on top of the
	Text entry dialog box.

	* noweb/x_window.nw: Much more work on getting toolbar complete.
 	Still need to add the appropriate callbacks to the buttons.

2002-05-14 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Added in white background color theme.
	Commented out.

	* noweb/x_window.nw, i_callbacks.nw: Added toolbar with New, Open,
	Save, Undo, Redo

	* noweb/x_window.nw: Moved menu bar into a handlebox

2002-05-13 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_color.nw: Fixed outline colors so that they xor properly
	for non-black backgrounds

	* noweb/o_arc.nw, o_attrib.nw, o_box.nw, o_bus.nw, o_circle.nw, 
	  o_grips.nw, o_line.nw, o_net.nw, o_pin.nw, o_select.nw, o_text.nw:
	Fixed select color getter so that it returns the dark color which has
	been corrected for a non-black background.  Also did some minor cleanup.

	* noweb/o_attrib.nw, o_basic.nw, o_buffer.nw o_complex.nw, o_copy.nw,
	  o_move.nw, o_text.nw, x_event.nw: Fixed boundbox color getter so 
	that it returns the dark color which has been corrected for a
	non-black background.

2002-05-12 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/g_rc.nw and friends: Added warp cursor rc keyword and support
	to disable the warping of the cursor when zooming

	* lib/system-gschemrc.in: Added warp-cursor rc keyword

	* noweb/x_menus.nw: Got rid of the requirement to use a fixed width
	font for the menus etc...  Properly calculated the space pad between
	the item name and hotkey.  Also removed code for mingw32 port

	* lib/gschem-gtkrc: Commented out the setting of the font

2002-04-14 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_dialog.nw: Added the rest of the signal connects for
	keypresses

	* lib/system-gschemrc.in: Moved some attribute related items from
	the Edit/ menu to the Attribute/ menu (Find Specific Text, Hide
	Specific Text, Show Specific Text)
	
	* lib/system-gschemrc.in: Changed the hotkeys for the above items
 	to be under the Attribute/ menu)

2002-04-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_dialog.nw: Added a key binding to each dialog box so that
	Escape closes the dialog box. Suggestion by Mauricio de Alencar.

2002-04-08 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/g_rc.nw: Missed a few hardcoded /'s, fixed.

	* noweb/x_event.nw: Added a few lines of code to support the double
	click on an object to open up the edit dialog box.  Suggestion by
	Mauricio de Alencar.

	* noweb/x_dialog.nw: Added a few lines of code to automatically select
  	the value entry on open in the attrib edit dialog box.  Suggestion by
        Mauricio de Alencar.

	* noweb/o_text.nw: Changed the default color of the little x that
	marks the origin to red (the detached attribute color).  Suggestion by
        Mauricio de Alencar.

	* configure.in: Changed the function which is search for libpng.
	This was needed for the win32 port.

	* noweb/x_basic.nw: Added x_warp_cursor utility function.

	* noweb/a_zoom.nw: Used above x_warp_cursor to move the cursor to the
	right place after a zoom in/out. Suggestion by Mauricio de Alencar.

2002-04-06 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_fileselect.c: More work getting file dialog boxes to work
	with the new path separater.

2002-04-04 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_fileselect.c: Removed a / which was confusing the mingw32
	port

2002-04-03 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in and friends: More work on getting the upgrade of 
	autoconf, automake, and libtool to behave correctly.

	* configure.in: Added PATHSEP variable which holds the proper path
	separater depending on the platform.

	* lib/system-*.in: Work on getting rc files to use above variable.

2002-04-01 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in: Added -liberty for the Mingw32 port

	* noweb/g_rc.nw: Used new path separater #defines in a few
        sprintf/u_strdup_multiple

	* noweb/gschem.nw: Used new path separater #defines in a few
        sprintf/u_strdup_multiple

	* noweb/i_callbacks.nw: Used new path separater #defines in a few
        sprintf/u_strdup_multiple

	* noweb/o_complex.nw: Used new path separater #defines in a few
        sprintf/u_strdup_multiple

	* noweb/x_filesel.nw: Used new path separater #defines in a few
        sprintf/u_strdup_multiple

	* noweb/x_log.nw: Used new path separater #defines in a few
        sprintf/u_strdup_multiple

	* noweb/x_preview.nw: Used new path separater #defines in a few
        sprintf/u_strdup_multiple

	* configure.in and friends: Upgraded to autoconf 2.53, libtool 1.5,
        and automake 1.5.  Lots of changes in various places for this upgrade.

2002-02-24 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in, config.h.in: Added a few checks for some
	non-portable #includes
	
	* configure.in: Added checks for mingw32 and disabled the
	cygwin port
	
2002-02-18 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in: Removed all trace of GUILE_LIB and GUILE_INCLUDE

2002-02-16 Ales Hvezda <ahvezda@geda.seul.org>

	* noweb/x_event.nw: Added a check in the configure callback to return
  	if gschem hasn't finished setting up the current page.

2002-02-11 Ales Hvezda <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Added "..." to some of the Edit/ menu 
	options which popup a dialog box.

2002-02-09 Ales Hvezda <ahvezda@geda.seul.org>

	* noweb/o_text.nw: Improved o_text_edit_end to loop over all
	selected objects and change the text size or alignment.  If more
	than one object is selected then only change size and alignment
	and not the string.  String can only be changed if one object is 
	selected.

	* noweb/x_dialog.nw, noweb/o_text.nw: If you select multiple text 
	strings and you cannot edit the string, so do not give the user 
	that option (I removed the text entry if the number of selected 
	objects > 1)

	* noweb/x_fileselect.nw: Also applied the changes that Chris Ellec
	did for checking if a save was successful to the save as
	mechanism.

	* noweb/o_select.nw: Fixed an annoying selection behavior, if you
	select stuff with the selection box while holding down the SHIFT
	key and you happen to not find anything, any previous selection
	should be unaffected.  Previous behavior was to unselect
	everything (which is wrong).

	* noweb/o_misc.nw: Added suggestion by Wojciech Kazubski for a 
	function which just shows hidden text, but doesn't toggle the
	visibility.  This new function is called o_edit_show_hidden.
	The original function is now called o_edit_make_visible.
	Added it to the rc/lib (g_*.nw) files as well.  

	* noweb/o_attrib.nw, o_text.nw: Further improved on above to
	draw a little "I" when showing invisible text 

	* noweb/o_text.nw: Fixed the above behavior to work for text items
	within placed components.  Now you can show all hidden text on a 
	schematic and see exactly what text is within a symbol! :-)

	* noweb/x_dialog.nw: Put in fix from Dave Lawrence wrt
	find_text_ok, redraw_all after you find no more text occurances

	* noweb/*.nw: Removed all -Wall warnings
	 		
2002-01-24 Stefan Petersen <spe@stacken.kth.se>

	* lib/system-gschemrc.in: Fixed bug in path when loading 
	  auto-uref. (geda-data => gedarcdir). Thanks to Cris Ellec for
	  spotting this. Code is usually commented out.
	
2002-01-07 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_misc.nw: Added autonumber_text patch by Dave Lawrence.
  	  Reference info (from Dave):
		"Attached is a patch to the autonumber_text function that
		I wrote a while back that numbers components starting
		at the lowest unused component number >0 and skips
		used component numbers.  The earlier version started
		at the maximum used component number +1.  I assume the
		new functionality is usually what people would want..
		if not, I could make a checkbox that would allow people
		to revert to the old way if you think that would
	  	be useful."

2001-11-25  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* noweb/x_dialog.nw: Corrected a bug about arc creation due to the
	last changes (2001-11-21) : my fault.

2001-11-21  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* configure.in, Makefile.am: Added test to use notangle_guile.scm
	if notangle is not available.

	* docs/Makefile.am: Moved the documentation generation here.

	* src/Makefile.am: Added a rule to produce prototype.h from noweb
	files and moved the documentation generation to docs/.

	* scripts/geda_totexi.in: Changed geda_totexi to geda_totexi.in
	to take benefit from the configure test on AWK. Backend updated
	to handle cross-references.

	* scripts/notangle_guile.scm.in: Added guile script to tangle
	noweb code without the whole noweb package installed.
	
	* noweb/o_{arc|box|circle|line}.nw: Full documentation, code 
	clean-up.

	* noweb/o_grips.nw: Full documentation, code clean-up : old 
	function splitted in one function for each object type. Added
	function to draw and erase grips.

	* noweb/o_{bus|net|pin}.nw: Grip stuff modified to suit new
	grip handling (described above).

	* include/prototype.h: Automatically updated after above changes.

2001-10-09 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_misc.nw: Changed all instances of strnlen to strlen 

2001-10-07 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/g_key.nw, g_register.nw: Added first bit of Dave Lawrence's 
	  find text patch (hotkey for find text)

	* noweb/o_misc.nw: Added more of Dave's patch (lowlevel support
	  functions)

	* noweb/x_dialog.nw: Added more of Dave's patch (new dialog boxes)

	* lib/system-gschemrc.in: Added Dave's new commands to the menu.

	* noweb/g_key.nw, g_register.nw: Added some missing hotkey scheme
	  functions

	* noweb/o_misc.nw: Minor updates to the patch wrt find-text, did a 
	  true blue pan instead of calling set_window(...)  Also added a 
	  zoom extents so that the zoom is about right (still experimental)

	* src/Makefile.am: Changed the order of source file building, so that
	  g_key.* is before g_register.* 

2001-07-24 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/g_rc.nw, g_register.nw, i_vars.nw, x_window.nw: 
	  Added (window-size w h) keyword to make some users (including myself)
	  happy and in control of the window size (instead of having 
	  gschem pick some always too large window size for me)
	
2001-07-22 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in: Cleaned up all the data dir variables (to only have
          two)

	* noweb/gschem.nw, g_rc.nw: Fixed up code to look for rc files in
          different place when specifing the rc dirs using --with-rcdir.
          This used to work, but it was broken me when I added GEDADATA
	
	* lib/system-gschemrc.in, noweb/gschem.nw: Added a bunch of code
	  to allow the rc files to live somewhere else

	* noweb/gschem.nw, g_rc.nw: More work on getting GEDADATA and
	  GEDADATARC environment variables to work right when you move
	  the binaries around
	
	* noweb/gschem.nw, i_basic.nw, o_slot.nw, o_undo.nw, x_color.nw, 
	  x_grid.nw: Added patch by Dan Mcmahill for 64-bit architectures.

	* docs/gschem.txt: Misc doc update

2001-07-21 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/o_undo.nw: Whoops was hardcoding "/tmp", should look at 
	  environment variable TMP instead


2001-07-20 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_menu.nw: Added code for Cygwin to get monospaced fonts
	  for the menus.

	* noweb/i_callbacks.nw: Fixed the "scrollbar not updating when 
	  panning" bug pointed out by Chris; wasn't updating the
	  scrollbars when panning :)

	* noweb/i_callbacks.nw: Fixed the wasn't updating connections when
	  doing a symbol translate in a schematic (valid and should work)
	  This still does NOT work. :(
	
2001-07-19 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in: Fixed all the LDFLAGS to be correct (and only link
	  the libraries once)

	* configure.in: Bumped up version to 20010722

	* configure.in: More updates to get cygwin to build right

	* src/Makefile.am: Changed the order in which things are linked
	  (guile last)

2001-07-08 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/x_fileselect.nw: Changed a constant two days ago in
	  defines.h, but in the code the value was being hard coded which
	  cause a very hard to find (and frustrating) bug to live.  Fixed!

	* lib/system-gschemrc.in: Finished adding menu items

	* noweb/x_menu.c: More work on the top menu bar code, discovered
	  that some menu actions are not in the keymap (hotkey vs not), so
	  had to add a third item to the menu item list (the hotkey scheme
	  function)

	* noweb/*.nw: Renamed all *zoom_limits* functions to
	  *zoom_extents*

	* lib/system-gschemrc.in: Misc updates to some of the key mappings
	  (added options-rubberband : or and added zoom-extents : ze)
	
2001-07-07 Ales Hvezda   <ahvezda@geda.seul.org>

	* scheme/gschem.scm: Added a bunch of scheme code to search
	  through the global-keymap to find keys which are associated with
	  a scheme procedure

	* noweb/x_menus.nw: Changed get_main_menu to get its info from
	  the s_menu_* datastructures as well as put the hotkeys into 
	  the menu

	* noweb/g_rc.nw: Added g_rc_add_menu 

	* noweb/g_register.nw: Added register call for above

	* noweb/gschem.nw: Added s_menu_init() and s_menu_free() calls

	* lib/gschem-gtkrc: Added gtkrc file to set the font on all 
	  dialog boxes to be fixed (this can be another font as long as 
	  it is fixed spaced)

	* lib/system-gschemrc.in: Slowely started adding menu entries
	  using add-menu
	
2001-07-05 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/gschem.nw: Removed the "This is alpha software" message and
	  added the standard gpl/gnu software message

	* noweb/a_pan.nw: Oops, if you mouse pan around in a corner you get
	  really weird aspect ratio changes.  Fixed.

	* noweb/o_basic.nw: Added a parameter to o_drawbounding which controls
	  if this is the first time this function is being called for this
	  operation, should improve performance a tremendous amount when
	  dealing with bounding boxes (constant time to draw)

	* noweb/*.nw: Went through all code which references
	  o_drawbounding and set the above parameter to the correct value

	* noweb/o_copy.nw, o_move.nw: The bounding box (when enabled) was
	  not being erased properly after doing a move or copy. Fixed.
	
2001-07-02 Ales Hvezda   <ahvezda@geda.seul.org>

        * configure.in: A little more work to get indent vs gindent to
          be detected correctly

	* lib/system-gschemrc.in: Added the commented out hook lines

2001-07-01 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in: Now searching for gindent as well as indent

	* configure.in: Make sure configure scripts work with autoconf-2.50
	  (had to fix cygwin check), they do not yet work with 2.50
	
	* Removed all traces of libtool from gschem, libtool is not required
          to build gschem

2001-06-24 Ales Hvezda   <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Added sort-component-library keyword
	  default (disabled)

	* noweb/g_rc.c: Added code to support the sort-component-library

	* noweb/x_fileselect.c: Added code to enable/disable the sorting
	  of component libraries
	
2001-06-16 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in: More work on getting build mechanism for noweb
	  working better

	* src/Makefile.am: Lots of work on getting this makefile up to snuff

	* docs/Makefile.am: Added target to install gschem.1

2001-06-10 Ales Hvezda   <ahvezda@geda.seul.org>

	* configure.in: Minor cleanup

	* src/Makefile.am: Added support for automatic dependency tracking
	  wrt the noweb files (using VPATH)

	* noweb/g_rc.c: Changed g_rc_parse_system to look for the *rc file
	  in the right place using GEDADATA environment variables

	* lib/gschem-systemrc.in: Changed the load of the commonrc file
	  to use the GEDADATA environment variable
	
2001-06-07 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/gschem.c: Added call to libgeda_init
	
2001-06-05 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/Makefile: misc path changes

	* scripts/geda_totexi: renamed gawk to just plain awk
	
2001-06-03 Ales Hvezda   <ahvezda@geda.seul.org>

	* noweb/*: Added .nw files from Patrick B.

	* Started down the path toward using noweb (still need to integrated
	  noweb tools into the configure mechanism)

	* scripts/*: Added noweb -> texi backed written by Patrick B.

	* Moved some files around for above move

2001-05-26 Ales Hvezda   <ahvezda@geda.seul.org>

	* src/x_fileselect.c: Commented out a debugging printf

	* src/x_fileselect.c: Chris Ellec integrated his component window
	  sort into the code

2001-03-18 Ales Hvezda   <ahvezda@geda.seul.org>

        * Removed all Makefile.in files and configure

2001-03-17 Ales Hvezda   <ahvezda@geda.seul.org>
        
        * Got make dist and make distcheck working (means all files which are
          in CVS are in some Makefile)

        * configure.in: Added DATADIR instead of PACKAGE

2001-03-16  Stefan Petersen  <spe@geda.seul.org>

	* configure.in, configure: didn't build properly if libgdgeda
	  wasn't placed in it' "usual place".

	* src/x_menus.c: if libgdgeda isn't added, the menu alternative
	  will not appear (silly, but I did it).
	
2001-03-07  Stefan Petersen  <spe@geda.seul.org>

	* configure.in: Added patch from Bruno Schwander on libgeda also
	  on this library.

2001-03-06  Stefan Petersen  <spe@geda.seul.org>

	* configure.in: Removed some hard coded libraries.
	  Patch and suggestion from Bruno Schwander.

2001-03-04 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_complex.c: Fixed the symbol translate code to do a zoom limits
	  first and then the translate, fixes a bug where symbol didn't always
	  get to the origin

	* src/o_misc.c: Put back the code to call the screen coord version of
	  arc mirror/rotate

	* lib/system-gschemrc: Removed some old unused keyword options 

	* src/g_rc.c: Removed some old unused keyword options

        * configure.in: Updated version

        * configure.in: Added a check to make sure libgeda-config and
          gesym-config are the right version

2001-03-03 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* configure.in: Fixed a few bugs dealing with the enabling and 
	  disabling of features via the command line (pointed out by 
	  Karel Kulhavy)

2001-03-02 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_copy.c: Oops lines were not being redraw selected after a 
 	  copy

2001-03-01 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_move.c: Fixed a bug (pointed out by Matt Ettus) where an
	  endpoint was added to the netconn rubberband structure when it 
	  should not have been.  Bug was in an if statement which included
	  an || which was causing a false hit

	* src/*.c: Changed some // comments to be /* */

	* src/*.c: Fixed a bunch of -Wall warnings

2001-02-23 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/x_print.c: Fixed a bug where if you specified portrait printing
	  via the *rc files, you would get incorrect centering of the image.
	  Bug pointed out by Wolfgang Buesser.

2001-02-19 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_complex.c: Added code to get symbol translate working with
	  the new connection / cue system
	
2001-02-17 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_move.c: Modified and put back the code which implements 
	  netconn rubberbanding

	* src/o_basic.c: Enabled some code to support above

	* src/x_event.c: Enabled some code to support above

	* src/o_grips.c: Added a redraw_single of the original object if
	  you try to create a zero length object with a grip 

	* src/i_callbacks.c, g_*.c, x_menus.c: Integrated patch from Chris
	  Ellec for turning on and off the netconn rubberbanding

	* src/x_window.c: Integrated patch by Rolf Fiedler, increasing the
	  size of the main window depending on the screen resolution

	* lib/system-gschemrc.in: Made the default for netconn-rubberband
	  enabled by default
	
2001-02-11 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/x_print.c: Fixed a filename entry widget bug, filenames are
	  typically longer than 79 characters, so increased size to 200
	  chars

	* src/x_image.c: Fixed same bug as above for image dialog box

	* src/o_buffer.c: Misc code changes to support the new connection
	  and cue system
	
2001-02-10 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_complex.c: Added code to properly update connection / cues
	  when placing complex objects

	* src/o_complex.c: Found/Fixed a memory leak when placing the 
	  individual objects inside a schematic (via "include objects ...")

	* Started resyncing with the cvs repository.  

	* src/o_grips.c: Got grips to use the new connection / cues system

	* src/o_grips.c: Removed the global o_redraw at the end of
	  o_grips_end

	* src/o_grips.c: Finally fixed the "disappearing object" bug when you
	  use a grip on any of the objects.  Now the grips behave like
	  they should (finally)! :-)
	
2001-02-08 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_misc.c: Got mirror to use the new connection / cue system

	* src/o_misc.c: Removed the call to o_complex_mirror2 from the
	  mirror switch.  I don't think this special exception is needed
	  anymore.  Have to watch out for any breakage.

	* src/o_misc.c: Finally removed the restriction that you could not
	  mirror embedded components.  :-)  Have to watch out for any 
	  breakage.
	
2001-02-03  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* src/o_arc.c: Added code to draw grips on an arc

	* src/o_grips.c : Added code to handle grips on arc with
	  o_grips_<search|start|motion|end>_arc() functions.
	
2001-02-03 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_copy.c: Got copy to use the new connection / cue system

	* src/o_copy.c: Rearranged things around in the switch statement
	  so that you don't have to do a o_redraw at the end

	* src/o_basic.c: Minor cleanup

	* src/o_delete.c: Got delete to use the new connection / cue
	  system

	* src/o_net.c: Updated o_net_end to use the new connection / cue
	  system (also removed some old obsolete functions)

	* src/o_pin.c: Updated o_pin_end to use the new connection / cue
	  system (also removed some old obsolete functions)

	* src/o_bus.c: Updated o_bus_end to use the new connection / cue
	  system (also removed some old obsolete functions)

	* src/o_misc.c: #if'd out some function calls which don't exist
	  anymore (but I need the place holder to add new functions)
	
2001-01-27  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Added code to draw the grid when a new
	  window is opened (bug)

2001-01-24  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* src/o_arc.c: Changed the meaning of arc parameters

	* src/o_circle.c: Modified the calls to arc drawing functions to
	  match the change in the meaning of arc parameters
	
2001-01-23 Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_move.c, o_cue.c: Work on getting the new conn system to
	  work with move 
	
2001-01-19  Ales Hvezda	 <ahvezda@geda.seul.org>	

	* src/o_cue.c: Renamed o_conn.c to o_cue.c (makefile updates etc...)

	* src/o_cue.c: More work on getting cues done
	
2001-01-19  Stefan Petersen  <spe@geda.seul.org>

	* scheme/auto-uref.scm: If there wasn't a question mark in the
	  uref string, the auto-ref function blew up.
	
2001-01-18  Ales Hvezda	 <ahvezda@geda.seul.org>

	* src/o_conn.c: A lot of work on getting the visual cues done
	
2001-01-17  Stefan Petersen  <spe@geda.seul.org>

	* scheme/auto-uref.scm: Made the associative list,used to keep track
	  of used prefixes, using _real_ Guile associative list functions.
	
2001-01-16  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_event.c, g_key.c: Fixed a bug pointed out by Thomas Lundin
	  which was causing a core dump.  Basically, g_key_* functions
	  were using a stale w_current pointer; switched them to use the
	  always correct global_window_current pointer.
	
2001-01-16  Ales Hvezda  <ahvezda@geda.seul.org>

	* docs/gschem.txt: Added a few lines about label= attribute

2001-01-11  Stefan Petersen  <spe@geda.seul.org>

	* lib/system-gschemrc.in: minor paper-sizes bug that will break
	  future typechecking.
	
	* src/g_rc.c: minor spell error in boundingbox

2001-01-07  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_net.c: Added some text drawing to nets to make debugging
	  easier.  This code will not be executed in real builds (needs
	  to #if DEBUG'ed out)

2001-01-01  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/*.c: Removed all trace of conn table (and functions), nethash
	  table (and functions), and temporarily commented out stretch code

	* src/x_grid.c: Added x_draw_tiles to help in the coding of the tile
	  storage system

2000-12-17  Ales Hvezda  <ahvezda@geda.seul.org>

	* docs/gschem.txt: Misc doc updates

	* README and INSTALL: minor updates

2000-12-15  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/a_pan.c: Changed o_redraw_all call to o_redraw_all_fast just
	  to speed things up a bit

	* src/gschem.c: Changed o_redraw_all call to o_redraw_all_fast just
	  to speed things up a bit

2000-12-14  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_preview.c: Fixed a bug relating to the preview box randomly
	  not being drawn.  Fix by Werner Hoch

2000-12-13  Ales Hvezda  <ahvezda@geda.seul.org>

	* configure.in: Added -lregexp for CYGWIN32 build

2000-12-12  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/g_register.c: Added guile helper functions for netlist generation
	  (code by Eduard Moser and Martin Lehmann)

	* src/g_key.c: Guile bindings to generate netlists on the fly
	  (code by Eduard Moser and Martin Lehmann)

	* src/g_funcs.c: Added support functions for above
	  (code by Eduard Moser and Martin Lehmann)

	* scheme/generate_netlist.scm: This is the scheme code which pulls 
          together all of the above (new file added)
	  (code by Eduard Moser and Martin Lehmann)

2000-12-11  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_text.c: Added o_text_place_rotate() to support the rotation
	  of text as it is being placed

	* src/x_event.c: Modified state machine to support the rotation of
	  text as it is being placed

	* src/o_text.c: More work to support above

2000-12-10  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_text.c: Removed all trace of zoom_factor

	* lib/system-gschemrc.in: Changed default text_zoom_factor to 30

	* src/a_zoom.c: Removed one last unused reference to zoom_factor

	* src/configure.in: Added back the lines (saved_cflags etc...)
	  which caused debug output to be included in the build

2000-12-09  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_net.c: Removed all trace of zoom_factor

	* src/o_pin.c: Removed all trace of zoom_factor

	* src/o_line.c: Removed all trace of zoom_factor

	* src/o_grips.c: Removed all trace of zoom_factor

	* src/o_text.c: Added another lame patch to fix the short storage of
	  X coords problem.  Not really a solution, just a lame patch

	* src/o_circle.c: Removed all trace of zoom_factor

	* src/o_line.c, o_circle.c, o_arc.c: re-ran indent against these
	  files with -kr flags

	* src/o_bus.c: Removed all trace of zoom_factor

	* src/o_box.c: Removed all trace of zoom_factor

	* src/x_dialog.c: Added some more text to the about dialog box

2000-12-03  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/*.c: Removed some of the DONT_REDRAW from the code (the
	  DONT_* are total hacks)

	* src/i_callbacks.c, a_zoom.c, a_pan.c and friends: Added a flag
	  to a_zoom_* to control if the display is redraw or not (augmenting
	  the current DONT_REDRAW).  Need to fix this properly soon

2000-12-03  Ales Hvezda  <ahvezda@geda.seul.org>

	* configure.in: Slightly rearranged things to make cygwin port happy

	* src/a_pan.c: Integrated changes by Werner Hoch, Panning is now done
	  using a_pan_general

	* src/a_zoom.c: Integrated changes by Werner Hoch, Panning is now done
          using a_pan_general

	* src/i_callbacks.c: Integrated changes by Werner Hoch, Bunch of
	  code cleanup, removed some redundant code

	* src/x_grid.c: Integrated changes by Werner Hoch, Changed the way 
	  the grid spacing is calculated (and drawn)

	* src/x_basic.c: Integrated changes by Werner Hoch, changed some init
	  variables for the scrollbars

	* src/x_event.c: Integrated changes by Werner Hoch, rewrote (and
	  fixed) resize callback to properly maintain aspect ratio

	* src/x_window.c: Integrated changes by Werner Hoch, changed some
	  init variables relating to scrollbars

	* src/a_pan.c: Put in some code to bound the left and top borders
	  when mouse panning

2000-12-02  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/gschem.c: Changed Cygwin warning message

2000-11-30  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_bus.c, o_box.c, o_move.c: Removed unused variable

        * configure.in: Added -fnative-struct flag for CYGWIN port only

        * configure.in: Added --enable-debug flag to enable -g flag

2000-11-22  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_move.c, x_event.c, o_basic.c: Finished adding the code to 
          support the netconn-rubberband rc keyword

2000-11-21  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/g_rc.c and friends: Added netconn-rubberband rc keyword
	  which controls if the net connection rubberband code is enabled

2000-11-16  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_move.c: Added support to the various o_move_* functions
	  for midpoint connections when moving objects around (basically
	  added o_move_check_midpoint)

	* src/o_move.c: Added calls to the creation and destruction of
	  the nethash table (supporting above)

	* src/o_move.c: Changed all stretch_tail instances (when passing
	  into s_stretch_add) so that duplicates can be check for (and 
	  prevented)

2000-11-12  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_move.c: Started working on the first cut of the net/pin/bus
	  stretch while doing a move

	* src/*.c: Removed all traces of the old stretch callback etc...

	* include/x_states.c: Removed all traces of the old stretch command

	* src/o_delete.c: Removed static flag from o_delete_net (for use
	  in o_move_end_rubberband)

	* src/o_delete.c: Removed static flag from o_delete_bus (for use
	  in o_move_end_rubberband)

	* src/o_basic.c: Added a call to o_move_stretch_rubberband to erase
	  old rubberbands (when doing a move and switching from free
	  to constrained move)

	* src/x_event.c: Added calls to o_move_stretch_rubberband 

	* src/o_net.c o_bus.c: Added some routines to support above

	* src/x_window.c: Oops forgot to init ftwindow which will cause
	  a core dump on some systems, fixed 

2000-11-09  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_dialog.c: Fixed a core dumper.	Basically did not unselect
	  the text attribute before you deleted it via the multi attribute
	  dialog box.  (Pointed out by Chris Ellec and Stefan).

2000-11-04  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_undo.c: Added code to use the new hierarchy saved state
 	  variables

	* src/i_callbacks.c: Misc variable initing

	* docs/: Added new directory, and put gschem.txt inside

2000-11-03  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Oops, forgot to save the undo state after
	  pushing down into a hierarchy (schematic and symbol)

2000-10-31  Ales Hvezda  <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Added some comments (based on feedback
	  from Arnim Littek).

2000-10-29  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/a_pan.c src/a_zoom.c: Integrated bug fixes and much needed
	  improvement to zoom / pan functions (patch by Werner Hoch) Thanks

	* src/a_pan.c: Fixed a long standing annoyance with mouse pan: near
	  the borders the display would jitter, very annoying

	* src/g_register.c etc...: Added support for hotkey for edit_filltype

	* lib/system-gschemrc.in: Added hotkey for edit_filltype

	* src/x_dialog.c: Intergate slot change patch by Chris Ellec
 	  (change the slot attribute and a the symbol updates; with minor
	  modifications by AVH)

2000-10-26  Patrick Bernaud  <b-patrick@wanadoo.fr>

	* examples/fill_test.sch: Added example schematic to demonstrate
	  fill capabilities

	* src/o_arc.c, o_line.c: Minor changes to line type support

	* src/o_box.c, o_circle.c: Added fill (both solid and pattern)
	  to boxes and circles (also misc line type changes).

	* src/x_dialog.c, x_menu.c, i_callbacks.c: Added fill style
	  dialog box

2000-10-10  Stefan Petersen  <spe@geda.seul.org>
 	
	* src/gschem.c, src/i_callbacks.c, src/x_fileselect.c, src/x_preview.c
	  f_open calls silently ignores the error code returned.

2000-10-07  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/g_rc.c: Removed a #if defined around #include <dirent.h>
	  for CYGWIN32

	* src/x_fileselect.c: Removed a #if defined around #include <dirent.h>
	  for CYGWIN32

	* configure.in config.h: Removed an old GTK+ test which is not
	  longer used

2000-10-06  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/*.c: Removed all // comments

	* src/gschem.c: Changed CYGWIN32 warning message

	* src/o_arc.c: Patrick checked in a rotate fix for arcs 

	* src/o_misc.c: Added *_erase_grips calls to o_rotate_90 and o_mirror

	* src/o_slot.c: Fixed a core dumper.  Basically tried to use text
	  paramters when instead wanted to use the complex structure

2000-10-05  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_dialog.c: Also remove the log window and the page manger
 	  from the raise dialog function
	
	* src/o_move.c: Added a missing erase grip function for boxes

	* src/o_delete.c: Added a bunch of erase grip functions for all
	  primitives

	* src/o_circle.c: Added code to support circles

	* src/o_grips.c: Added code to support circles

	* src/o_circle.c, o_line.c, o_box.c: Made sure the line width was 0
	  before drawing all grips

	* src/*.c: Added draw-grips *rc keyword and enabling/disabling code

	* src/o_grips.c: Oops forgot to update the CHANGED flag at the end of
	  o_grips_end

	* src/o_grips.c: Put in a o_redraw at the end of grips; We'll
	  see if this is acceptable

	* src/o_<primitive>.c: Added some defaults to various error conditions
  	  to prevent visual errors and core dumps

	* src/*.c: Fixed all -Wall warnings

	* src/o_complex.c: Added o_complex_place_rotate (allows you to rotate
  	  a component before you place it)

	* src/x_event.c: Added code to call o_complex_place_rotate

	* src/x_dialog.c: Removed some code (o_undo_savestate) which didn't 
 	  belong
	
	* src/x_dialog.c: Added line type / line width dialog box

	* src/i_callbacks.c: Added code to call new line width / line type
	  dialog box

	* src/x_menus.c: Added Edit/Line Width & Type menu option

	* src/*.c, lib/system-gschemrc.in: Added hotkeys for Edit/Line Width &
 	  Type 

2000-10-04  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_line.c: Added code to draw grips 

	* src/o_grips.c: Added new file which will contain code which deals
	  with drawing grips

	* src/x_event.c: Added calls to grip routines

	* src/o_net.c: Added code to draw grips

	* src/o_pin.c: Added code to draw grips

	* src/o_bus.c: Added code to draw grips

	* */*: Removed all calls to *stretch functions 

	* src/x_dialog.c: Removed the file/component selection dialog box
   	  from the "raise on expose event" 

	* src/o_move.c: Added grip erase function calls to clean up any 
	  droppings

	* src/o_box.c: Added code to draw grips

	* src/o_grips.c: Added support for box grips

2000-10-02  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_arc.c: Renamed all d1 to length and d2 to space
		       Misc number to #define substitutions

	* src/o_line.c: Renamed all d1 to length and d2 to space
		        Misc number to #define substitutions

	* src/o_box.c: Renamed all d1 to length and d2 to space

	* src/o_circle.c: Renamed all d1 to length and d2 to space

	* src/o_*.c: Found a minor bug in o_*_draw which caused primitives to 
	  sometimes not be drawn

	* src/o_box.c: Renamed box_width to line_width (when it applied to 
          the thickness of a line)

	* src/o_*.c: Made sure the thickness of all graphic contexts are 0
          before starting to draw

2000-09-26  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_arc.c: Intergrated changes to the arc primitive by
          Patrick Bernaud

	* src/o_box.c: Intergrated changes to the box primitive by
          Patrick Bernaud

	* src/o_circle.c: Intergrated changes to the circle primitive by
          Patrick Bernaud

	* src/o_line.c: Intergrated changes to the line primitive by
          Patrick Bernaud

	* Above files: Removed temporary function prototype

	* src/create_proto: Update to be more general like libgeda's version
	  (but it is slightly different)

2000-08-30  Stefan Petersen  <spe@geda.seul.org>

	* Added auto-uref.scm and print-NB-attribs.scm scheme programs.
	  Changed scheme/Makefile.am accordingly and reran automake.
	
2000-08-28  Stefan Petersen  <spe@geda.seul.org>

        * Fixed bug in configure.in. Probably a bug in autoconf.
          Now it should work to configure when libguile is dependent
          on other libs.
	
2000-08-26  Stefan Petersen  <spe@geda.seul.org>

        * Cleaned up configure stuff and added guile.m4 to enhance
          guile configuration.

2000-08-22  Stefan Petersen  <spe@geda.seul.org>

	* configure.in/configure: Made configure look for scm_run_hook
	  in libguile.

2000-08-21  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_text.c: Converted all complex references to use the new
	  complex pointer inside text structure

	* src/o_text.c: Added o_text_draw_lowlevel

	* src/o_complex.c *.c: Converted all complex references to use the new
	  complex structure

	* src/*.c: Went through all code and made sure code compiles with 
	  all the renamed variables

2000-08-20  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_arc.c: Converted all line_points references to use the new
	  arc structure

	* src/o_box.c: Converted all line_points references to use the new
	  box structure

	* src/o_text.c: Converted all text_* references to use the new
	  text structure

	* src/o_text.c: Found a long hidden bug, wasn't properly recomputing
	  screen_x and screen_y for text items

	* src/*.c: Converted all text_* references to use the new text 
	  structure

	* src/o_line.c: Converted all line_points references to use the new
	  line structure

	* src/o_net.c, o_pin.c, o_bus.c: Changed o_line_visible's parameters
	  to be correct (use line structure). 

	* src/o_pin.c: Converted all line_points references to use the new
	  line structure

	* src/o_net.c: Converted all line_points references to use the new
	  line structure

	* src/o_bus.c: Converted all line_points references to use the new
	  line structure

	* src/o_stretch.c: Converted all line_points references to use the new
	  line structure

	* src/o_attrib.c: Converted all line_points references to use the new
	  line structure

	* src/o_conn.c: Converted all line_points references to use the new
	  line structure

2000-08-17  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_dialog.c: Fixed a bug pointed out by Martin Benes.
          Martin also provided the bug fix.  Thanks.  Needed to init
	  the "selected" data item to -1.

2000-08-12  Stefan Petersen  <spe@geda.seul.org>

	* src/g_hook.c: Added. Contains hook support functions.

	* src/Makefile.am: Added above source file. -> 
	  all Makefile* and configure are regenerated.
	
	* src/globals.c, include/globals.h: Defined three hooks; 
	  *_component_hook

	* src/g_register.c: Init attrib smob stuff and defines hooks

	* src/o_complex.c, src/o_copy.c, src/o_move.c: Calls to hooks added

	* include/prototype.h: two hook support functions.
	
2000-07-20  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_event.c: Fixed a bug in the middle mouse button move when
	  you pressed the shift key and had the mouse over an existing 
	  object.  Now the object is not selected.

2000-07-04  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/*.c: Updated copyright info in each file

	* src/*.c: Changed all GNU to GPL in the appropriate places

	* src/x_multimulti.c: Added copyright banner to file

	* src/g_rc.c: Added a #ifdef to the #include <dirent.h> to make
	  Cygwin builds happy

	* configure.in: Bumped version up to 20000704

	* src/*.c: Removed all warnings

2000-06-27  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_undo.c: DOH! Didn't #include <math.h> which caused rint to
	  cause highly unpredictable behavior (core dumping).  Fixed

	* src/o_undo.c: Added code to look for undo save data when
	  you zoom and then make a schematic change (zoom undo does not
	  store state of schematic), so you have to go looking for the data.

	* src/g_rc.c: Added component-library-search rc keyword which 
	  implements the automatic searching and adding of component libraries
	  given a directory (requested feature for Steve Williams)

	* src/g_register.c: Added code to support component-library-search 
          rc keyword

	* src/g_rc.c, src/g_register.c: Added very similar code to above to 
          support source-library-search rc keyword

	* src/x_dialog.c (bunch of other files): Fixed attribute add bug 
	  where when Add/Attribute...  is execute from the menu and the
	  attribute text location is weird.

	* src/g_register.c, src/i_callbacks.c, src/g_key.c: Added new 
	  function add-attribute-hotkey to support above

	* lib/system-gschemrc.in: Added add-attribute-hotkey in the appropriate
  	  place (in the keymapping structure)

2000-06-26  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_buffer.c: Indentation nit fixed

	* src/o_undo.c: Added a bunch of code to deal with the new object_head
	  pointer in the undo struct (for doing in memory undo)

	* src/g_rc.c, src/g_register.c, src/i_vars.c, include/i_vars.h:
	  Added code to support undo-type rc keyword

	* lib/system-gschemrc.in: Added undo-type rc file

/***********************************************************************/
/* NOT DONE */
src/*.c: Removed all traces of the ADDING_SEL flag
/* NOT DONE */
/***********************************************************************/

	* src/a_zoom.c, src/a_pan.c: Moved some of the redraw functions 
	  around

	* src/x_event.c: Changed one of the o_redraw_all_fast functions to be a
	  plain old simple o_redraw_all

	* src/o_move.c: Putzed around with the NET move code case to see if
	  I could improve the net_conn drawing problems.  Not much success
	  though (probably broke things) 

	* src/a_pan.c, src/a_zoom.c, src/x_event.c, src/i_callbacks.c: 
	  Removed o_undo_savestate from zoom and pan functions (for now,
	  eventually routines need to go back in)

	* src/o_undo.c: Added a flag to the save state function which allows
	  for you to just store viewport info (and not the whole schematic);
	  speeds up zooming/panning a lot

	* src/o_undo.c: Fixed code so that zoom factor is calculated after
	  an undo

2000-06-23  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_fileselect.c, src/i_callbacks.c: Removed the "unselect all 
	  before save" call since the lowlevel routines in libgeda now
	  take care of saving primitives correctly

	* src/o_undo.c: Moved undo_* pointers into page structure 

	* src/o_undo.c: Moved chunks of code into libgeda/src/s_undo.c
 	  (init and free function)

	* src/x_window.c: Removed o_undo* function calls (now the exist in
	  s_page_* in libgeda)

	* src/o_undo.c: Added global init and clean functions

	* src/gschem.c: Added some global init and cleanup undo func calls

	* src/g_rc.c, src/g_register.c, src/i_vars.c, include/i_vars.h:
	  Added code to support undo-levels and undo-control rc keywords

	* lib/system-gschemrc.in: Added undo-levels and undo-control to
	  rc file

	* src/gschem.c, src/i_callbacks.c, src/x_fileselect.c, src/x_window.c: 
          Added a o_undo_savestate immediately after you open/create a new page

	* src/*.c: Added an o_undo_savestate after all code which causes a 
	  schematic change

	* src/a_zoom.c, src/a_pan.c, src/x_events.c: Added an o_undo_savestate 
	  after all zoom/pan type code 

2000-06-22  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_undo.c: Added new file which includes higher level undo
	  management routines

	* src/x_window.c: Added undo init and free routines

	* src/o_line.c: Added first call to o_undo_savestate in o_line_end

	* src/g_key.c, src/i_callbacks.c: Added new key callbacks 
          (for undo and redo)

	* src/g_register.c, lib/system-gschemrc.in: Added keys U and R for 
          undo and redo

	* src/x_menus.c: Added undo and redo to the menu

2000-06-08  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_buffer.c: Fixed bug which was causing buffers which are
	  pasted to be misaligned

	* src/x_dialog.c, src/o_attrib.c: Changed the bug fix with 
	  o_attrib_add_attrib and gschem crashing to now just not attach
	  the attribute, now o_attrib_add_attrib cannot return NULL (returns
	  the new text object always) 

	* src/o_attrib.c: For some odd reason I wasn't using the color 
	  variable in o_attrib_add_attrib, fixed that.	Also attributes
	  which are floating should not be yellow (attached color),
	  so they are now red which signify a floating attrib.  It is the
	  user's responsibility to change the color to something else.
	  The red is meant as a warning that this attribute isn't attached
	  to anything.

2000-06-04  Ales Hvezda  <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Made net-consolidate enabled by default

	* src/i_vars.c: Made net_consolidate variable enabled (TRUE)

	* src/x_dialog.c: Added an if to make sure returned object from
	  o_attrib_add_attrib isn't NULL (that can happen if you try to
	  attach an attribute to another text item).  This bug caused at 
	  least one core dump.

2000-06-03  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/g_rc.c, src/i_vars.c: Added continue-component-place *rc keyword
          (functions and variables)

	* lib/system-gschemrc.in: Added continue-component-place keyword

2000-06-01  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/g_rc.c, src/i_vars.c: Added promote-invisible *rc keyword
          (functions and variables)

	* lib/system-gschemrc.in: Added promote-invisible keyword

	* src/o_complex.c: Removed some lame cleverness related to the
          attribute_promotion variable (it was being used instead of a real
          flag which lead to some ambiguous code)

	* src/g_rc.c, src/i_vars.c: Added keep-invisible *rc keyword 
          (functions and variables)

	* lib/system-gschemrc.in: Added keep-invisible keyword

	* lib/system-gschemrc.in: Spent a little time cleaning this file up.
	  (more whitespace, a few missing comments)
	
2000-05-29  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_complex.c: Added Martin Benes' changes which implement the
	  promotion and attachment of floating attributes when you 
	  instanciate a component. 

	* src/o_complex.c, src/g_rc.c, src/i_vars.c: Made the above 
	  code configureable through the *rc files (keyword: 
	  "attribute-promotion")

	* lib/system-gschemrc.in: Added attribute-promotion keyword (enabled by
 	  default)

2000-05-27  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_misc.c: Oops, had a typo in o_rotate_90 which caused boxes 
	  to be rotated but not drawn 

	* src/x_dialog.c: In the multimulti dialog box, give the value entry
	  the keyboard focus by default (when an attribute is selected) 
	  Written by Martin Benes

	* src/x_dialog.c: In the multimulti dialog box, hitting return in
	  the value entry caues the dialog box to close
	  Written by Martin Benes

	* src/x_dialog.c: In the atribute edit dialog box, give the value 
	  entry the keyboard focus by default
	  Written by Martin Benes

	* src/x_dialog.c: If you add an attribute to a net, the name 
	  entry gets a default value of "label"
	  Written by Martin Benes

	* src/x_dialog.c: When adding an attribute to an object using 
	  the attribute add dialog box, the current mouse location is used
   	  as the origin point for the new text item.
	  Written by Martin Benes

	* src/x_event.c: After placing a component (using the place dialog
	  box), immediately starting placing the same dialog again.
	  Written by Martin Benes

2000-05-23  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/globals.c: Renamed buffers to object_buffers

	* src/x_event.c: Added the beginning of the event states which will
	  be needed to implement the buffer copy/paste

	* src/x_event.h: Added states (STARTPASTE and ENDPASTE) to the state 
	  enumerated type

	* src/Makefile.am: Added o_buffer.c

	* src/o_buffer.c: Finished adding o_buffer_paste_* routines 

	* src/o_buffer.c: Finished adding o_buffer_copy and o_buffer_cut 
	  routines 

	* src/x_menus.c: Added Buffer pulldown menu as well as the menu 
	  items inside

	* src/globals.c: Added #include ".../globals.h"

	* src/i_callbacks.c: Added a huge bunch of callbacks to support the
	  buffer paste/copy/cut feature

	* src/x_window.c: Added o_buffer_free to allow for the tracking down
	  of memory leaks with ccmalloc

	* src/g_key.c: Added buffer_* calls as guile registered functions

	* lib/system-gschemrc.in: Added keystroke hotkeys for buffer functions

	* lib/system-gschemrc.in: Changed raise-dialog-boxes-on-expose to be
	  enabled by default.  Let's see if anybody complains
	

2000-05-22  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Started experimenting with the concept of global
	  (across all windows/pages) buffers to hold cut and paste type 
	  objects

	* src/globals.c include/globals.h: Added OBJECT *buffers[10] array for
	  cut and paste type operations between pages
	
	* src/o_copy.c: Found and fixed a bug which caused circles to be
	  copied incorrectly

	* src/o_complex.c: Removed some #if'ed out ancient code 

	* src/gschem.c: Added some init code to main() to handle the 
	  highly experimental buffers

	* src/i_callbacks.c: Found a minor bug in the new experimental 
	  routines (was copying to the wrong end of the object list)
	
2000-04-21  Ales Hvezda  <ahvezda@geda.seul.org>

	* lib/system-gschemrc.in: Changed the default case to be both 
	  (allow both lower and upper case characters when entering text)

	* lib/system-gschemrc.in: Added footprint attribute name to 
	  attribute-name list

2000-04-16  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Worked more on the source= and hierarchy down 
	  schematic feature by adding the ability to have multiple filenames
	  (comma seperated) in the source= attribute 
	  (Idea by Thepthai Tabtieng)

	* src/i_callbacks.c: Fixed the Attribute/Attach... segfault (added
	  an if ...) (Bug pointed out by Stefan, Thanks)

	* src/i_callbacks.c: Added the ability to search for the source=
	  attribute inside the symbol if it isn't found attached to the 
	  outside of the symbol (omission pointed out by Thepthai Tabtieng).
	  If you attach source= attribute to the outside, then inside is 
	  NEVER searched.

	* src/x_window.c: Oops forgot to init and destroy w_current->sewindow 
	  Oops forgot to init and destroy w_current->mawindow
	  Oops forgot to init and destroy w_current->aewindow
	
	* src/x_dialog.c: Added x_dialog_raise_all which raises all dialog 
	  boxes if they are displayed

	* src/g_rc.c: Added raise-dialog-boxes-on-expose rc keyword to control
	  above

2000-04-15  Ales Hvezda  <ahvezda@geda.seul.org>

        * src/create_proto: Updated prototype.h creation script to use gtk/glib
          paths from my machine (installed in /usr/local ...)

2000-03-23  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_net.c: Removed the stupidity of unselecting the selection
	  when we consolidate nets

	* src/o_text.c: Fixed both instances of the fast text drawing
	  code for 90 and 270 rotated text (line was going the wrong
	  direction).

	* src/o_text.c: Alsmot got the length of the fast text line right.
	  Still not perfect, but better

	* src/o_slot.c: o_slot_end, got the changing of sloting to look right
	  with the new selection mechanism


2000-03-20  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_misc.c: Got o_embed and o_unembed working with the new
	  selection mechanism

	* src/o_misc.c: Got o_lock and o_unlock to use a new variable
	  (locked_color) instead of the selection reserved variable
	  saved_color

	* src/o_misc.c: Added some diag messages to lock and unlock routines

	* src/o_net.c: Introduced a hack which simplifies the handling of 
	  net consolidation and selections (unselect everything before you
	  attempt consolidation)  Not a good solution, but for now it will do.

	* src/*.c: Removed most // comments

2000-03-16  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_misc.c: Got o_mirror totally working with new selection
	  mechanism

2000-03-15  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Got the parameters to o_mirror correct 

	* src/o_misc.c: Started getting o_mirror to work with new selection 
	  mechanism (still has some serious bugs)

2000-03-12  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/Makefile.am: Removed obsolete i_sbox.c from Makefile

	* src/x_dialog.c: Got color edit dialog box to work with new selection
	  mechanism

2000-03-10  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_basic.c: Added o_redraw_all_fast (which is a faster version
 	  of o_redraw_all)

	* src/a_pan.c: Made mouse pan use the above routine

	* src/x_event.c src/o_text.c: Added code to increase the speed of the
	  mouse pan (by not drawing all the text)

	* src/a_zoom.c src/x_event.c: Also speed up zoom box and zoom in/out 
	  with new faster redraw function

	* src/g_rc.c and friends: Added fast-mousepan keyword which controls
	  if text is drawn during a pan or not.

	* src/o_misc.c: Fixed up o_edit to work with new selection mechanism
	  
	* src/o_misc.c: Cleanup of code which calls the multi_* functions to
	  be simpler

	* src/x_dialog.c: Got multi_attrib_edit to work with new selection
 	  mechanism

	* src/x_multimult.c: Got multi_multi_edit to work with new selection
	  mechanism

2000-03-09  Ales Hvezda  <ahvezda@geda.seul.org>
	
	* src/i_callbacks.c: Got attribute attach and detach working with
	  the new selection mechanism

2000-03-08  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_copy.c: Got the setting of color on detached attributes right

	* src/o_attrib.c: Fixed a bug where you could pick an object with
	  attributes and then deselect it and then select it again, and you
	  would end up with invalid colors for the attributes.
	  (in o_attrib_add_selected)

2000-03-07  Matt Ettus <matt@ettus.com>

	* src/x_multimulti.c:  Moving along on dialog box
	  Shouldn't segault anymore, looks nicer.

2000-03-05  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_image.c: Unselected all objects first before writing image

	* src/x_print.c: Unselected all objects first before writing postscript

	* src/o_text.c: Got text edit to work with new selection mechanism
	  (proper erase before and redraw after the edit)
	
	* src/o_text.c: Got attrib text edit to work with new selection 
	  mechanism

	* src/o_attrib.c: Fixed toggle visibility to work with new selection
	  mechanism

	* src/o_select.c: Fixed a bug where you could select invisible objects
	  using the selection box and caused other invisible objects to be
	  selected (don't consider invisible objects for anything).

	* src/Makefile.am: Removed old *.h entries 

	* src/o_attrib.c: Fixed o_attrib_toggle_show_name_value to work with
	  the new selection mechanism

	* src/o_misc.c: Got Edit/Show Hidden... working again.
	
2000-03-04  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_basic.c: Combined o_drawbounding and o_drawbounding_new into
	  a single function.

	* src/o_complex.c: Put the new o_drawbounding into place (new 
	  prototype, which means all instances need to be fixed)

	* src/o_basic.c: More o_drawbounding cases fixed

	* src/o_basic.c: Fixed a bug where text would not be draw properly
	  if a redraw came in the middle of a place

	* src/o_text.c, o_attrib.c: Fixed o_drawbounding in code

	* src/*.c: Fixed rest of the o_drawbounding[_new] in the code

2000-02-28  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_*.c: Added required o_*_erase functions

	* src/*.c: Continued work on getting new selection mechanism working

	* src/o_misc.c: Finished a few of the functions for above, but 
	  #if 0'ed out the rest

	* src/o_slot.c: Update function for new selection mechanism  

	* src/o_stretch.c: Update function for new selection mechanism  

	* src/o_copy.c, o_move.c, o_delete.c: Basically working again.  Still
	  have lots to work here.

	* Finished first draft of selection mechanism rewrite... _a lot_ of 
	  things still broken

2000-02-28  Matt Ettus <matt@ettus.com>

	* Makefile.am:  Added x_multimulti.c

	* o_misc.c:  Added call to multi_multi_edit

	* x_multi_multi.c:  New File, contains beginnings of
	  multi component attrib editor dialog

2000-02-27  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_selection.c: Added new selection code

	* src/o_find.c: Added new object find function

	* src/o_select.c: Added new object selection code

	* src/*.c: Changed #define SELECTION to SELECTION_FLAG in all the code

	* src/*.c: Changed #define NORMAL to NORMAL_FLAG in all the code

	* src/*.c: Started work on using new selection mechanism, got basic
	  selection (single/multiple) working

	* src/o_misc: Fixed a minor bug in o_unlock (will be rewritten anyway)

	* src/o_attrib.c: Renamed deal_attrib to o_attrib_add_selected 

	* src/o_basic.c: Removed a whole bunch of old functions

	* src/*.c: Started removing all traces of the old selection 
	  mechanism

	* src/o_basic.c: Removed a bunch of functions which are no longer
	  needed

	* src/o_move.c: Rewrote the functions to use new selection mechanism

	* src/o_copy.c: Rewrote the functions to use new selection mechanism

	* src/o_delete.c: Rewrote the functions to use new selection mechanism

	* src/o_misc.c: Rewrote the functions to use new selection mechanism

	* Still todo/broken is o_drawbounding, o_erasebounding, an 
	  o_attrib_slot_copy?, referenced to undraw unselect functions,
	  and need to write a bunch of _erase functions

2000-02-25  Ales Hvezda  <ahvezda@geda.seul.org>

	* configure.in: Added gtk+extra widget set (libgtkextra.*)
	  to the link list of gschem (linked in only if it is installed)

2000-02-23  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/gschem.c: Fixed a bug in the parsing/locating of the
	  first schematic filename commandline parameter

2000-02-19  Ales Hvezda  <ahvezda@geda.seul.org>

        * README/INSTALL: Updated files to reflect next release

	* src/*.c: Removed all // comments (changed to /* */)

	* src/i_callbacks.c: Got rid of setup_attr_selector, instead now 
	  calling attrib_edit_dialog directly
	
	* src/*.c: Fixed all warnings (using -Wall -Werror)

2000-02-17  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_text.c: Put the text origin markers in the backingstore so
	  they show up when you open up initally in the window.

	* src/o_text.c and friends: Added text-origin-marker keyword to
	  control if the markers are displayed or not

	* src/o_text.c: Added the ability to edit the text alignment using
	  Edit/Edit... (or Edit/Edit Text...)

	* examples/*.sch: Loaded and saved all example schematics so that they
	  use the new text format

2000-02-16  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_misc.c: Selecting Edit/Edit... on nets, buses, and pins now 
	  brings up the multi-attrib

	* src/*.c: Update a bunch of files to use call o_text_add with the
	  extra text alignment parameter

	* src/o_text.c: Added a small x where the origin of a text object is 
	  when the text item (only as debugging, might be perm later)

2000-02-16  Matt Ettus  <matt@ettus.com>

	* src/x_dialog.c:  Lots of changes to finish and clean up
	  the multi-attrib editor.  Code is cleaner now, too.

2000-02-15  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_attrib.c: Made o_attrib_add_attrib return a pointer to the
	  attached (or new) attribute.

	* src/i_callbacks.c: Update one of the misc callbacks to test above
	  change

2000-02-01  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_pagesel.c: Added a hierarchy level flag as well as rearranged
    	  the page manager dialog box a little bit

	* src/i_callbacks.c: Added code to go up the hierarchy if you close
          an underlying page first.

	* src/i_callbacks.c: Bug fix to make all hierarchy down opened pages 
	  be zoomed limits

	* src/i_callbacks.c: Bug fix to page revert to make sure hierarchy
	  info is preserved when a page is closed and reopened.

2000-01-25  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Added code to allow you to specify a lower 
	  (source) schematic use the source= attribute

	* src/x_dialog.c: Fixed that bug which I introduced in the multi-attrib
	  edit dialog box which caused it to not open if a component with no
	  attached attributes is selected

	* src/g_rc.c and friends: Added enforce-hierarchy rc keyword which 
	  controls if how easy it is to move between hierarchy levels

	* src/x_dialog.c: Increased the height of the multi-attrib edit dialog 
	  box by using gtk_widget_set_usize function 

	* lib/system-gschemrc.in: Add source attribute name to attribute-list

	* src/x_dialog.c: Gave multi attrib, slot edit, and attrib edit their
	  very own entries in the toplevel structure (mawindow, sewindow, 	
	  aewindow).  Also gave slot edit it's very own entry "entry" 
	  (seentry)

	* src/o_misc.c: Added checks in o_edit to make sure that an attribute
	  is really an attribute (='s not sorrounded by spaces)

	* src/x_dialog.c: Hopefully got the grab for attribute edit dialog
	  and multi attribute dialog boxes working

	* src/i_callbacks.c and friends: Added edit_text callback just so 
	  that the user an forcely edit text even if that text is an attribute

2000-01-26  Matt Ettus  <matt@ettus.com>

	* src/x_dialog.c:  Added capability for Edit Attribute Dialog
	  to handle attribute additions also

	* src/x_attrsel.c:  Commented out old attrib add, made it call
	  new dialog.
	  NOTE:  The way it calls the new dialog is kind of indirect.
	
2000-01-25  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_attrib.c: Added o_attrib_add_attrib which takes some parms
	  and adds a text attribute to the selected object.

	* src/i_callbacks.c: Modified misc-misc callback to test and demo
	  the above function.

2000-01-19  Matt Ettus  <matt@ettus.com>

	* src/x_dialog.c:  Merged in Ales's changes

	* src/x_dialog.c:  Lot's of rework on multi-attrib editor

2000-01-18  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_dialog.c: Moved some code around and added a check to 
	  the multiple attrib edit dialog box so gschem won't crash

	* src/x_dialog.c: Filled a string (text[1]) with some thing to avoid
	  garbage chars in the multi edit dialog box

	* src/o_delete.c: Make o_delete_text a non-static function (so
	  that it can be used in routines/files

	* src/x_dialog.c: Got the delete callback on the attribute edit
	  dialog box working (by calling o_delete_text)

	* src/x_dialog.c: Moved the "hint" to the multi attrib edit dialog box
	  to place itself at the mouse pointer location (gtk_window_position)
	  to be closer to the creation time of the window to avoid dialog box
	  placement gitter.

	* src/x_dialog.c: Added a few memory frees to avoid memory leaks
	  
2000-01-17  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Renamed Hierarchy menu options

	* src/g_*.c: Added Hierarchy/Down Schematic and Hierarchy/Down symbol

	* src/x_menus.c: Added renamed appropriate menu options for above

	* lib/system-gschemrc.in: Updated hotkeys for above new callbacks

	* src/i_callbacks.c: Fixed page next and page prev to look at the
	  page control variable 

2000-01-13  Matt Ettus  <matt@ettus.com>

	* src/x_dialog.c:  Moved Multi-attribute editor here, improved it

	* src/o_misc.c:  Added call to multi-attrib editor

	* Removed "Mattribute" menu item

2000-01-12  Matt Ettus  <matt@ettus.com>

	* src/x_dialog.c: Fixed attrib editor dialog to comply with UI 
	  guidelines

2000-01-08  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/o_text.c: Fixed o_text.c so that it works with Matt's dialog
	  boxes.
	
	* src/x_dialog.c: Minor comment updates

2000-01-07  Matt Ettus  <matt@ettus.com>

	* src/o_text.c: Update o_text_change to properly change the selection
	  as well as the real objects

2000-01-07  Matt Ettus  <matt@ettus.com>

	* Added Individual Attribute Editor (nearly done)

	* Added Multiple Attribute Editor (only displays)

	* include/prototype.h:  added my proto's.  Please regenerate

	* src/i_callbacks.c:  Added callbacks for 2 attrib dialogs

	* src/o_misc.c:	Changed o_edit to call attrib edit dialog on attribs,
	  text edit dialog on text

	* src/o_text.c:  Added show options to o_text_change()

	* src/x_attrsel.c:  Added start of new multiple attribute dialog

	* src/x_dialog.c:  Added new single attribute editor dialog functions
	  (all the attrib_edit_dialog* functions)

	* src/x_menus.c:  Added "Mattribute" menu item for new dialog

2000-01-06  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Created misc-misc2 and misc-misc3 callbacks and
	  hotkeys (src/g_key.c src/g_register.c lib/system-gschemrc.in)

	* src/o_text.c: Created o_text_change which takes a text object,
	  a new string, and a visiblity flag and recreates that text object.

2000-01-04  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Updated misc-misc callback to use the new
	  o_attrib_return_attribs which now returns an object array

2000-01-03  Ales Hvezda  <ahvezda@geda.seul.org>
        
        * src/i_callbacks.c: Changed misc-misc callback to test out the
          o_attrib_return_attribs functions

2000-01-02  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/i_callbacks.c: Minor bug fix deal with rotate/mirror modes
	  not updating the status message on the bottom of the screen	

1999-12-27  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_menus.c: Added File/Revert Page to make Magnus happy. :-)

	* src/i_callbacks.c: Added code to implement above

	* lib/system-gschemrc: Added hotkey for revert page.

	* src/g_key.c and src/g_register: Changes to support above.

	* lib/system-gschemrc: Changed file script hotkey from "fr" to "ft"
	  "fr" is now used for revert.

	* src/x_menus.c: Added Zoom limits/Zoom box to the right mouse button
	  popup menu to make Mangus happy. :-)

1999-11-19  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_menus.c: Added Zoom in and Zoom out to the third mouse
	  button popup menu

	* src/parsecmd.c: Add -h (help) flag

1999-11-11  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_fileselect.c: Fixed the dialog box title for the SAVEAS_CLOSE
	  case

	* src/o_net.c: Fixed a nasty bug when enabling net consolidation 
	  and drawing non-ortho nets (non-ortho nets would disappear, since
	  gschem thought it could consolidate them; it cannot not)

	* src/x_menu.c: Change Edit/Stretch to read Edit/Stretch Mode

1999-11-06  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_fileselect.c: Fixed all calls to s_clib_getfiles with the
	  right number of arguments (new filter argument)

1999-11-06  Ales Hvezda  <ahvezda@geda.seul.org>

	* examples/adders_1.sch: Fixed a label= attribute which was
	  incorrectly spelled (1abel)

1999-10-19  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/gschem.c: Found/Fixed an old bug which basically was causing
	  the first argument to always be interpreted as a filename which isn't	
	  always true.

1999-10-18  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_print.c: Added some error checking to properly log 
	  a successful print or error

1999-10-17  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/g_rc.c: Fixed component-library and source-library keywords
	  to add the current working directory (conditionally) to the
	  specified path.  This fixes the bug which Mike Jarabek pointed 
	  out when specifing relative path component/source libraries

1999-10-14  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_fileselect.c: Changed Close button to be Cancel when doing
	  Open... or Save As... (Stefan pointed this out)

1999-10-13  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_fileselect.c: Fixed the callback setup for the enter key for
	  Save As (so that it calls the save function instead of the open func)

1999-10-12  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_fileselect.c: Changed filename_entry to be read-only
	  when the dialog box is a Component place

	* src/x_fileselect.c: Made the search on files behave the same
	  as on components (getting feedback when you have reached the
	  end of the list)

1999-10-11  Ales Hvezda  <ahvezda@geda.seul.org>
	
	* src/x_fs.c: Got the component search working

	* src/x_fs.c: Changed all calls to s_clib_getfiles to use the new
	  prototype (the extra param at the end)

	* src/x_filesel.c: Removed file from cvs repository

	* src/x_compsel.c: Removed file from cvs repository

	* src/x_fs.c: Renamed to x_fileselect.c

	* src/x_fileselect.c: Fixed all -Wall warnings

	* src/x_preview.c: Fixed all -Wall warnings

	* general: You can only place *.sym files as components.

	* src/o_pin.c: added o_pin_eraserubber()
	
	* src/o_stretch.c: Updated _end function to allow for the stretching
	  of pins

	* src/x_window.c: Used the appropriate #defines for filedialog box init
	
1999-10-10  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_fs.c: Lots of changes related to getting filedialog to act as
	  the component place dialog box

	* src/i_callback.c: Made the new component place dialog box the 
	  default
	
	* src/x_log.c: Fixed memory leak (added x_log_free)
		
	* src/gschem.c: Added some free()'s for some vars which were allocated
	  but never freed (in gschem_quit)

1999-10-09  Ales Hvezda  <ahvezda@geda.seul.org>
	
	* src/gschem.c: Added full path to page_filename (if filename doesn't
	  start with a / 

	* src/x_log.c: Added x_log_init to deal with the chdir gschem is doing
	  now

	* src/x_fs.c: Lots of work to get file selection dialog box to work
	  with saving

	* src/i_callbacks.c: Changed saveas and open to use new fileselect
	  dialog box

	* src/x_filesel.c: Removed file from Makefile.am

	* src/x_dialog.c: Added x_destroy_window 

	* src/x_fs.c: Made sure you can't open up a directory

1999-10-05  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_fs.c: Changed filter entry to a filter option box 

	* examples/filter_1.sch: misc updates (moved some symbols around so
	  that they are connected to the right place)

1999-10-04  Ales Hvezda  <ahvezda@geda.seul.org>

	* src/x_fs.c: Fixed a coredump bug in x_fileselect_update_dirfile 

	* src/x_fs.c: Added "enter key" callback to filename entry 

1999-10-03  Ales Hvezda  <ahvezda@geda.seul.org>

	* Started serious work on new file/component select dialog box

	* src/x_preview.c: New file which hold preview window code

	* src/x_fs.c: New file which hold new fileselect/component place 
	  dialog box.

	* src/x_menu.c: Added File/Open (EXP)... and Add/Component (EXP)... 
	  entries in the top menu bar

	* src/g_rc.c: Added file-preview keyword
	
	* src/g_register.c: Registered above file-preview

	* src/i_vars.c, include/i_vars.h: Added default_file_preview and init 

	* lib/system-gschemrc.in: Added file-preview keyword 

	* In all *.c included defines.h before struct.h

	* src/x_window.c: Added x_fileselect_free_list_buffers

	* Much work still remains on the new file/component dialog box

1999-09-28  Ales Hvezda  <ahvezda@geda.seul.org>

        * src/x_menu.c: Added File/Page Close 
	
	* src/i_callbacks.c: Added code to close the last visible page.
	  Now it opens up a blank page and close the current visible page.

	* lib/system-gschemrc.in: Added hotkey for File/Close Page (fe)

	* src/x_dialog.c: Fixed the color selection menu on the color edit 
	  dialog box to display the right default color (color 1 - white)


9/25/99 Rearranged right mouse button menu (suggestion by Magnus)

9/23/99 Updated all the man pages (in all the program dirs) warning users
	to specify options first.

9/21/99 Fixed all the dialog boxes so that they listened to the WM_DELETE
	signal from the window manager

	Forgot to init iwindow to NULL

	Added a few gtk_widget_destroys to x_window_close which I forgot to
	add when I created the dialog boxes 

9/20/99	Changed the project logo to GPL Electronic Design Automation instead
	of GNU ...

9/19/99 Make sure gschem runs with guile-1.3.2a

	Misplaced a bracket in x_event.c (gschem would not build if you
	did not have libstroke installed)
	
	Fixed all warnings

	Added OBJ_BUS and OBJ_PIN to the color change routine in the
	color edit dialog box

9/18/99	Increased world size to be much much larger.  Hopefully this won't
	break anything.

	Fixed the extension code in i_callback.c to add the NULL character
	to the right place.

	Removed freestyle color 17, it was unnecessary, the IEC417 symbols
	can use the lock color (15).

	Fixed the grid drawing to draw the grid at the right zoom levels
	(since I doubled the world size)

9/17/99	Put some code into i_set_filename which truncates extra long
	files, so that the window size isn't affected.

	Changed the botton status bar a bit.
		- Removed the "Mouse buttons" label
		- Change the buttons to labels

	Added the "middle-button" keywork which allows you to control what
	the middle button is assigned to do.  (also added keyword to system
	rc file)

	Added code to support the "move" mode of middle-button, which
	allows you to move stuff around by just clicking the middle button
	and moving the object.  This only work on single objects, unless
	you select the objects ahead of time and then hold the shift key
	down and click somewhere OUTSIDE of an object.

	Renamed [left|middle|right]_button to _label

	Simplifed i_update_middle_button with using the new middle_button
	variable

	Added w_current->ALTKEY (so we know if the alt key is being pressed
	or not)

	If middle-button is "action" and you hold down the ALT key, the 
	object will be copied instead of moved.

	Fixed the RETURN_G_RC_MODE macro.  Added a number of entries 
	parameter (size), since gschem was core dumping when you passed
	an unknown string to the mode functions.  (sizeof(mode_table) 
	was always returning # of bytes, not entries.

	Made the "action" mode the default for the middle-button

	Created freestyle-color which allows the user to create generic
	colors which can be used in the schematic.  This should be used
	with great care, since these colors are not attached to any type
	of object.

	Fixed a bug in the color scheme used by the symbols, using the
	freestyle-color (color 7 which is the grid color, should not be
	used by symbols, created color 17)

9/16/99	Updated all the schematic/symbol opening functions so that only
	sch's/sym's which are not loaded are actually opened up.  If a 
	schematic is loaded and an attempt is made to open it again, gschem
	displays the original schematic

9/14/99	Fixed a really longstanding bug, you could not close gschem by using
	window manager functions, now you can. (Matt Ettus convinced me
	to finally fix this)

9/13/99	Inited hkwindow in all x_window.c and s_project.c (all other programs) 

	Fixed all example schematics to make sure they display the v*-1.sym
	symbols properly

	Remove attribute_1.sch example schematic

	Fixed a keymapping error with show hidden text (renamed show hidden
	text keymap to "n")

9/12/99	Added g_funcs_key_name which is used in the list-keys.scm script
	and in the list keys dialog box
	
	Added g_funcs_key_value which is used in the list-keys.scm script	
	and in the list keys dialog box

	Added g_funcs_key_done which is used in the list-keys.scm script	
	and in the list keys dialog box

	Added x_dialog_hotkeys dialog box

	Added above dialog box to the menu

	Modified Stefan's list-key.scm script to fill x_dialog_hotkeys.
	It's pretty crude, but functional

	Unmodified Stefan's list-key.scm script and moved modified functions
	into gschem.scm

	Added hotkeys for Help/About... and Help/Hotkeys...

	Put a tear off bar on the Help menu

	Renamed Shift H (Help) to h (and change Hierarchy to Shift H) in the
	system-gschemrc file

	Adding net= attribute to the attribute selection list dialog box
	(put net in system-gschemrc.in)

9/7/99	Removed all the stupid function pointers I added yesterday 

	Moved huge chunks of x_color.c into libgeda/src/s_color.c

	Cleaned up the code to reflect the above

	Re created embedded_1.sch (using all_1.sch)

	Finished up the color edit dialog box, by doing some rather 
	questionable casting of int's to int *'s.

9/6/99	Finally fixed the very broken color system, now you can allocate
	any color for any object type (bus, net, background, select color)
		- Created x_color.c
		- Removed all global colors from globals.[ch]
		  Except black and white
		- Fixed up x_window.c, gschem.c to call proper init functions
		- Fixed up g_rc.c to call proper x_color functions
		  Also fixed up g_register.c
		- Added logic bubble color keyword / variable / init
		- Fixed up rc file to use the new system (a lot of cleanup)
		- Added zoom box color keyword / variable / init 
		- Updated zoom box code to use above color
		- Added lock color keyword / variable / init
		- Made output-background-color an official color
		- A few updates to make the color allocation a bit more robust
		- Created x_color_ps_string which returns the ps string
		- Changed the default select color to orange... 
		- Created ptr for image color specifing 
		- You now get feedback that you specified an invalid color
		
	With the above changes, users MUST update their rc files to use the
	new color scheme.  Things will fail badly if they try to use the old
	system

	Update all example schematic to use the text color (index for that is 
	9)

	Fixed a few -1's in the example schematics

	Almost got the color edit dialog box to work with this new color scheme
	
	
9/5/99	Removed some examples schematic from examples/ directory (moved them
	to the gnetlist/examples directory)

	Created all74_1.sch for testing purposes

9/4/99	Removed some obsolete stuff from include/globals.h

9/3/99	Update g_key to use gdk_keyval_name instead of XKeysymToString

8/31/99	Renamed ntext to text (finally)

	Updated the stroke mechanism to what Stefan suggested.  Much better

8/30/99	Fixed a bug in the print dialog box, where it wasn't setting the state
	of the window to the previous states

	Fixed net stretch to only stretch ONE net for now

	Finally renamed all ALES -> CONN and ales -> conn

8/29/99	More work on getting bus midpoint cues to work

	Added bus_gc for bus cue drawing

	Fixed some bugs related to the visual bus cues

	Removed all warnings from the code

	Disabled bus stretching... still doesn't work

	Fixed stretch_start so that it doesn't try to start a stretch on
	an unsupported object

	Commented out the ps/png extension code in i_callbacks.c till it's
	debugged (next release)

8/28/99 Lots of work to get bus midpoint cues working

8/27/99 Set the program version to 19990829 to force Ales to release
        on the 29th :)

	Updated all *.c and *.h files to have the right address for the
	FSF in the copyright/licence header

8/20/99	Fixed a really really subtle bug in i_sbox.c wasn't checking for
	the head node.  This bug causes some rather nasty coredumps.  
	Hidden for so long, because of the way the selection head node
	was being initialized in the new leaner object creation scheme.

	Finished up the below dialog box cleanup

	Changed the image size from 1280x1024 to 1280x960 in the image/png 
	creation, 1280x960 is the right aspect ratio.

	Temporarily disabled the extension replacement code in ps and image
	creation till it gets fixed.  Default filename: output.*

8/19/99 Added x_create_dialog_box which is basically just like gtk_dialog_new
	but will hopefully clean up the code and this will work on the 
	Windows platform.

	Replaced all instances of gtk_dialog_new with x_create_dialog_box

8/18/99	Added output-capstyle keyword which control the cap style for
	postscript output

	Added the idea of an invalid connection to pins
		Added o_ales_draw_invalid which draws the invalid cue
		Added code to o_pin to use above new function

	Removed some old code from o_ales.c

	Fixed a minor bug when writing an image, wasn't removing .sch
	from filename

8/17/99	Started adding bus object
		Added all bus base code
		Update system-gschemrc.in file

8/12/99	Fixed inconsistant naming of some g_key_*/i_callback_* functions
	(pointed out by Kazu Hirata, thanks)

	Started integrating crude net stretch code into the official devel
	source tree
		Added o_stretch.c to dist
		Update x_states.h to include STRETCH event state enums
		Added o_ales_find_closest
		Added stretch callbacks (i_callbacks/g_key_*/x_menu.c)
		Added event state machine code (x_event.c)
		Added key to keymapping in rc file
		Filled in some missing functionality

	Finish getting the above net stretch working, mostly.
	
8/5/99  Added some stuff to configure.in for win32 builds

	Added some misc #ifdefs to support the CYGWIN32 port

8/3/99	Added net-consolidate keyword to the rc file, controls if the
	net consolidation code is used or not.

	Fixed a very minor bug in x_attrib.c (dealing with order of which
	attribute combined name/value string)

	Upgraded to libtool 1.3.3

	Due to the unfinishedness of net consolidation, it is turned off by
	default

8/1/99  Removed my_strdup() from i_vars.c and o_comples.c. (by Kazu Hirata)

7/31/99 Cleaned up *.c. (by Kazu Hirata)

7/27/99	Added o_net_consolidate_segments to o_net_end (so that when you 
	draw nets, you get the minimum number of net segments (if possible))

7/25/99 Cleaned up r_gc.c and i_callbacks.c. (by Kazu Hirata)

7/21/99 Found an attribute in test_verilog.sch to be attached to two
	objects, fixed.

	Removed all traces of s_passing.h

7/16/99 Cleaned up i_sbox.c and i_vars.c o_ales.c (by Kazu Hirata)

	Increased world coord space to 120x90, don't know if there are any
	side effects of this.

	Increased the max zoom factor to 256

	Changed x_grid to be draw grid the grid at a larger zoom factor

	Reverted back to previous world coord space, adjusting above to
	match.  Not ready for a change yet.

7/15/99 Added support for libgdgeda 1.6 (mainly means searching for libpng)

	Removed all traces of old libgdgeda 1.5 gif support replaced it with
	png support

	Changed menu name from Write Image... to Write PNG...

	Minor bug fix in the x_image dialog box code (o_redraw_all in the
	wrong place)

7/14/99 Wrote functions to handle file name extention in i_callback.c.

	Fixed a memory leak in g_funcs_print(). (by Kazu Hirata)

7/13/99 Cleaned up i_callbacks.c (by Kazu Hirata)

7/12/99 Moved the core of a_pan into a_pan_calc

	Implemented the zoom and pan to where the mouse is (center at the
	current mouse location).  Only works with the hotkeys.

	Added i_callback_*_zoom_in_hotkey and *_zoom_out_hotkey

7/11/99 Chnaged the return values of the Scheme functions in g_*.c from
	0 and -1 to #t and #f.

	Cleaned up gschem.c and i_basic.c. (by Kazu Hirata)

7/11/99 Cleaned up a_pan.c, a_zoom.c, g_key.c, g_funcs.c. (by Kazu Hirata)

7/10/99	Updated a few places where it's important to call set_window
	(part of the math speed improvements)

	Put in code that controls if text is either: xored (completely drawn)
	when doing a copy/move/place (the outline that's dragged) or
	a simple line is drawn.  This makes the placing/copying/moving of
	large symbols faster

	Added an rc keyword to control above: text-feedback
	(either only-when-readable or always)

	Added text-display-zoomfactor to *rc file (control at which zoom factor
	text is displayed completely during operations like copy/move/place)

	Removed some // comments (should not use // comments in general)

7/6/99 	Didn't really disable libgdgeda when using --disable-gdgeda
	Now fixed.

7/5/99	Added in manually configure.in patch Manu provided to help in his
	rpm building procedures

	Added pintype to attribute-name list in system-gschemrc

	Slightly rearranged attribute-name list

	Fixed all warnings

	Fixed some misc problems in configure.in (missing if test to make sure
	libgeda-config was found)

	Got configure.in to be almost identical to gnetlist/configure.in

	Updated man page a tiny bit

7/4/99	Added updated test_verilog_1.sch to the dist from Mike Jarabek

	Added an options menu to the image write dialog box

7/3/99 	Went through all sample schematic and removed all zero length/etc...
	objects

7/2/99  Fixed the ./configure stuff dealing with libgdgeda so that it works
        when libgdgeda isn't installed in a system directory

7/1/99 	Removed the libgd #include from all files (not needed)

	Fixed some stuff in configure.in (typos)

6/26/99 Fixed a bug dealing with the font-directory/scheme-directory/etc...
	which broke opening up a second window

	Fixed a visual annoyance: Place lots of components and inbetween
	each place there would be a redraw.  Not necessary.  Fixed.

6/25/99 Added the rc keyword "image-color" which controls if image is
	in color (enabled) or black and white (disabled)

	Added the start of mouse button pan.

	Added 'third-button' keyword to rc

	Added support to configure to look for optarg and friends otherwise
	include the right externs...

	Forgot to add the hotkey for Edit/Show Hidden Text

	Removed all traces of GTK_DEVEL

	Got mouse pan working, with the exception of the once it crashed my
	X server

6/24/99 Made the Image write dialog box go away once you pressed write

6/23/99 Added the first bits of support for the writing of images

	Added configure ability to find and turn off libgd support

	Added image-orientation keyword to control the future ability
	to write portrait and landscape images

6/19/99 Fixed a bug where you would select something and then visual
	cues would disappear when you hit redraw

6/10/99 Added support for this idea that hidden text is NOT created, main
	changes were in the hidding and unhidding of text items

5/31/99 Found a minor bug in move, not all nets were being redrawn

	Worked a bit more to reduce the flashing of nets/pins when a complex
	is moved

	Put a redraw in o_delete, just to make things look better after
	something is deleted

	I think I got the flashing (when doing move's under control now)

	A few updates to the sample schematics

	Added agile-vfo-block.sch to the dist finally (as an example schematic)

	Added the ability to change colors of objects from within gschem
	(finally)

	Added hotkey assignment for above dialog box

5/29/99 Worked some more on the copy operation for nets

	Added o_redraw_real (which redraws all objects given a list which
	might not be the real objects)

	Started updating the conn hash table in when nets are being drawn
		Added o_ales_draw_objects
		Added o_net_ales_erase
		Added o_net_ales_draw

	More updates to getting copy/move/rotate/mirror working for nets.

	Got copy/move/rotate/mirror working for nets only.

	Worked on getting copy/move/rotate/mirror working for pins

	Worked on getting copy/move/rotate/mirror working for complex
	objects (with contain nets/pins)

	Got pins to properly update visual cues when they are being drawn

	Got the adding of a component to update the nets properly

	Started removing the dead code from the previous connection scheme

	Tried to improve the "flashing" of net cues when you move something,
	but did not succeed.

	Added the show all hidden attributes function (useful with the new
	ability to have toplevel hidden unattached attributes)
		And everything required to implement the above

	Fixed that stupid log problem where if you couldn't open the log
	the log window would lose it's mind (fixed by disabling logging
	if you can't read/write the log file)

	If logging is off or disabled, don't show the log window on startup

5/28/99 Got ./configure working with gesym-config

	Misc integration work

5/16/99 Changed most #include's to include stuff from <libgeda/...> since
	libgeda is now totally seperate

	#include some missing includes (in g_rc.c)

	Removed -I../include from the Makefile just to force all includes
	to be included using a ../include path or libgeda/...

	Fixed up ./configure to use libgeda-config

5/99	Removed all traces of the old connection system
	All removals should be tagged with either CONNECTION or CONN

	Added new connection (called ALES and st_ales) structures

	Got gschem to use the includes from libgeda package

	GTK+ 1.2.x is now required due to the use of
	g_hash_table_lookup_extended

	Got misc callback to print out hash table structure

	Started work on getting delete to delete nets properly

	fixed old bug when you cancelled the drawing of a net, prog would
	erase too much

	started work on getting copy to copy nets properly

	Got gschem to properly update with nets

	added comma key to gschemrc files

	Removed all conn stuff from include/struct.h

---------------- Development division starts here --------------------------

5/16/99 Removed some redundant labels from the coord window

5/14/99 Fixed an old bug dealing with the erase of the draw in progress net
	(erased way too much)

5/9/99	Removed some redundant code from o_move.c

	Fixed log-window keyword code to work with the later option.
	(didn't work at all)

4/18/99 Added some #ifdefs to the coord dialog box so that it compiles under
	gtk+ 1.0.x

	Make sure cowindow was being set to NULL.
	(caused a core dump otherwise)

4/17/99 Fixed coord dialog box to look right

4/15/99	Added coord dialog box

	Added callbacks for above

	Added hotkey (oc) for above

4/11/99 Added some more debugging information when reading in the .scm file

	Made the log window startup when gschem is run (updated all *rc files)

	Added log-window keyword which controls if the log window is opened
	when the program starts up

	Added the ability to make the log window transient or not
	(configurable through the log-window-type keyword)
	(only works with gtk+ 1.2)

4/9/99	Fixed Makefile.am so that gschem.1 is installed

3/27/99 As a request, added a default keymapping (Delete -> edit-delete)

3/25/99 Removed all traces of i_callbacks.h from the C files (haven't removed
	the actual include file yet)

	Changed x_window and x_menu so that those warnings about menufactory
	disappear (by using itemfactory with gtk+ 1.2.0)

	Involved adding the appropriate new functions to x_menu.c and
	modifing x_window.c

	Got rid of warning messages when you start up gschem

	With the new itemfactory stuff from gtk+ 1.2.x you can now have
	tear off menus

	Got the passing of callback data working with the menus

	Got all the popup menu i_callback_* functions to use the new callback
	parameter passing order

	Got all menu structure to work with the gtk+ 1.2.0 itemfactor
	(major pain)

	Went through and add the proper parameter passing order to *ALL*
	i_callback calls (major pain)

	Found that g_key_edit_mirror was calling the wrong i_callback function
	Fixed.

	Added some functions to x_pagesel to wrapper the i_callback_ functions
	since these i_callback_ functions were used a button click callbacks
	which take a different (the old one) function prototype.

	Missed a reference to a callback (last_callback) which is a pointer
	to a callback function, it too needs the new function prototype

	Changed the default text size in the C code to be 10, (it was 8,
	which was a really really old default value) rc file is the same as
	before (size in there is still 10)

	Added the ability to change the text size; added this to the
	Edit/Edit... dialog box

	Text size and snap size and (as before text edit) dialog boxes
	once again grab the focus for the whole app.  This is because
	they share common variables

3/23/99 Added a menu option Help/About...

	Added callback/dialog box for above

	Put the code back into use which right justified Help menu option

3/21/99 Added code to warn the user if he/she tries to translate a symbol
	and the snap_size is not set to 100.

	Minor cosmetic changes to gschem.1

3/19/99 Fixed changed flag so that when you do some attribute associated
	actions, you are prompted for a save instead of just quitting

	When opening a symbol using hierarchy, filename at the bottom
	wasn't being set right

3/18/99 Updated g_rc_parse to use new macro for system-gschemrc file

3/17/99 Found one more instance of a uninit-ed variable (pwindow)
	(Thanks to Jeff McNeal for pointing out that things were not working
	 under Solaris)

3/10/99 Fixed usage output to be somewhat more accurate

2/26/99 Fixed some labels since we are no longer supporting gtk+ 1.1.x

	Removed some duplicate strokes from the gschemrc's

	Made the stroke output (when running with the -t flag) a bit cleaner
	(and hopefully clearer)

2/25/99 Added stroke_info_mode (enabled with -t flag) so that users can get
	stroke related info

	Misc warning updates (missing prototypes)

2/12/99 Removed the o_ntext_free_all from x_window_close (actually just moved
	it so that it only is called once, when you quit)  The call is in the
	right place now

	Added x_stroke_free_all which just frees all remaining stroke
	points

	Fixed a major bug dealing with multiple windows and the freeing of
	several common (rc strings) variables, which caused some bad behavior

	Added some more space to the above variable mallocs,
	since ccmalloc seemed to have some problems dealing with them,
	and there was enough space for the strings + null (there is now)

	Discovered why sometimes if you close a window you lose any
	subsequent log message (it's because I was closing the log file in
	the wrong place), fixed (the call is in the right place now)

2/11/99	Added call to s_stroke_free in gschem_quit

	Forgot to set the mode label to Select mode after a zoom box, fixed

	Added stroke sequence printing if verbose mode (-v) is on

	Added x_stroke.c which contains routines to record and erase the
	stroke points

	Changed it so that stroke points are only erased when a valid stroke
	is found.  Leave invalid strokes around

	Added some more basic strokes to gschemrc

	Put back middle button repeat for when strokes are enabled.  Holding
	down the control key and pressing the middle button executes the
	repeat command.

	Added "Stroke/" to the middle button repeat button label (only if
	strokes are enabled)

	Added stroke-color keyword (controls color of the mouse droppings)

2/9/99	Started work getting stroke support into gschem (using LibStroke)
		Added stroke_init to gschem.c
		Put a #ifndef ... around some code in i_basic.c
		Added most basic support to x_event.c
		Added stroke keyword to rc files
		Added s_stroke_search_exeecute to x_event.c

	Started adding most basic strokes to gschemrc

1/31/99 Made postscript font text ouput the default (output-text "ps")

	Updated page manager to work with gtk+ 1.1.x (scrolled window works
	better, but not 100%)

1/24/99 Added a read/execute guile script option (-s script_filename)

	Added a script file selection dialog box (for executing scripts)

	Added menu option and keymapping for File/Script Execute...

	Added global variable global_window_current, which will be used by
	various guile functions, since they have no idea which window they
	are executing for/in. (careful with multi windows anyway)

	Added command line flag -o (for specifing output an filename)

	Added file g_funcs.c which will hold basic guile functions

	Added gschem-print, gschem-exit, gschem-use-rc-values guile functions

1/23/99 Finally changed where the rc file(s) are read -- before the window
	is created.  This allows for much more flexiablity in the user
	interface

	Found most of the bugs in above (I hope)

	Did some further rearranging in x_window.c so that above works better

	Added "scrollbars" keyword to the rc file, which controls if scrollbars
	are displayed or not (default will be on for now)

	Added "output-orientation" keyword to the rc file, which controls the
	default page orientation (landscape/portrait)

	Added support for portrait postscript printing to the print dialog box

	Changed the radio buttons (for print output type, limits/window) to be
	an options menu instead, much cleaner.  Added some labels

	Fixed a minor bug in above (wrong label being displayed)

	Added "output-color-background" keyword for controlling the
	background color in postcript output (also added supporting code)
	(letter size sheets ONLY)

	Added "output-color" keyword for controlling if postscript is color
	or not

	Added "output-type" keyword which specifies "limits" or
	"current-window"

	Renamed keyword "text-output" to "output-text" just to be consistant
	Might eventually change output to postscript

1/21/98 Added a message to the start of gschem about the warnings when
	using gtk+ 1.1.x

1/12/98 Worked on x_attrsel.c and x_print.c to get them gtk+ 1.1.x
	compliant.

1/10/98	Spent some time working on the scrolled_window changes in
	x_compsel.c for gtk+ 1.1.x, still needs some work though

1/9/98	Started integrating patch for 1.1.x (provided by Egil Kvaleberg)
	 (using GTK_DEVEL #define)
	 	GtkAcceleratorTable -> GtkAccelGroup (x_menu.c)
	 	GtkAcceleratorTable -> GtkAccelGroup (x_window.c)
        	gtk_window_add_accelerator_table ->
		  gtk_window_add_accel_group 	     (x_window.c)

	 Added a few #include <math.h> where they were missing (compiler
	 warnings for fabs)

1/06/98  Fixed some code in o_erase_* where a constant instead of a variable
	 was being used for a color (BLACK -> w_current->background_color),
	 pointed out by Anatole Sokolov

1/05/98  Incorperated negative grid point display patch by Mike Jarabek

	 Found and fixed (I think) a bug with displaying schematics for
	 the first time (after a load), display wasn't being zoomed limits
	 if there where coordinates with negative values (display will not be
	 zoomed properly, since negative values are not supported for
	 scrollbars)

12/29/98 Changed x_grid_draw to draw to backingstore and then copy that
	 to the drawing area, hopefully that'll speed things up when gschem
	 runs over a lan?

	 Commented out the above code, need to due some further testing.

12/15/98 Fixed line/pin/net to deal with the real clipping code

	 Now all line related objects are being clipped, fixed the
	 disappearing lines/nets/pins when zoomed in really close

12/13/98 Integrated Jeff McNeal transparent zoom/pan patch.  It works,
	 but it still needs some work, since panning and zooming while
	 drawing nets/pins leaves xor droppings

	 Added pin-color to gschemrc file.  For some odd reason was missing.

	 Also found another bug which was causing the pin color to be saved
	 as -1, fixed

	 Added File/Save All menu option and hotkey to save all documents
	 and not bother asking.

	 Added code to o_complex_end to support the concept of an included
	 component, which basically is the inclusion of all the pieces of
	 a component so they can be edited.  Useful in symbol creation; you
	 can reuse other components.

	 Changed the add component dialog box to allow for a selection between
	 the default, embed and now include ways of adding components.
	 I don't like the way it works, so I'm probably going to go with a
	 option menu instead of radio buttons

	 Changed the above radio boxes to an option menu, much cleaner looking

	 Found a place where I was trying to strcpy into a NULL rc_filename
	 doh!

12/10/98 Finished adding the first step for autoconnect to the nearest
	 net point

	 Added o_conn_search_closest to search inside complex objects for
	 the nearest pin

	 Added an event_state = STARTDRAWNET to i_callback_add_net_hotkey
	 to make the o_net_start connection code work

	 Added o_conn_search_closest_range to search for the nearest pin/net
	 with range

	 Removed the net snapping stuff for now, it still needs a lot of work.

	 Added command line argument -r (which specifies an rc file after
	 it tries to read all the other standard rc files)

	 Finally make rc_filename a pointer instead of statically allocating
	 the space

12/9/98 Changed how circles are drawn, specify center point and then the
	radius.  o_circle_start, o_circle_end, o_circle_rubberband
	Includes a line which shows the radius of the circle when you
	rubberband

	Changed the way the width of pins and nets is determined, now using
	the SCREENabs routine when drawing thick pins/nets

	Fixed the way the size of the endpoint/midpoint cues is calculated
	(o_conn_*)

	Minor circle cleanup: made sure radius is multiple of grid snap if
	snap is on; made sure final circle is drawn on backingstore

12/8/98 In order to fix the bugs below, have to rewrite some circle code,
	integrated changes to deal with struct.h changes and libgeda changes
	(o_circle.c)

12/6/98 Found the reason why dist was working all this time.  Another bug
	with adding in a circle, o_circle_end, sending the wrong coord into
	the add function (dumb luck circles ever worked)

11/15/98 Changed the way the print dialog box works, no longer grabs the
	 application focus.  You can leave it open and print whenever you
	 want

	 Changed the size of the visual cues for nets (in o_conn.c)

11/10/98 Changed a label in the print dialog box: "Current Window"

11/8/98	Found a bug when drawing single point lines (ie line as zero length)
	Fixed by adding a (few) call for draw point in o_line_draw,
	not sure that's the best solution.

	Added zero length error checking code to all primitive objects
	( interesting side effect, you can end net draw by drawing a
	  zero length net and that stops the action )

	Removed some code in o_arc.c which erased the rubberband line
	incorrectly

	You could segfault gschem by inputing a null string (nothing) and
	then hitting apply and drawing over to the drawing area.  Fixed by
	moving x state change code inside the if "check if not null"
	(attribute add is okay)

11/7/98 After applying text input, highlight the selection in the dialog box
	(changed to behave this way)

11/6/98 Added some checks to prevent gschem from core dumping when you hit
	one of the special "microsoft keys"

	Added code to handle the new papersize list

	Added x_print.c (the printing dialog box) and supporting code

	Added paper-sizes keyword to rc file

	Added print_output_type init in i_vars.c

	Called new dialog box from i_callbacks_print

	Added some ... to the Print entry in the pulldown menu

	Got print dialog mostly working

	Added many entries in the *rc files for page-size and page-sizes

11/5/98 Added paper-size to gschemrc file (changes to g_rc, g_register)

10/30/98 Cleaned up (indentation, long lines) a_zoom and a_pan code a lot

10/28/98 Rearranged View menu a bit

	 Applied patch by Manu for a_zoom_limits

	 Had to make minor modifications to make above work on all cases.

10/27/98 Started to add zoom box code (a_zoom_box_*)

	 Modified x_events.c and associated files to support above

	 Finished off a_zoom_box_start/_end and the actual work function
	 a_zoom_box()  I think this works okay, but it's not perfect.

	 Added hotkey zoom-box version and added key to keymaps in the
	 *rc files

10/25/98 Cleaned up all warnings

10/24/98 Added slotting update to rotate/mirror code.

	 Got keyboard shortcut implemented for the slotting

	 Re arranged the edit menu

	 Changed a few of the status lines in the copy/move (and hotkey)
	 callbacks

10/22/98 Added code in o_read to update the slot if the last read object
	 was a component

	 Added o_attrib_slot_update in o_copy_end

	 Added code to o_copy_end to deal with slotting (ie copy the info
	 from the object that is being copied) and the selection list

	 Updated o_slot_end to use the new o_attrib_slot_update

	 Added o_erase_single, just as a function to make life easier

	 Attempted to get the slot= attribute to be update and drawn
	 correctly if it is visible.  This does not work right yet.

	 Got the first working version of the slotting done

	 bug: Old component outline not being erased if you select a new
	 component from the list (pointed out by Patrick Bertholon, thanks)

10/20/98 Added Stefan's and thi's latest gschem.scm
		- repeat-last-command doesn't cause a stack overflow
		- bit more paranoid code.
		- last-command-sequence (holds what it says)

 	 Change rc file guile primitive version to gschem-version

10/18/98 Added callbacks for change Slot... code

	 Added o_slot_start which starts the change of a slot number

	 Added dialog box for slot editing...

	 Added o_slot_end which finished up the slot number change operation

	 Split up some of the bigger functions in a_basic.c into o_move.c,
	 o_copy.c, o_slot.c, and o_delete.c

	 Worked some on o_slot_end, slot attribute value is being changed
	 and added if needed as of today, but schematic not reflected.
	 (to be finished later..)

10/17/98 misc minor fix to the rc file (text-input "ps")

	 Applied patch by Roger which added variable snap spacing.

10/15/98 Increased the size of the component select dialog box

	 Display ONLY symbols with the extension .sym, this implies that u
	 symbols must end .sym to be displayed

	 An attempt fix the arc bound box code of arcs, doesn't quite
	 work 100%.

10/12/98 Added device attribute to the list of default attributes in the rc
	 files

	 Finally fixed an outstanding bug in the arc drawing/adding etc...
	 (this fix might have broken arcs, but so far it looks good)

10/11/98 Added parsecmd.c (command line argument parsing)

	 Simplifed the loading of schematic pages and incorperated above

	 Added quiet_mode and verbose_mode to the command line arguments
	 as well as the usage() function which exits

	 Removed all warnings

	 Added "graphical" as a default attribute in the rc files

10/9/98 Removed some #if 0 code and did some minor code cleanup

	Fix an asthetic problem (misc pin/net droppings in lower left
	corner when doing mirrors/rotates)

	Added thi's improved gschem.scm (not fully using all the new stuff
	in there yet)

10/8/98 Worked some more on mirroring of complex objects, almost got it
	completely right except for text inside complex objects

	I got the above fixed (with really ugly kludge) :-( will eventually
	get it totally fixed once I figure out how to flip/rotate text
	in place.

10/6/98 Added code to deal with mirror of complexs (mainly change to
	complex_add)

10/5/98 Added o_mirror (and all required support code, events, i_callbacks...)

	Added *_mirror_hotkeys

	Added g_key *mirror code

10/4/98 Changed default size for a 800x600 sized display

	Added text-output keyword to control how text is rendered

10/1/98 Fixed all warnings

9/29/98 Today starts the new release system: 19980929

	Added code to properly keep attached attributes attached when you
	rotate a component

	Fixed a bug that was causing text to be saved twice (once as an
	attribute and once as a regular text item).

0.0.5
-------
9/27/98 Discovered that selection_tail wasn't being set to tail in o_select
	Fixed.

	I think I got my kludge for rotating complex objects done.  Need to
	de-kludge it one of these days

	Found a bug in o_complex_end, where the selection tail and the prev
	pointers where not being set

	Fixed the same bug in o_ntext_end

	Found/fixed a really nasty old bug in o_unselect_all where
	selection_tail wasn't being update at all

	Found/fixed a whole bunch more places where selection_tail
	(in o_select_*) wasn't being update (ie it was dangling)

	Fixed a bunch of places in the i_callback functions where the middle
	button short cut key wasn't been set to the hotkey version of the
	function

	Added selection_list code for rotating complex objects (ie once a
	complex is rotated, it stays in the selection list)

	Went back and change Edit/Rotate Primative to Edit/Rotate 90 in
	all applicable locations (x_menus, g_*, gschemrc.in files)

	Added code and a message stating that rotating an embedded component
	isn't possible yet. (it should be, but I'll worry about that later)

	Changed default pan behavior when you select it from the hotkey--
	it pan using the current mouse position as the center

	Set zoom_scale to a constant in the code which determines whether we
	are drawing an sbox or just selecting single object

	Found a few more misused selection_tails in o_attrib (tag new ales)

	Go rid of net que droppings being left behind by rotate

	Added needed function call so that nets and pin associations are
	recalculated after a rotate

9/25/98 Worked some more on o_rotate (a_basic)

	Missed a zoom_scale/factor bug dealing with sboxes, you couldn't
	draw an sbox at high zoom factors.  Now fixed, by removing multipler

	Removed all attempts at getting complex's rotating... that will
	be handled differently.

	Removed some dead code from i_callbacks.c (old ntext stuff)

	Changed o_rotate to o_rotate_primitives (fixed in all places)

	Changed menu option and rc files edit-rotate to edit-rotate-prim
	Edit/Rotate Primative

	Successfully intergrated rotate ntext into the o_rotate_primitive
	command

9/21/98 Minor gschemrc changes (keymapping fixes)

	Fixed a minor asthetic bug dealing with placing text and seeing a
	ghost image of the newly placed text (erase the bounding/outline box)
	(Migrated change to attribute place as well)

	Fixed a minor bug with the keymapping code, modifiers are no longer
	passed to the guile code

	Made the default select color grey

	Added ENDROTATE define to x_states.h

	Added i_callback_edit_rotate, g_key_edit_rotate and the guile
	register function

	Started changing rotate and "Add *" functions to start their
	actions the moment the hotkey is pressed

	Started adding code and support functions for edit-rotate (not
	finished yet)

	Fixed o_rotate to at least call the various o_*_rotate funcs

9/19/98	Added a few more hot key defs into the rc files

	Added no-action guile function to gschem.scm

	Changed 3rd button cancel for all modes (net/box etc..) so that it
	changes you into select mode

	Changed the way text is placed.  Now it is similar to the way
	attributes are placed (dialog box comes up, type in text, move and
	place text)

9/18/98 Adding code to do the move/copy action change (action
	starts right away after mouse press

	Added edit-move-hotkey and edit-copy-hotkey to take above change
	into account (changed rc files as well)

	Renamed paper-size to world-size to reflect that paper is no longer
	specified in the same fashion

	Fixed the lack of scrollbar updates when you don't specify a schematic
	to be loaded

9/17/98 Added the modifiers (Alt, Shift, Control) into the string which
	is passed to the guile key lookup routines

	Fixed/Added a few misc items to the keymapping in the rc files

9/13/98	Added some feedback (loading message) if you specify schematics at
	the commandline

	Added scheme-directory keyword (and supporting code) to the rc file

	Disabled all GtkAccelerators in x_menu.c

	Added g_key.c (support functions of guile key mapping support)

	Added all menu callback functions to g_key (as g_key_*)

	Added gh_register functions for above (g_register.c)

	Deleted ifdefd out keymapping code in g_rc.c

	Added gschem.scm file which has scheme code for keymapping

	Added data structures to support scheme keymapping (gschemrc.in)

9/12/98 Added Zoom Limits option (and underlying code)  experimental

	Started preliminary change to make zoom_factor represent the
	magnification, not the zoom number (how many times you zoomed in)

	Changed zoom functions to take above into account

	Changed o_conn functions to use return_zoom_number (in libgeda)
	Also fixed o_pin and o_net thickness

	Changed x_grid to use return_zoom_number -- also new grid spacing
	for the different levels, also experimental

	Changed default page-size to be big, this will change to world-size
	soon.  Made most necessary changes to accomodate this.

	Found a very very serious bug when the above change was made
	(copy/move of objects wouldn't copy complex vs nets/pins correctly)
	Fixed by making all *_translate -> *_translate_world (in a_basic.c)

	Spent some more time getting size of endpoint cues and friends
	to look right

	Added a a_zoom_limits call when schematics are opened from the command
	line and from the file dialog box

	Added a few experimantal DONT_REDRAW lines to see if I can prevent
	the drawing of schematics and connection points when gschem comes up
	(and when you open schematics)

9/4/98	Added a few more libgeda/prototypes.h in a few missed files

	Moved f_print.c to libgeda

	Moved a few misc routines back and forth between gschem and libgeda

	Renamed some routines to take into account the vectoring of some
	functions in libgeda

	Extensive work here and libgeda to get rid of all prototype related
	warnings

	Playing some games with the o_pin_conn* and o_net_conn* functions
	(and revectoring) to see if I can improve the look of reading in
	of schematics

9/3/98	Major code reoganization with the new libgeda

	Fixed a bug in o_box, where the new recalc routine wasn't setting
	some local variables (shouldn't have been using the vars anyways)

	Removed Add/NEW text menu item (old test code)

8/31/98 More bug fixes to the copy attribute change.
		. o_ntext_copy does not handle attributes now, it is handled by
		  who ever called it
		. o_list_copy_to and o_list_copy_all now take a flag which is
		  either NORMAL or SELECTION (we don't want to do attributes)
		  when we are adding stuff to the selection buffer
		. Text is copied (o_list_* and o_copy_end routines) last to
		  make sure that all the attribute recieving objects exist
		  in the list

	Fixed another attribute which changed color (to red) at the wrong
	time (basically all text was changing color, eventhough it wasn't
	supposed to) (fixed in o_copy_end)

	Divided the x_create_drawing into the drawing function and a function
	which sets up the events (x_window_setup_draw_events)

	Added a check to make sure a widget wasn't null in i_set_filename

	Added a check to make sure a widget wasn't null in x_hscrollbar_update
	and x_vscrollbar_update

	Created x_preview.c, a highly temp file demonstrating the preview
	capabilities (removed from dist for the time being)

8/30/98 Added support for embedded symbols in schematics
		loading / saving / copying

	Added o_embed (embed all object which are selected)

	Added callback for above and menu option "Embed"

	Added o_unembed (unembed all object which are selected)

	Added callback for above and menu option "Unembed"

	Added embed_complex flag to window structure

	Added default_embed_complex to i_vars.c

	Added checkbutton to component place dialog box for embedded
	components

	Added embed-components to gschemrc file

	Robustified the condition if you cannot unembed a component because
	it was not in the path

	Propagated p_text_string[0] = '\0' changes from gnetlist to gschem

	Propagated head node attribs->object change from gnetlist to gschem

	Started to fix attribute copy problem which has existed for a long
	time (ie attributes were not being copied) (this is highly unstable
	I think)

	Fixed a bug related to the above attribs->object change, bug was in
	detach routine, making the original object all red...

	Continued to fix bugs related to attribute copy fix, several
	in o_list_copy_* and in other places, seems to work now, but highly
	experimental

	Changed the way copies are handled.  First all non text items are
	copied and then text items are copied.  This is for the attribute
	copy code, the text copy is the final stage for attribute copies so
	it has to happen last.

	Put code back in that make floating text which was an attribute, but
	no longer the color red.

8/29/98 Added complex_parent pointer to object structure

        Added code to fill above pointer

8/27/98 Made some further improvements to the grid code so it uses less
	memory, but is still faster then drawing one point at a time

8/26/98 Changed the grid from drawing one point at a time to drawing all the
	points with one call (gdk_draw_points)

	Changed the max zoom factor to 8 instead of 4

	Fixed a bug dealing with different paper sizes and the scrollbars
	(max value on the scrollbars was being set incorrectly)

8/9/98	Added page-size keyword to the rc file (lets you specify the size of
	the drawing area)

8/8/98	Removed old OBJ_TEXT primitive (replaced by OBJ_NTEXT)

	Changed OBJ_NTEXT's key code to T (was E so that it could coexist with
	OBJ_TEXT)

	Fixed a minor bug with symbol translate and the new text.  Basically
	the origin point wasn't being translated, object were, but not that
	one point

	In the code, changed font def files from .sch to .sym

	You should not symbol translate with the snap off, so put in warnings
	to log and snap is automatically turned on.  Might change this later

8/7/98	Slightly robustified the reading in of font defs, if char isn't found
	then use something else (only then do you exit)

	Fixed a minor bug where copying an attached attribute didn't change
	to the detached attribute color

	Fixed a bug in o_list_copy_all (new routine) which was nuking the
	ADDING_SEL (per window variable).  Fixed it by saving contents before
	calling o_list_copy_to

	Fixed a really old bug in o_text_print (and the new routine for
	ntext).  Invisible text was getting printed (oops)!

8/6/98	Fixed stupid core dump related to freeing a already freed string

	Fixed g_rc_font_directory to be implemented correctly

	Changed text_input dialog box to call new o_ntext routines

	Changed text_input read and save to actually work

	Added OBJ_NTEXT support to: o_move_end, o_copy_end, o_delete,
				    o_save, o_read,  and a whole bunch
				    of o_complex/attribute routines

	Fixed up o_ntext_translate, o_ntext_xor_draw o_ntext_translate* and
	the rest of the o_ntext routines

	Redirected end of a text edit to called o_ntext_edit_end

	Fixed o_attrib* so that attributes are the right color (ntext attribs)

	Fixed font_set data structure so that each char has a head.  This was
	needed to make attributes happy.

8/5/98	Added rotate core rotate functions back into source code, not working
	yet

	Added o_line_scale_world

	Added o_line_rotate

	Added o_scale, not done yet

	Added o_rotate, not done yet

	Added/worked on core routines for o_ntext

	Integrated/indented new g_read_file from thi (thanks!)

	Added the keyword font-directory which specify where the vector
	font definitions are contained

	Added font_directory string to the WINDOW structure

	Worked on vector text stuff, getting font_set stuff working

	Added o_list_copy_all

	Added code to free up the font set

8/3/98	Changed startup behavior of gschem (it doesn't set it position to 0,0)
	(basically causes most window managers to prompt for the position)

	Cleaned up o_ntext a bit more

7/26/98 Work continues with a freshly installed Debian GNU/Linux devel box

	Fixed all #include <gh.h> to #include <guile/gh.h>

	Added s_clib_uniq and supporting functions to see if a clib path is
	uniq (if so add it, else don't)

	Added s_attrib_uniq to make sure attribute names (which are specified
	in the init file are uniq

	Changed search order for components.  Components are now searched for
	backwards (ie the last specifed clib path is searched first)

	Changed search order for source.  Source is now searched for
	backwards (ie the last specifed slib path is searched first)

	Finished getting all gschemrc keywords converted to new guile format

7/25/98 Added g_basic.c which will contain basic guile setup routines

	Added code to start up the guile interpreter (gschem.c)
	guile is now *required*

	Removed all calls to f_rc_parse (old init file)

	Added g_rc.c which holds new guile init file functions

	Started converting all f_rc keywords to g_rc keywords

	Wrote g_rc_parse (basically it is f_rc_parse)
	  The order of rcfile reading is now:
	     - system-gschemrc
	     - ~/.gEDA/gschemrc
	     - ./gschemrc
          where latter rc files override previous ones

	Discovered/fixed a bug in o_net.c, net_style wasn't being used
	(accidentally left to pin_style), hence you would always get
	nets which were the same style as pins.  oops

	Removed f_rc.c and lex.l from existance (file and Makefile).  Flex/Lex
	is no longer required

	Work stopped very abruptly as my machine decided to corrupt /etc
	(Perfect excuse to try out debian :-)

7/22/98	A user trying to build gEDA on HP-UX discovered that I missed an rint
	call (it wasn't wrappered by the HAS_RINT define).  Fixed it.

7/21/98 Finally fixed arcs so that any start or end angle arcs print
	properly, involved changing how I handled the translate and rotate
	(used to be scale) in the output postscript

	Put back the filename*.sch -> filename*.ps code when you print to
	postscript.  Even fixed it so that it changes the .sch to .ps or
	if there isn't a .sch extension then just adds it.

7/19/98	Fixed some misc formatting on most case statements (break statement
	now lined up correctly) and some indentation was wrong as well

	When through and added OBJ_NTEXT type

	Stubbed routines for OBJ_NTEXT (in new file o_ntext.c)

0.0.4
-------

7/11/98 Found and squashed a nasty bug dealing with the object clipping code.
	Basically objects that were not visible were not being update (ie
	bounding boxes not being updated) so selections would find fantom
	objects.

	Rearranged some code (bounding box recalc) inside the object draws
	just to be consistent

	Removed the /* PAGE */ tag from almost every file

	Fixed the threshold bug when you are zoomed in really close, now the
	start an sbox or not is based on the zoom scale

	Removed the STARTSBOX state (fixed states.sch appropriately)

	Removed some snap_grids from o_arc.c, these were a hack and I am not
	sure if I broke arcs now.

	Added some s_log_messages in f_parse_rc so you know which rcfiles were
	read

7/10/98 Fixed some minor nits in some comments

	Removed some // accidentally left in

7/6/98	Added x_status.c which implements the status/log window

	Added s_log.c which holds the log file init/write/close routines

	Fixed a few bugs with the logging mechanism

	Added the ability to read the log file from disk when the status
	window is opened

	Added the rc keywords LoggingDestination and Logging to control
	this logging mechanism

	Added a whole bunch of s_log_message calls through the code so that
	the user gets some feedback as to what is happening

7/4/98 	Moved around some of the *visible functions to improve "the detect
	if an object is to be drawn" time (determine if, earlier)

	Added ObjectClipping keyword to control the behavior of the new
	object clipping code (on or off)

	Fixed some minor bugs in the *visible functions

7/3/98 	Added low level clipping routines in m_basic.c

	Added high level routine to determine if object is visible

	Added code in all relavent o_* files to use above routine (execpt
	o_text, which will be added later)

	Changed default scrollbar update policy to be continuous (vs delayed)

	Added ScrollbarUpdate to control above behavior

	Squashed a few bugs related to above

7/1/98	Fixed a minor bug in selection box, causing selection box to erase
	underlying schematic

	Changed open symbol behavior so that the FIRST page of the schematic
	is left display after all the schematic pages are opened.

	Fixed a minor memory leak dealing with the allocation of page_filename

	Fixed a core dump condition (if there was no gschemrc, untiled_name or
	series_name would be null and doing a strlen of a null doesn't work.

6/30/98	Fixed the page manager core dump (open schematic, open page manager,
	open another page (page manager now messed up), click on another page)

6/23/98	Integrated patch by Erick Britis Ortiz which fixed the well known
	selection box problems.  Selection boxes could only be drawn in
	one direction; now you can draw them in all directions.
	Extended patch to work with boxes, so those work as well now!
	A similar patch was provided by Jeff McNeal.  Thanks!

6/21/98	Added series_name variable to WINDOW structure.  This variable
	lets you set a series filename, especially useful when adding new
	pages

	Added series_name and untitled_name to WINDOW structure

	Added DefaultSeriesName keyword to gschemrc file

	Added UntitledName keyword to gschemrc file

	Went through and changed all the places where the above two changes
	would affect.

	Slightly changed where defaults are set and where the rc file is read
	when a new window is opened.

6/20/98	Started working on the Source Library code

	Added s_slib.c (source library)

	Added SourceLibrary keyword to the rc file

	Got basic routines in s_slib working

	Wrote s_slib_getbasename which strips extenstions and trailing _#'s
	from the filename

	Started working on s_slib_search which goes out and hunts for all
	the associated source files

	Squashed a nasty stupid bug in the parse filenames startup code
	was doing: strlen(blah+5) instead of strlen(blah)+5  (still not
	completely correct but close enough for now)

	Squashed another nasty bug, which should have been caught by the
	prototype mechanism, but I didn't update my prototype.h DOH!
	Wrong number of parameters to update_page_manager

6/14/98	Changed the way the CHANGED flag works.  Now you get a single dialog
	box saying that "there are schematics unsaved!".

	You now get one exit dialog for each window instead of the mess of
	multiple exit dialog boxes

	Added back the window grab for exit dialog boxes.

	Removed the SaveAs dialog box when you exit / create a new page /
	open a new schematic

	Modified x_window_close taking in account the above changes

	Modified exit_dialog to be larger and give a more blarring warning
	about unsaved dialog boxes.

	Removed the all tcl support; all of it was experiemental

	Found and squashed a minor memory leak, was allocating a structure
	twice

	Added code to free *all* pages when you exit the program

	Found a minor bug in above code which caused a coredump (w_current->
	page_current wasn't being reset)

	Added very prelim ability to load up *all* specified schematics
	(which are on the commandline) at startup. (try gschem *.sch in ../bin)

	Found a bug in the calling of s_page_free_all, the last parameter was
	not page_tail (it has to be)

	Added back the code which if you hit Save (not saveas) and the
	filename had an "untitled.sch" in it, you would get a SaveAs dialog
	box

	When you create a new filename the cwd is prepended to it.  (that
	wasn't the case till I added the code back to do so)

	Started work on the page manager (nothing more than a dialog box
	which makes dealing with all the open pages easier).

	Added update button and current page tracking to the page manager

	Added num_untitled counter to keep track of untitled pages (for
	uniqueness)

6/9/98	Put an #if 0 around TRUE/FALSE defines in defines.h since gtk+ 1.0.4
	defines these in glib.h now.

	Changed page mechanism so that zoom factor and zoom display is included
	in a per page structure

	Fixed a minor bug when drawing arc and the new page mechanism,
	wasn't setting up the world coord system at the right time (too late)

	Added a check to see if a schematic file exists, if it doesn't then
	do nothing else load the file.  This was causing a core dump.

	Found a few places where the HAS_TCL wasn't and hence gschem wouldn't
	compile (added the HAS_TCL #ifdef).

6/8/98	Did some more testing of the page mechanism.  Still very crude.

	Made it so that open adds a new page, instead of replacing current

6/7/98 	Got core page mechanism working.  Still need to verify free routine
	and decided on how to have pages created deleted.

6/6/98	Put scripting stuff on hold, worked on getting multi page stuff done

 - 3 weeks of no significant work :( -

5/18/98 Started experimenting with tcl and gschem, still not convinced this
	is the way to go.  Will look into guile (and swig)

5/17/98	Started adding support for tcl
		Create interp
		Delete interp

	Started adding multi page support
		Added st_page structure
		Added stub s_page routines

5/16/98	Fixed several bugs in cancel callbacks for most dialog boxs; was not
        setting event_state to select mode, but was setting status label to
	Select Mode

0.0.3
-------
5/10/98	Changed MOVE/COPY/PAN modes so that they DO NOT stay in MOVE/COPY/PAN
	Staying after execution of these modes was driving me nuts.

	Fixed a minor cosmetic bug in the saveas dialog box (wasn't updating
	the filename at the bottom of the screen)

	Fixed a nasty (been there since v0.0.1) with the creation of selection
	lists in o_move_end and o_copy_end.  prev link wasn't being set, which
	caused a segfault in o_attrib_get_name_value

	Found another bug in change_basename (x_compsel.c) which has a holdout
	from pre-multiwindow days (caused a coredump).  An incorrect pointer
	was being passed to the apply button callback (should be w_current).

5/9/98 	Quit now checks the CHANGED flag properly and prompts you to save.
	Still some weirdness with multi window quit and dialog boxes

	Went through the code and changed the interface code so that you
	stay in a mode unless you change modes (there are exceptions to this)

	Added some error condition functions (in call callback and event
	functions)

	Re-enabled the window grab on the text edit dialog box.  This might
	stay this way for a while.

	Fixed a minor bug in x_window_close_all, so that you didn't free
	the window_head node unless next was empty

	Fixed the names of menu items (New/Close Window etc...)

5/7/98	Worked a bit more on the multi window code, getting it solid

	Added a head node to window_head just to make my life easier
	( head nodes aren't deallocated and so window_head doesn't change)

	Fixed a nasty bug with the text size dialog box.  Had a variable
	entry which wasn't inited or used, but was being referenced!

	Fixed another holdover bug (from the days when null entry input
	caused gtk to coredump) in the text size dialog box

5/6/98  Fixed a few memory leaks, there are still a few, but those are in
	gtk/my code that doesn't deallocate resources which gtk provides

5/3/98 	Fixed a minor bug dealing with not having a default for
	override_net|pin_color, which caused problems when gschem
	could not find a gschemrc file.

	Fixed a minor bug dealing with sending delete events to a window,
	data parameter wasn't being passed.  (disabled both delete and
	destroy for now)

5/2/98  Finished global cleanup, gschem now builds cleanly, and seems to
	run and seems to be stable.  *All* functionality needs to be checked

	Added New window menu item

5/1/98  Continued work on global cleanup

4/29/98 Started final cleanup to remove all globals.  This involves passing
	WINDOW * to all function that require the contained variables.

	Got rid of i_vars.h file, moved contents into defines.h

4/26/98 Worked some more on new WINDOW structure (MAJOR code CHANGE)

	Got program to compile, works mostly, not completely stable yet.

4/25/98 Further reduced the number of globals in x_dialog.c

	Created the new WINDOW structure and started changing every file
	to use this new structure (MAJOR code CHANGE)

4/24/98 Typedefed st_objects, st_attrib, and st_linepts (major code change)

	Began process of figuring out which variables are getting encapsulated
	in the "per-window" and "pages" structures

4/23/98 Whole bunch of code cleanup, including making most variables consistant
        renaming a few functions.

4/20/98	Fixed Makefile.am to not include the math library (-lm) twice

0.0.2
-------
4/16/98 Tested code with GTK+ 1.0.0.  This will be the version of gtk which
	will work with gschem.

	Changed the order of init functions in main.c

	Fixed two nasty bugs that deal with the Add Attribute code
	1) wasn't properly checking for no input in the name/value boxes
	2) wasn't allocating enough memory for current_attribute.

4/15/98 Added some finishing touches to the Add Attribute dialog box and
	the code that actually does the work.

	Removed accelerator keys from popup menu.  They were misbehaving
	(sometimes the accelerator key would be reassigned a new one???)
	and this way the right mouse button popup will be smaller.

4/14/98 Worked some more on the Add Attribute dialog box

	Added AttributeName keyword to the rc file(s).  This keyword adds
	the names to the Add/Attribute dialog box.

	Started putting in the underlying code that is called by the various
	Add Attribute buttons.

	Added some low level functions to o_attrib.c to support above activity

	Changed Arc hotkey to Shift-R and added Add/Attribute as "a"

4/12/98 Added the #ifdefs to things that configure checks for (some of them)

	Disabled the very broken "get correct filename.ps" code when you
 	print something.  Right now all postscript output goes to out.ps

	Fixed a minor bug: if you are drawing a net and haven't yet placed
  	the first point and then you hit the right button a redraw is not
	needed.  (removed the redraw)

	Started to add : Add/Attribute dialog box and mechanism(s)

4/11/98 Fixed up most compiler warnings about missing prototypes and unused
	variables

	Tested code with gtk version 0.99.10
		Due to changes in this version, several changes had to occur:
			Now forcing a update of scrollbars when you startup
			Fixed dialog boxes when users enters null string

	Added scrollbar updates to open and new callback routines

	Fixed text enter, text edit, text size, translate, arc angles dialog
	boxes so that enter is equivalent to clicking OK.

	Added the ability to draw non-orthogonal nets if you press the CONTROL
	key as you are drawing the nets.  Normally you would want to draw nets
	which are orthogonal but there are exceptions to this.  NOTE: if you
	draw an non-ortho net then you cannot connect to it in the middle; you
	can only connect to it at the ends. (need to document this)

	As a result of above, a bug was found in the connection search routine.
	The fix is highly experimental so if any midpoint nets which should
	be connected are not, then e-mail the maintainers.

	Likewise added the ability to draw ortho lines by pressing the CONTROL
	key as you draw the line.   Lines are normally non-ortho, but sometimes
	it's nice to draw a prefectly straight line without being coordinated.
	(need to document this)

4/10/98 Added underlying code to implement the scrollbars

	Minor changes (asthetic code changes) to drawing window size

4/9/98  Added TextCapsStyle rcfile keyword

	Totally rewrote o_text to allow text to be any point size

	Added some code to put a few pixels inbetween each text character
	(right now turned off)

	Added text size selection dialog

	Changed Version keyword in rcfile to reflect new version (0.0.2)

	Changed default text size to be 10 point

	Removed the code that controlled (limited) text size in rcfiles

	Fixed most dialog box titles

	Fixed all example .sch files to have 10 point text labels

	Fixed postscript printing to deal with new text size system

4/7/98	Fixed minor bug with opening a file and CHANGED flag not being cleared

4/6/98	Relaxed aspectratio calculation (no more aspectratio enforcement)

	Changed default drawing area min size to 800x600

	Merged m_prims.c and m_matrix.c into m_basic.c (new file)

	Added a pixmap unref to i_callback_file_quit()

	Added call to hide file ops in all file selection dialog boxes

	Fixed searching order of rc files

	Added scroll bars to right and bottom.  Underlying code not impl.

0.0.1
-------

4/1/98	First Release to the public

pre-release
-------

3/15/98  Intergrated gtk GUI into main window

1/98    Work resumed at a almost continues pace
          First, second, third GUI's were written in XForms (detached)
          Fourth GUI was written in gtk (detached)

8/97 to 1/98    Great pause in work

7/28/97 First attempt with just an plain Xlib

7/25/97 Start of development (at least that's the date on the first backup tar)


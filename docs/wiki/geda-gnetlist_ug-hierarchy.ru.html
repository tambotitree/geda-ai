<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <link rel="stylesheet" media="screen" type="text/css" href="./style.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="./design.css" />
  <link rel="stylesheet" media="print" type="text/css" href="./print.css" />

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<a href=.>start</a>&nbsp;=>&nbsp;<a href=geda-gnetlist_ug.html>gnetlist_ug</a></br>
<div class="table sectionedit1"><table class="inline">
	<tr class="row0">
		<td class="col0 leftalign"> « <a href="geda-gnetlist_ug-basic_netlisting.ru.html" class="wikilink1" title="geda-gnetlist_ug-basic_netlisting.ru.html">Создание простых списков соединений</a>  </td><td class="col1 centeralign">  <strong><a href="geda-gnetlist_ug.ru.html" class="wikilink1" title="geda-gnetlist_ug.ru.html">Руководство пользователя gEDA gnetlist</a></strong>  </td><td class="col2 rightalign">  <a href="geda-gnetlist_ug-slotting.ru.html" class="wikilink1" title="geda-gnetlist_ug-slotting.ru.html">Секции компонентов и их использование</a> » </td>
	</tr>
</table></div>
<!-- EDIT1 TABLE [1-321] -->
<h2 class="sectionedit2" id="иерархические_схемы">Иерархические схемы</h2>
<div class="level2">

<p>
В gnetlist есть поддержка <em>иерархических схем</em>. Иерархическими называются
электрические схемы, куда в качестве <em>подсхем</em> включаются другие схемы.
Это может быть весьма удобно для проектов, где одна и та же схема
используется многократно, или для работы с какой-то схемой в нескольких
разных проектах.  В подсхемы в свою очередь могут входить другие подсхемы!
</p>

<p>
Для каждой подсхемы нужен отдельный символ, к которому она будет привязана и
который будет её представлением в схеме.  Атрибут «<code>device=</code>» для символа
подсхемы игнорируется.  Для указания имени файла электрической схемы самой
подсхемы должен использоваться атрибут «<code>source=</code>».
</p>

<p>
Символы подсхем загружаются обычным способом из библиотеки символов.
Электрические же схемы подсхем берутся из <em><a href="geda-glossary.ru.html#библиотека_исходных_данных" class="wikilink1" title="geda-glossary.ru.html">библиотек исходных данных</a></em>.
</p>
<div class="notetip"> Подробное описание того, как указать gnetlist, где искать файлы
схем для подсхем, см. в разделе <a href="geda-gnetlist_ug-config.ru.html" class="wikilink1" title="geda-gnetlist_ug-config.ru.html">Настройка gnetlist</a>.  
</div>
</div>
<!-- EDIT2 SECTION "Иерархические схемы" [323-2088] -->
<h3 class="sectionedit3" id="порты">Порты</h3>
<div class="level3">

<p>
<em>Порты</em> представляют собой выводы символа, через которые можно
подключиться к электрической схеме связанной с ним подсхемы из той схемы
проекта, где этот символ используется.  Каждому порту следует задать имя с
помощью атрибута «<code>pinlabel=</code>».  Точкой подключения порта к соединениям
внутри подсхемы gnetlist будет считать первый вывод компонента подсхемы,
атрибут «<code>refdes=</code>» которого совпадает с именем порта. Обычно для этих
целей используют символы «in-1.sym» и «out-1.sym» из раздела «Input/Output»
библиотеки символов.
</p>

</div>
<!-- EDIT3 SECTION "Порты" [2089-3029] -->
<h3 class="sectionedit4" id="переименование_компонентов_и_соединений">Переименование компонентов и соединений</h3>
<div class="level3">

<p>
К каждому из символов подсхем, находящихся в схеме, должен быть прикреплён
атрибут «<code>refdes=</code>». Он будет определять имя <em>экземпляра подсхемы</em>. При
обработке иерархической схемы уникальная идентификация компонентов и
соединений внутри каждого экземпляра подсхемы достигается в gnetlist путём
их переименования таким образом, что их новые имена содержат в качестве
префикса имя того экземпляра, к которому они относятся.
</p>

<p>
Для примера рассмотрим подсхему, содержащую компонент с атрибутом
«<code>refdes=U1</code>» и соединение с атрибутом «<code>netname=FEEDBACK</code>».
Предположим теперь, что символ подсхемы вставлен в схему и к нему прикреплён
атрибут «<code>refdes=A1</code>».  При обработке схемы gnetlist переименует компонент
в «A1/U1», а соединение — в «A1/FEEDBACK».
</p>

</div>
<!-- EDIT4 SECTION "Переименование компонентов и соединений" [3030-] --></body>
</html>
